var e={18:(e,t,n)=>{var a=n(610);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('6ac49158',a,!1,{ssrId:!0})},71:(e,t,n)=>{var a=n(679);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('628fdc01',a,!1,{ssrId:!0})},89:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.QQ_chars-panel{width:80%;background-color:white;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,0.08);padding:15px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:1000;display:flex;flex-direction:column;max-height:80%;height:auto;border:1px solid #eaeaea;color:black;.QQ_chars-form-label{color:black !important}}.QQ_chars-title{text-align:center;margin-bottom:15px;color:#2c3e50;font-weight:500;font-size:18px}.QQ_chars-role-list{margin-bottom:20px;overflow-y:auto;max-height:50%;height:auto;padding:0 10px}.QQ_chars-role-item{display:flex;align-items:center;padding:10px 0;border-bottom:1px solid #f0f0f0;transition:background-color 0.2s}.QQ_chars-role-item:hover{background-color:#f9f9f9}.QQ_chars-role-info{flex:1;display:flex;align-items:center;justify-content:space-between}.QQ_chars-role-name{font-weight:500;font-size:14px;width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.QQ_chars-role-type{font-size:12px;padding:4px 8px;border-radius:12px;color:white}.QQ_chars-type-friend{background-color:#4caf50}.QQ_chars-type-group{background-color:#2196f3}.QQ_chars-type-npc{background-color:#ff9800}.QQ_chars-type-select{width:100%;padding:4px 6px;border:1px solid #e0e0e0;border-radius:4px;font-size:12px;background-color:white;cursor:pointer}.QQ_chars-delete-btn{background-color:#f44336;color:white;border:none;padding:4px 8px;border-radius:3px;cursor:pointer;font-size:12px;margin-left:8px;transition:background-color 0.2s;height:26px}.QQ_chars-delete-btn:hover{background-color:#d32f2f}.QQ_chars-add-role-form{background-color:#f9f9f9;padding:15px;border-radius:4px;border:1px solid #eaeaea}.QQ_chars-form-title{margin-bottom:10px;color:#2c3e50;font-weight:500;font-size:14px}.QQ_chars-form-row{display:flex;margin-bottom:8px;align-items:center;justify-content:space-between}.QQ_chars-form-label{font-size:12px;width:70px}.QQ_chars-form-input,.QQ_chars-form-select{padding:5px 8px;border:1px solid #ddd;border-radius:3px;font-size:12px;width:100%}.QQ_chars-form-input:focus,.QQ_chars-form-select:focus{outline:none;border-color:#2196f3}.QQ_chars-submit-btn{background-color:#4caf50;color:white;border:none;padding:6px 12px;border-radius:3px;cursor:pointer;font-size:12px;margin-top:5px;width:100%;transition:background-color 0.2s}.QQ_chars-submit-btn:hover{background-color:#45a049}.QQ_chars-empty-state{text-align:center;padding:20px 0;color:#888}.QQ_chars-empty-text{margin-top:5px;font-size:12px}\n','']);const l=i},99:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n='',a=void 0!==t[5];return t[4]&&(n+='@supports ('.concat(t[4],') {')),t[2]&&(n+='@media '.concat(t[2],' {')),a&&(n+='@layer'.concat(t[5].length>0?' '.concat(t[5]):'',' {')),n+=e(t),a&&(n+='}'),t[2]&&(n+='}'),t[4]&&(n+='}'),n}).join('')},t.i=function(e,n,a,o,r){'string'==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&i[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]='@layer'.concat(d[5].length>0?' '.concat(d[5]):'',' {').concat(d[1],'}')),d[5]=r),n&&(d[2]?(d[1]='@media '.concat(d[2],' {').concat(d[1],'}'),d[2]=n):d[2]=n),o&&(d[4]?(d[1]='@supports ('.concat(d[4],') {').concat(d[1],'}'),d[4]=o):d[4]=''.concat(o)),t.push(d))}},t}},193:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute('nonce',t)}},226:e=>{e.exports=function(e){return e[1]}},246:(e,t,n)=>{var a=n(558);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('30ae4693',a,!1,{ssrId:!0})},315:(e,t,n)=>{var a=n(915);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('f818270c',a,!1,{ssrId:!0})},325:e=>{e.exports=function(e){var t=document.createElement('style');return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},398:(e,t,n)=>{var a=n(958);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('adde86d4',a,!1,{ssrId:!0})},424:(e,t,n)=>{function a(e,t){for(var n=[],a={},o=0;o<t.length;o++){var r=t[o],i=r[0],l={id:e+':'+o,css:r[1],media:r[2],sourceMap:r[3]};a[i]?a[i].parts.push(l):n.push(a[i]={id:i,parts:[l]})}return n}n.d(t,{A:()=>u});var o='undefined'!=typeof document;if('undefined'!=typeof DEBUG&&DEBUG&&!o)throw new Error('vue-style-loader cannot be used in a non-browser environment. Use { target: \'node\' } in your Webpack config to indicate a server-rendering environment.');var r={},i=o&&(document.head||document.getElementsByTagName('head')[0]),l=null,s=0,c=!1,d=function(){},p=null,h='data-vue-ssr-id',m='undefined'!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,t,n,o){c=n,p=o||{};var i=a(e,t);return g(i),function(t){for(var n=[],o=0;o<i.length;o++){var l=i[o];(s=r[l.id]).refs--,n.push(s)}t?g(i=a(e,t)):i=[];for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete r[s.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(v(n.parts[o]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(v(n.parts[o]));r[n.id]={id:n.id,refs:1,parts:i}}}}function f(){var e=document.createElement('style');return e.type='text/css',i.appendChild(e),e}function v(e){var t,n,a=document.querySelector('style['+h+'~="'+e.id+'"]');if(a){if(c)return d;a.parentNode.removeChild(a)}if(m){var o=s++;a=l||(l=f()),t=y.bind(null,a,o,!1),n=y.bind(null,a,o,!0)}else a=f(),t=w.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var x,b=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join('\n')});function y(e,t,n,a){var o=n?'':a.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var r=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function w(e,t){var n=t.css,a=t.media,o=t.sourceMap;if(a&&e.setAttribute('media',a),p.ssrId&&e.setAttribute(h,t.id),o&&(n+='\n/*# sourceURL='+o.sources[0]+' */',n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+' */'),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},433:(e,t,n)=>{var a=n(89);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('206dc7dd',a,!1,{ssrId:!0})},434:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.fade-enter-active[data-v-71e66e53],.fade-leave-active[data-v-71e66e53]{transition:opacity 0.2s ease}.fade-enter-from[data-v-71e66e53],.fade-leave-to[data-v-71e66e53]{opacity:0}.popup-enter-active[data-v-71e66e53],.popup-leave-active[data-v-71e66e53]{transition:opacity 0.2s ease,transform 0.2s ease}.popup-enter-from[data-v-71e66e53],.popup-leave-to[data-v-71e66e53]{opacity:0;transform:translate(-50%,-46%) scale(0.96)}.popup-enter-to[data-v-71e66e53],.popup-leave-from[data-v-71e66e53]{opacity:1;transform:translate(-50%,-50%) scale(1)}\n','']);const l=i},494:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insert\' parameter is invalid.');a.appendChild(n)}},508:(e,t,n)=>{var a=n(676);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('fb86e404',a,!1,{ssrId:!0})},522:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.fade-enter-active[data-v-0b41bf89],.fade-leave-active[data-v-0b41bf89]{transition:opacity 0.2s ease}.fade-enter-from[data-v-0b41bf89],.fade-leave-to[data-v-0b41bf89]{opacity:0}.popup-enter-active[data-v-0b41bf89],.popup-leave-active[data-v-0b41bf89]{transition:opacity 0.2s ease,transform 0.2s ease}.popup-enter-from[data-v-0b41bf89],.popup-leave-to[data-v-0b41bf89]{opacity:0;transform:translate(-50%,-46%) scale(0.96)}.popup-enter-to[data-v-0b41bf89],.popup-leave-from[data-v-0b41bf89]{opacity:1;transform:translate(-50%,-50%) scale(1)}\n','']);const l=i},537:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'[data-v-7306ef95] .slide-fade-enter-from{transform:translateX(100%);opacity:0}[data-v-7306ef95] .slide-fade-enter-to{transform:translateX(0);opacity:1}[data-v-7306ef95] .slide-fade-enter-active,[data-v-7306ef95] .slide-fade-leave-active{transition:all 0.2s ease}[data-v-7306ef95] .slide-fade-leave-active{position:absolute;inset:0}[data-v-7306ef95] .slide-fade-leave-from{transform:translateX(0);opacity:1}[data-v-7306ef95] .slide-fade-leave-to{transform:translateX(100%);opacity:0}.fade-enter-active[data-v-7306ef95],.fade-leave-active[data-v-7306ef95]{transition:opacity 0.2s ease}.fade-enter-from[data-v-7306ef95],.fade-leave-to[data-v-7306ef95]{opacity:0}.popup-enter-active[data-v-7306ef95],.popup-leave-active[data-v-7306ef95]{transition:opacity 0.2s ease,transform 0.2s ease}.popup-enter-from[data-v-7306ef95],.popup-leave-to[data-v-7306ef95]{opacity:0;transform:translate(-50%,-46%) scale(0.96)}.popup-enter-to[data-v-7306ef95],.popup-leave-from[data-v-7306ef95]{opacity:1;transform:translate(-50%,-50%) scale(1)}\n','']);const l=i},558:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.rednote-postpage-bottom{display:flex;align-items:center;width:100%;height:45px;padding:0px 10px;border-top:1px solid #f6f6f6;gap:3px}.rednote-postpage-comment{display:flex;align-items:start;gap:8px}.rednote-postpage-content::-webkit-scrollbar{display:none !important}.rednote-postpage-content{display:flex;flex:1;flex-direction:column;width:100%;overflow-y:auto;scrollbar-width:none !important;-ms-overflow-style:none !important}.rednote-postpage-top{display:flex;align-items:center;gap:8px;padding:0 10px 10px;border-bottom:1px solid #eaedf2}.rednote-postpage{background-color:white;width:100%;height:100%;padding-top:30px;display:flex;flex-direction:column}.rednote-homepage-bottom-button{color:#939393;width:3rem;font-size:16px;text-align:center}.rednote-homepage-bottom{width:100%;height:50px;display:flex;justify-content:space-evenly;align-items:center;background-color:#ffffff;border-top:1px solid #e4e4e4}.rednote-homepage-post-title{font-size:16px;text-align:start;color:black !important}.rednote-homepage-post-author{display:flex;align-items:center;gap:5px;margin-top:10px}.rednote-homepage-post-info{padding:10px}.post-img-blue{background-color:#ebe8f9}.post-img-pink{background-color:#fbe7f0}.post-img-green{background-color:#edefc8}.post-img-purple{background-color:#d9c0ff}.rednote-homepage-post-img{font-size:20px;padding:2.5rem 1.5rem;border-radius:5px;text-align:center}.rednote-homepage-post{width:100%;margin-top:5px;background-color:#ffffff;border-radius:5px;height:-moz-fit-content;height:fit-content}.rednote-homepage-content::-webkit-scrollbar{display:none !important}.rednote-homepage-content{width:100%;height:auto;flex:1;display:grid;grid-template-columns:50% 50%;gap:5px;padding:5px;overflow-y:auto;scrollbar-width:none !important;-ms-overflow-style:none !important}.rednote-homepage{width:100%;height:100%;padding-top:35px;display:flex;flex-direction:column;background-color:#f8fcfd}.rednote-homepage-top{display:flex;font-size:18px;align-items:center;justify-content:space-between;padding:0px 15px 10px;border-bottom:1px solid #e4e4e4}.rednote-homepage{letter-spacing:1px;line-height:1.4}\n','']);const l=i},586:(e,t,n)=>{var a=n(522);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('0dd52b5c',a,!1,{ssrId:!0})},610:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.QQ_chat_mymsg,.QQ_chat_charmsg{margin-bottom:var(--e7266938)}.QQ_chat_head{width:var(--e7473f22);height:var(--e7473f22);border-radius:50%;background-size:cover;min-width:var(--e7473f22)}.groupmsg{margin-top:6px}.QQ_chat_msgdiv{background-color:var(--c342d5ee);span{color:var(--64fa64f0)}font-size:var(--36ae6144)}\n','']);const l=i},676:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.edge-catcher{position:absolute;left:0;top:0;bottom:0;width:30px;touch-action:none;z-index:5}.drawer-wrap{overflow:hidden;max-height:0;transition:max-height 0.24s ease}.drawer-wrap.open{max-height:250px}.drawer-enter-active,.drawer-leave-active{transition:transform 0.24s ease,opacity 0.24s ease;will-change:transform,opacity}.drawer-enter-from,.drawer-leave-to{transform:translateY(100%);opacity:0}.drawer-enter-to,.drawer-leave-from{transform:translateY(0);opacity:1}\n','']);const l=i},679:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'@import url(https://static.zeoseven.com/zsft/59/main/result.css);']),i.push([e.id,'/*! tailwindcss v4.1.13 | MIT License | https://tailwindcss.com */.head{width:40px;height:40px;border-radius:50%;min-width:40px}.card::-webkit-scrollbar{display:none !important}.card{-ms-overflow-style:none !important;scrollbar-width:none !important;letter-spacing:0.7px;font-family:\'JiangChengYuanTi\';font-weight:normal;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:20px;box-shadow:0 4px 16px rgba(0,0,0,0.12);margin-left:5px;box-sizing:border-box;z-index:99;border:4px solid black;overflow:hidden}.card-int{background-size:200% 200%;background-position:0% 0%;height:100%;transition:all 0.6s ease-out;overflow:hidden;box-sizing:border-box;position:relative;display:flex;flex-direction:column}.card:hover .card-int{background-position:100% 100%}#App_Page{background-size:200% 200%;background-position:0% 0%;height:100%;transition:all 0.6s ease-out;overflow:hidden;box-sizing:border-box;position:relative;flex:1}.top{position:absolute;top:0px;right:50%;transform:translate(50%,0%);width:80px;height:10px;border-bottom-left-radius:16px;border-bottom-right-radius:16px;z-index:9999999;background-color:black}.speaker{position:absolute;top:2px;right:50%;transform:translate(50%,0%);width:40%;height:2px;border-radius:2px;background-color:rgb(20,20,20)}.camera{position:absolute;top:6px;right:84%;transform:translate(50%,0%);width:6px;height:6px;border-radius:50%;background-color:rgba(255,255,255,0.048)}.int{position:absolute;width:3px;height:3px;border-radius:50%;top:50%;right:50%;transform:translate(50%,-50%);background-color:rgba(0,0,255,0.212)}.btn1,.btn2,.btn3,.btn4{position:absolute;width:2px}.btn1,.btn2,.btn3{height:45px;top:30%;right:-4px}.btn2,.btn3{transform:scale(-1);left:-4px}.btn2,.btn3{transform:scale(-1);height:30px}.btn2{top:26%}.btn3{top:36%}.hidden{display:block;opacity:0;transition:all 0.3s ease-in}.card:hover .hidden{opacity:1}.card:hover .hello{transform:translateY(-20px)}.btn{position:absolute;width:2px}.backdiv{background-color:white;height:100%;width:100%;position:relative;background-size:cover;background-position:top center;background-repeat:no-repeat;background-image:url(\'http://sharkpan.xyz/f/6osR/00005-660646865.png\');box-sizing:border-box}.dibu{position:absolute;bottom:40px;left:3%;right:3%;background-color:black;height:auto;display:flex;align-items:center;justify-content:space-around;padding:0 5px 0 5px;border-radius:30px;--a:10px;background-color:rgba(255,255,255,0.2);backdrop-filter:blur(var(--a));-webkit-backdrop-filter:blur(var(--a))}.dibu svg{transform:scale(0.85);transform-origin:center}.dinbu{position:absolute;top:6px;left:10px;right:10px;color:#626367;display:flex;align-items:center;justify-content:space-between;z-index:9999999}.zhong{position:absolute;border-radius:20px;--a:3px;background-color:rgba(255,255,255,0.2);backdrop-filter:blur(var(--a));-webkit-backdrop-filter:blur(var(--a));top:30%;left:4%;right:4%;color:black;padding:10px 15px 10px 10px;font-size:32px;display:flex;align-items:center;justify-content:space-between;letter-spacing:2px}.app{position:absolute;bottom:120px;left:4%;right:4%;display:flex;align-items:center;justify-content:space-evenly;color:black;box-sizing:border-box;max-width:92%;flex-wrap:wrap}.app-svg-div{max-width:20%;transform:scale(0.8);transform-origin:center}.QQ_home_head{border-radius:50%;margin-right:10px;width:40px;height:40px;font-size:0;min-width:40px;background-size:cover}.QQ_home_usermsg{--head_size:40px;width:100%;display:flex;font-size:14px;height:60px;align-items:center;position:relative}.QQ_home_usermsg>*{position:relative;z-index:1}.QQ_home_usermsg:active::before{content:\'\';position:absolute;top:0;left:-10px;right:-10px;height:100%;background-color:#d5d5d5}.QQ_home_usermsg_new{background-color:red;border-radius:50%;width:17px;height:17px;color:white;display:flex;align-items:center;justify-content:center;font-size:13px;justify-self:end;padding:2px}.QQ_home_usermsg_new_hidden{background-color:#dbdbdb;border-radius:10px;width:2rem;height:17px;color:white;display:flex;align-items:center;justify-content:center;font-size:13px;justify-self:end;padding:2px}.QQ_bottom_nav{position:absolute;bottom:0px;width:100%;height:40px;display:flex;align-items:center;justify-content:space-evenly;font-size:10px;background-color:white}body div{box-sizing:border-box !important}.page_button{display:flex;align-items:center;justify-content:space-evenly;width:100%;z-index:99;bottom:0px;left:0;height:22px;box-sizing:border-box;padding-bottom:4px}@media (max-width:768px){.zhong{font-size:20px}.card{aspect-ratio:1/1.5}}#space_page{width:100%;height:820px;background-color:#ffffff;display:none}.user_moment_title{--head_size:40px;width:100%;display:flex;font-size:14px;align-items:start;margin-bottom:5px}.user_moment{padding-left:7px;padding-right:7px;position:relative}.moment_button{display:flex;align-items:center;gap:5px;margin-left:auto;transform:scale(0.9);transform-origin:center}.moment_msg{background-color:#ffffff;margin-top:5px;max-width:60%;border-radius:7px;font-size:15px;padding:6px;width:-moz-fit-content;width:fit-content;white-space:normal;letter-spacing:1px;line-height:1.4;margin-bottom:10px;box-shadow:1px 1px 2px rgba(32,32,32,0.2)}#Home_page{width:100%;height:100%;background-image:url(\'http://sharkpan.xyz/f/nBUl/%E6%89%8B%E6%9C%BA%E5%A3%81%E7%BA%B82.jpg\');background-size:cover;background-position:top center;background-repeat:no-repeat}.user_avatar{width:40px;height:40px;border-radius:50%;background-size:cover}.QQ_chat_msg{font-size:14px;margin-right:5px;margin-left:5px}.QQ_chat_mymsg{max-width:70%;margin-left:auto;display:grid;grid-template-columns:1fr auto;gap:10px;grid-template-rows:auto auto;justify-items:end;text-align:right;align-items:start;margin-right:11px}.QQ_chat_charmsg{max-width:70%;display:grid;grid-template-columns:auto 1fr;gap:10px;grid-template-rows:auto auto;align-items:start;margin-left:10px}.QQ_chat_msgdiv{box-shadow:0 1px 3px rgba(0,0,0,0.06);line-height:1.4;width:-moz-fit-content;width:fit-content;color:black;border-radius:8px;padding:7px;text-align:left;box-sizing:border-box;margin-left:-2px}.QQ_chat_name{font-size:13px;color:black}.QQ_chat_msgimg{width:100%;background-color:white;min-width:100%}.msgimg{max-width:100%;height:auto;display:block;width:100%;min-width:100%}.QQ_chat_time{display:flex;align-items:center;justify-content:center;width:100%;height:10px;margin-bottom:10px;color:#a1a1a1}.mimictwitter hr{background-color:rgb(240,244,245);border:none;height:1px}.twitterhead{width:45px;height:45px;border-radius:50%;margin-left:4px;min-width:45px}.interactsvg{width:15.5px;height:15.5px}.twitter-content{flex:1;overflow-y:auto;box-sizing:border-box;padding-top:10px;padding-right:3px}.mimictwitter{background-color:white;width:100%;max-width:100%;border-radius:10px;height:100%;box-sizing:border-box;padding-top:10px;display:flex;flex-direction:column;position:relative;overflow-x:hidden}.twitter{overflow-x:hidden;font-size:16px;height:100%}.twitter_moment{display:grid;grid-template-columns:50px 1fr 0px;grid-template-rows:auto auto}img{box-sizing:border-box !important}*{box-sizing:border-box}.user_leave_message{font-size:13px;margin-top:7px;display:flex;flex-direction:column;span{line-height:1.5}}.space_contents{scrollbar-width:none;-ms-overflow-style:none}.give_money{border-radius:8px;overflow:hidden;width:min(220px,100%)}#QQ_home_chars{background-color:#fefefe;width:100%;flex:1;border-radius:20px 20px 0 0;padding:5px 10px 20px 10px;box-sizing:border-box;overflow:auto !important;-ms-overflow-style:none !important;scrollbar-width:none !important;margin-bottom:40px}#QQ_home_chars::-webkit-scrollbar{display:none !important}#QQ_home_page{display:flex;flex-direction:column;height:100%}span{word-break:break-word}.QQ_chat_music{background-color:#fefefe;border-radius:10px;padding-top:10px;padding-right:10px;padding-left:10px;padding-bottom:5px;width:100%}.hide-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.music-play-button{position:absolute;border-radius:50%;background-color:#ffffff49;height:32px;width:32px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;border:2px solid white;display:flex;justify-content:center;align-items:center}.space_fakeimg{margin-top:5px;font-size:1.2rem;background-color:rgb(239 237 238);padding:30px 10px;width:100%;border:1px solid black;border-radius:5px;text-align:center}.QQ_home_lasttime{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:4rem}.emoji_container{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;padding:10px 10px;width:100%;height:100%;overflow-y:auto}.emoji_container::-webkit-scrollbar{display:none !important}.emoji_container_img{width:100%;aspect-ratio:1/1;object-fit:cover;border:1px dashed rgb(215,213,213)}.input_container{display:flex;flex-direction:column;gap:25px;width:100%;height:100%;padding:20px;background-color:#f9f9f9;justify-content:center}.input_container span{color:#333;font-weight:600;font-size:1.1em}.input_container input[type=\'text\']{width:100%;box-sizing:border-box;background-color:#ffffff;border:1px solid #dcdcdc;border-radius:6px;padding:10px 12px;color:#333;outline:none;font-size:1em;transition:border-color 0.3s ease,box-shadow 0.3s ease}.input_container input[type=\'text\']:focus{border-color:#8cb4ff;box-shadow:0 0 8px rgba(140,180,255,0.4)}.input_container button{width:100%;padding:12px 18px;border:none;border-radius:6px;color:white;font-weight:bold;cursor:pointer;background:linear-gradient(135deg,#89f7fe,#66a6ff);transition:all 0.3s ease;box-shadow:0 2px 5px rgba(0,0,0,0.1);font-size:1em}.input_container button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(102,166,255,0.5)}.input_container button:active{transform:translateY(0);box-shadow:0 1px 3px rgba(0,0,0,0.1)}.baibai_regexBubble{padding:20px 0px 10px;.QQ_chat_music{max-width:min(300px,100%)}}.baibai_regexRedNote{max-width:min(200px,100%)}.card{height:var(--250c7fc1);width:var(--0c75f828);min-width:var(--0c75f828);min-height:var(--250c7fc1);letter-spacing:1px;line-height:1.4}.top{touch-action:none}.btn1,.btn2,.btn3{background-color:var(--b9767448)}.user_avatar{background-image:var(--33c7f250)}\n','']);const l=i},685:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.QQ_chat_page{padding-top:10px;background-color:rgb(244,245,246);width:100%;height:100%;background-size:cover;background-repeat:no-repeat;background-position:top center;display:flex;flex-direction:column;overflow-y:auto;box-sizing:border-box;position:relative;overflow-x:hidden}.input-container{max-width:100%;bottom:0px;left:0;width:100%;border-bottom-right-radius:10px;border-bottom-left-radius:10px;box-sizing:border-box;padding:10px 0 5px 0;border-top:1px solid black}.msgcontent{flex:1;overflow-y:auto;box-sizing:border-box;scrollbar-width:none !important;-ms-overflow-style:none !important}.msgcontent::-webkit-scrollbar{display:none !important}.userInput{font:inherit;height:30px;border-radius:8px;letter-spacing:0.7px;width:100%;padding-left:10px;padding-right:10px;border:1px solid rgb(0,0,0,0.5)}.chat-setting-popup{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;max-width:350px;max-height:80%;background-color:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.2);z-index:1000;display:flex;flex-direction:column;color:black}.chat-setting-header{padding:15px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.chat-setting-header span{font-weight:bold;font-size:16px}.close-setting-btn{cursor:pointer}.chat-setting-content{padding:15px;display:flex;flex-direction:column;gap:15px;overflow-y:auto}.setting-item{display:flex;justify-content:space-between;align-items:center;gap:10px}.setting-item span{font-size:14px}.setting-item input[type=\'text\']{flex:1;padding:5px;border:1px solid #ccc;border-radius:5px}.setting-item input[type=\'number\']{flex:1;padding:5px;border:1px solid #ccc;border-radius:5px}.setting-item textarea{flex:1;padding:5px;border:1px solid #ccc;border-radius:5px}.color-picker{width:30px;height:30px;padding:0;border:1px solid #ccc;border-radius:3px;cursor:pointer}.chat-setting-footer{padding:10px 15px;text-align:right;border-top:1px solid #eee}.chat-setting-footer button{padding:6px 15px;margin-left:10px;border:none;border-radius:5px;cursor:pointer}#save-setting-btn{background-color:#019aff;color:white}.pickfile-setting-btn{background-color:#68baf0;color:white;border:none;border-radius:5px;padding:3px 7px}#cancel-setting-btn{background-color:#f5f5f5;color:#333}.popup-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:999}.QQ_chat_fakeimg{width:100%;background-color:white;aspect-ratio:1/1;padding:5px 18px 0 20px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.3em;-ms-overflow-style:none !important;scrollbar-width:none !important;text-align:center}.QQ_chat_fakeimg::-webkit-scrollbar{display:none !important}.QQ_chat_fakeimg div{max-height:100%;display:flex;align-items:flex-start;overflow-y:auto;-ms-overflow-style:none !important;scrollbar-width:none !important}.QQ_chat_fakeimg div::-webkit-scrollbar{display:none !important}.QQ_chatpage_function{margin-top:7px;width:100%;height:30px;display:flex;background-color:transparent;align-items:center;justify-content:space-around}.QQ_chatpage_function svg{fill:#2c2c2c}.QQ_chatpage_function svg.svg_selected{fill:#2396e9}.QQ_chat_username{margin-left:8px;color:#000;font-size:14px;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-bar-wrap{--bg:#f2f3f5;--bar-height:56px;--radius:8px;--icon:#9aa0a6;--icon-hover:#7b838c;--text:#333;--hint:#9aa0a6;--send:#4a90e2;--send-hover:#3f7fca;--shadow:0 -1px 3px rgba(0,0,0,0.05);--inner-shadow:0 1px 2px rgba(0,0,0,0.04);background:var(--bg);box-shadow:var(--shadow)}.chat-bar{max-width:720px;margin:0 auto;height:var(--bar-height);display:flex;align-items:center;gap:10px;padding:8px 12px}.icon-btn{appearance:none;-webkit-appearance:none;border:0;background:transparent;padding:8px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background 0.15s ease,color 0.15s ease,opacity 0.15s ease;color:var(--icon)}.icon-btn:hover{background:rgba(0,0,0,0.04);color:var(--icon-hover)}.icon-btn:active{transform:translateY(0.5px)}.icon{width:22px;height:22px;display:block}.input-shell{flex:1;display:flex;align-items:center;background:#fff;border-radius:var(--radius);padding:10px 12px;box-shadow:var(--inner-shadow);min-width:0}.input-shell input{flex:1;border:0;outline:0;font-size:15px;line-height:20px;color:var(--text);background:transparent;min-width:0}.input-shell input::placeholder{color:var(--hint)}.send-btn{appearance:none;-webkit-appearance:none;border:0;height:36px;padding:0 12px;border-radius:8px;background:var(--send);color:#fff;font-weight:600;display:inline-flex;align-items:center;gap:8px;cursor:pointer;transition:background 0.15s ease,opacity 0.15s ease}.send-btn .plane{width:16px;height:16px}.send-btn:hover{background:var(--send-hover)}.send-btn:disabled{opacity:0.5;cursor:not-allowed}.send-btn.active{transform:translateY(1px)}@media (max-width:360px){:root{--bar-height:52px}.icon{width:20px;height:20px}.send-btn{height:34px;padding:0 10px}}.chat-bar-wrap.is-mobile{--bar-height:50px;--shadow:0 -1px 2px rgba(0,0,0,0.04)}.chat-bar-wrap.is-mobile .chat-bar{padding:6px 10px;gap:8px}.chat-bar-wrap.is-mobile .input-shell{padding:8px 10px}.chat-bar-wrap.is-mobile .icon{width:20px;height:20px}.chat-bar-wrap.is-mobile .icon-btn{padding:6px;border-radius:8px}.chat-bar-wrap.is-mobile .send-btn{height:32px;padding:0 10px;border-radius:6px}\n','']);const l=i},772:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}},782:e=>{e.exports=function(e){if('undefined'==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a='';n.supports&&(a+='@supports ('.concat(n.supports,') {')),n.media&&(a+='@media '.concat(n.media,' {'));var o=void 0!==n.layer;o&&(a+='@layer'.concat(n.layer.length>0?' '.concat(n.layer):'',' {')),a+=n.css,o&&(a+='}'),n.media&&(a+='}'),n.supports&&(a+='}');var r=n.sourceMap;r&&'undefined'!=typeof btoa&&(a+='\n/*# sourceMappingURL=data:application/json;base64,'.concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),' */')),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},842:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},874:(e,t,n)=>{var a=n(434);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('68e75e2a',a,!1,{ssrId:!0})},915:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.home-page[data-v-1e62f285]{width:100%;height:100%;padding:36px 20px 44px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;background:linear-gradient(180deg,#f5f6ff 0%,#ffffff 60%,#f2f4ff 100%)}.home-status[data-v-1e62f285]{display:flex;flex-direction:column;gap:4px;color:#1f1f1f}.home-status__top[data-v-1e62f285]{display:flex;align-items:center;justify-content:space-between;gap:16px}.home-status__time[data-v-1e62f285]{font-size:60px;font-weight:600;letter-spacing:1px}.home-status__date[data-v-1e62f285]{font-size:16px;color:#6d6d6d}.home-icons[data-v-1e62f285]{display:flex;flex-wrap:wrap;gap:32px 24px;margin-top:16px;flex:1;justify-content:flex-start;align-content:flex-start}.home-icon[data-v-1e62f285]{display:flex;flex-direction:column;align-items:center;gap:10px;background:none;border:none;cursor:pointer;padding:0}.home-icon[data-v-1e62f285]:focus-visible{outline:2px solid rgba(24,144,255,0.4);outline-offset:4px;border-radius:20px}.home-icon__badge[data-v-1e62f285]{width:72px;height:72px;min-width:72px;border-radius:20px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;letter-spacing:1px;box-shadow:0 8px 22px rgba(0,0,0,0.1);color:#ffffff}.home-icon__symbol[data-v-1e62f285]{width:30px;height:30px;fill:#ffffff}.home-icon--settings .home-icon__badge[data-v-1e62f285]{background:linear-gradient(150deg,#a9b4c6 0%,#5e6a7a 90%)}.home-icon--qq .home-icon__badge[data-v-1e62f285]{background:linear-gradient(150deg,#2eb5ff 0%,#007bea 80%)}.home-icon--rednote .home-icon__badge[data-v-1e62f285]{background:linear-gradient(150deg,#ff6178 0%,#f32045 90%)}.home-icon__label[data-v-1e62f285]{font-size:14px;color:#353535;letter-spacing:0.5px}.home-dock[data-v-1e62f285]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:12px}.home-dock__icons[data-v-1e62f285]{display:flex;align-items:center;justify-content:center;gap:24px}.home-dock__indicator[data-v-1e62f285]{width:120px;height:5px;border-radius:999px;background:rgba(0,0,0,0.1)}.home-dock__app[data-v-1e62f285]{width:56px;height:56px;border:none;border-radius:18px;display:flex;align-items:center;justify-content:center;cursor:default;box-shadow:0 6px 14px rgba(0,0,0,0.14);transition:transform 0.15s ease}.home-dock__app[data-v-1e62f285]:active{transform:scale(0.96)}.home-dock__app-icon[data-v-1e62f285]{width:26px;height:26px;fill:#ffffff}.home-dock__app--phone[data-v-1e62f285]{background:linear-gradient(150deg,#3ddc97 0%,#00a86b 90%)}.home-dock__app--message[data-v-1e62f285]{background:linear-gradient(150deg,#4facfe 0%,#00f2fe 90%)}.home-dock__app--browser[data-v-1e62f285]{background:linear-gradient(150deg,#7f53ac 0%,#647dee 90%)}.home-dock__app--camera[data-v-1e62f285]{background:linear-gradient(150deg,#ff9966 0%,#ff5e62 90%)}\n','']);const l=i},921:(e,t,n)=>{var a=n(537);a.__esModule&&(a=a.default),'string'==typeof a&&(a=[[e.id,a,'']]),a.locals&&(e.exports=a.locals);(0,n(424).A)('41e68deb',a,!1,{ssrId:!0})},958:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(226),o=n.n(a),r=n(99),i=n.n(r)()(o());i.push([e.id,'.space_emoji{width:100%;aspect-ratio:1;background-size:cover;background-repeat:no-repeat;border:1px solid rgb(215,213,213);margin-top:5px;border-radius:5px}\n','']);const l=i},993:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var r={},i=[],l=0;l<e.length;l++){var s=e[l],c=a.base?s[0]+a.base:s[0],d=r[c]||0,p=''.concat(c,' ').concat(d);r[c]=d+1;var h=n(p),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)t[h].references++,t[h].updater(m);else{var u=o(m,a);a.byIndex=l,t.splice(l,0,{identifier:p,updater:u,references:1})}i.push(p)}return i}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=a(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var l=n(r[i]);t[l].references--}for(var s=a(e,o),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=s}}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={id:a,exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.nc=void 0;const a=Vue,o='http://sharkpan.xyz/f/EJeUD/Image_1737026320652.jpg\r\nhttp://sharkpan.xyz/f/Y8pt1/Image_1737026296736.jpg\r\nhttp://sharkpan.xyz/f/QWWc6/Image_1737026308451.jpg\r\nhttp://sharkpan.xyz/f/Z8LIW/Image_1737026306601.jpg\r\nhttp://sharkpan.xyz/f/W8lhW/Image_1737026313246.jpg\r\nhttp://sharkpan.xyz/f/0rJtX/Image_1737026292787.jpg\r\nhttp://sharkpan.xyz/f/yVxsN/Image_1737026293840.jpg\r\nhttp://sharkpan.xyz/f/vaBCL/Image_1737026286979.jpg\r\nhttp://sharkpan.xyz/f/pZ6hQ/Image_1737026285632.jpg\r\nhttp://sharkpan.xyz/f/11AH2/Image_1737026284351.jpg\r\nhttp://sharkpan.xyz/f/eXKUw/Image_1737026281715.jpg\r\nhttp://sharkpan.xyz/f/o31F4/Image_1737026277201.jpg\r\nhttp://sharkpan.xyz/f/8E2uj/Image_1737026279242.jpg\r\nhttp://sharkpan.xyz/f/GLmIl/Image_1737026275069.jpg\r\nhttp://sharkpan.xyz/f/zWZT5/Image_1737026271769.jpg\r\nhttp://sharkpan.xyz/f/7Zrij/Image_1737026269532.jpg\r\nhttp://sharkpan.xyz/f/AqYsZ/Image_1737026266131.jpg\r\nhttp://sharkpan.xyz/f/w4lFq/2406563368.jpeg\r\nhttp://sharkpan.xyz/f/MQNua/2403629154.jpeg\r\nhttp://sharkpan.xyz/f/3YZhe/2405854911.jpeg\r\nhttp://sharkpan.xyz/f/5QKhj/2312445144.jpeg\r\nhttp://sharkpan.xyz/f/k6JT6/2408434848.jpeg\r\nhttp://sharkpan.xyz/f/j6Bf6/2386328773.jpeg\r\nhttp://sharkpan.xyz/f/a8LHY/2386327598.jpeg\r\nhttp://sharkpan.xyz/f/r08C6/2386327604.jpeg\r\nhttp://sharkpan.xyz/f/DgECK/2331678725.jpeg\r\nhttp://sharkpan.xyz/f/LJrC7/2371251634.jpeg\r\nhttp://sharkpan.xyz/f/q1LF3/2329660869.gif\r\nhttp://sharkpan.xyz/f/X84sW/2328035526.jpeg\r\nhttp://sharkpan.xyz/f/2eDfQ/2326662447.jpeg\r\nhttp://sharkpan.xyz/f/ggetw/2326683821.jpeg\r\nhttp://sharkpan.xyz/f/J21ig/2323432137.gif\r\nhttp://sharkpan.xyz/f/BZjSa/%E5%A4%B4%E5%83%8F%20%282%29.jpg\r\nhttp://sharkpan.xyz/f/4rXIj/%E5%A4%B4%E5%83%8F%20%283%29.jpg\r\nhttp://sharkpan.xyz/f/Ndyhv/%E5%A4%B4%E5%83%8F%20%281%29.jpg\r\nhttp://sharkpan.xyz/f/VyJTY/%E5%A4%B4%E5%83%8F%20%284%29.jpg\r\nhttp://sharkpan.xyz/f/xlAhX/%E5%A4%B4%E5%83%8F%20%2820%29.jpg\r\nhttp://sharkpan.xyz/f/dDMI8/%E5%A4%B4%E5%83%8F%20%285%29.jpg\r\nhttp://sharkpan.xyz/f/lm7hx/%E5%A4%B4%E5%83%8F%20%286%29.jpg\r\nhttp://sharkpan.xyz/f/KkeHo/%E5%A4%B4%E5%83%8F%20%287%29.jpg\r\nhttp://sharkpan.xyz/f/EeZSD/%E5%A4%B4%E5%83%8F%20%288%29.jpg\r\nhttp://sharkpan.xyz/f/YyAi1/%E5%A4%B4%E5%83%8F%20%289%29.jpg\r\nhttp://sharkpan.xyz/f/QdaU6/%E5%A4%B4%E5%83%8F%20%2810%29.jpg\r\nhttp://sharkpan.xyz/f/ZKBuW/%E5%A4%B4%E5%83%8F%20%2811%29.jpg\r\nhttp://sharkpan.xyz/f/01AUX/%E5%A4%B4%E5%83%8F%20%2814%29.jpg\r\nhttp://sharkpan.xyz/f/ylpsN/%E5%A4%B4%E5%83%8F%20%2813%29.jpg\r\nhttp://sharkpan.xyz/f/vNpiL/%E5%A4%B4%E5%83%8F%20%2815%29.jpg\r\nhttp://sharkpan.xyz/f/pLQhQ/%E5%A4%B4%E5%83%8F%20%2816%29.jpg\r\nhttp://sharkpan.xyz/f/1QZh2/%E5%A4%B4%E5%83%8F%20%2817%29.jpg\r\nhttp://sharkpan.xyz/f/eqBSw/%E5%A4%B4%E5%83%8F%20%2818%29.jpg\r\nhttp://sharkpan.xyz/f/oDQI4/%E5%A4%B4%E5%83%8F%20%2819%29.jpg\r\nhttp://sharkpan.xyz/f/L5xwI7/p560183288.webp\r\nhttp://sharkpan.xyz/f/q0aJF3/p561777545.webp\r\nhttp://sharkpan.xyz/f/XdomSW/p561777547.webp\r\nhttp://sharkpan.xyz/f/24zATQ/p561777549.webp',r='#在此存放表情包列表,加载一次界面后会自动修改格式世界书里的内容,请按示例格式存放\r\n此世界书同样需要一起绑定导出,否则无法使用表情包功能\r\n\r\n你敢顶嘴--http://sharkpan.xyz/f/vVBtL/mmexport1737057690899.png\r\n免礼,平身--http://sharkpan.xyz/f/pO6uQ/mmexport1737057701883.png\r\n你走吧--http://sharkpan.xyz/f/1vAc2/mmexport1737057678306.png\r\n我很满意--http://sharkpan.xyz/f/e8KUw/mmexport1737057664689.png\r\n揍你哦--http://sharkpan.xyz/f/oJ1i4/mmexport1737057862640.gif\r\n你是坏蛋--http://sharkpan.xyz/f/8r2Sj/mmexport1737057726579.png\r\n关心你--http://sharkpan.xyz/f/Gvmil/mmexport1737057801285.gif\r\n撞飞你--http://sharkpan.xyz/f/zMZu5/mmexport1737057848709.gif\r\n送你一个剪纸爱心--http://sharkpan.xyz/f/53nhj/345FFC998474F46C1A40B1567335DA03_0.gif\r\n飞奔过来--http://sharkpan.xyz/f/kDOi6/0A231BF0BFAB3C2B243F9749B64F7444_0.gif\r\n流口水--http://sharkpan.xyz/f/j36f6/3010464DF8BD77B4A99AB23730F2EE57_0.gif\r\n跟着音乐开心跳舞--http://sharkpan.xyz/f/aVwtY/0CBEE9105C7A98E0E6162A79CCD09EFA_0.gif\r\n开心扭动--http://sharkpan.xyz/f/rOpu6/9277120A65282CFEAB9E191B34474729_0.gif\r\n擦地板--http://sharkpan.xyz/f/DnJHK/F12BF133675BA34684A60CF38E17D328_0.gif\r\n打招呼，你好呀！--http://sharkpan.xyz/f/LgwT7/AC229A80203166B292155ADA057DE423_0.gif\r\n乖巧主动带上项圈--http://sharkpan.xyz/f/qJJI3/E7B02761D317A00B912F328AA9F02565_0.gif\r\n可怜兮兮--http://sharkpan.xyz/f/XgmcW/817B66DAB2414E1FC8D717570A602193_0.gif\r\n送你礼物--http://sharkpan.xyz/f/2aACQ/A491786010A6E595A84B9F4D4EE58B27_0.gif\r\n委屈哭泣--http://sharkpan.xyz/f/gVySw/D90D0B53802301FCDB1F0718DEB08C79_0.gif\r\n欢呼雀跃--http://sharkpan.xyz/f/JXeig/68FD6090F0D187FC88794909AA4E4C30_0.gif\r\n脏兮兮的狼狈样子--http://sharkpan.xyz/f/O6msy/897713F074EF610881EFD9A4D993B7DA_0.gif\r\n趴在枕头上休息一下--http://sharkpan.xyz/f/6Mzua/7AF42F3AE5EA01AEDBA5A3C7437339FA_0.gif\r\n开心吃面包--http://sharkpan.xyz/f/nX5sl/Camera_1040g34o313t1veosi60g4almcsqnoumhanf8f98.jpg\r\n害羞地跳舞--http://sharkpan.xyz/f/mqdcW/Camera_1040g34o313t1verti60g4almcsqnoumhepqc530.jpg\r\n认真看菜谱--http://sharkpan.xyz/f/BODsa/Camera_1040g0k0313t1vf2k1e004almcsqnoumhblfs9o0.jpg\r\n害羞想要表达喜欢--http://sharkpan.xyz/f/4Mdfj/IMG_20250131_212918.jpg\r\n激动亲亲--http://sharkpan.xyz/f/NOVuv/Camera_XHS_17383302852781040g2sg31a0ceua57idg4a11eo5c0eoqn8udogg.jpg\r\n水汪汪的大眼睛--http://sharkpan.xyz/f/VXnTY/Camera_XHS_17383302891351040g2sg31a0ceua57icg4a11eo5c0eoq7j77fu0.jpg\r\n嫁给我，最爱你--http://sharkpan.xyz/f/xkmFX/Camera_XHS_17383302941971040g2sg31a0ceua57ia04a11eo5c0eoql8q50vg.jpg\r\n乖巧站立--http://sharkpan.xyz/f/dlyH8/Camera_XHS_17383303028511040g00831aqhfp8fna405pf08cqh97tb5qhsf6o.jpg\r\n剪刀手比耶--http://sharkpan.xyz/f/lrNCx/Camera_XHS_17383303062101040g00831aqhfp8fna4g5pf08cqh97tbcoki8f8.jpg\r\n真棒！竖大拇指--http://sharkpan.xyz/f/K2Oto/Camera_XHS_17383303090201040g00831aqhfp8fna505pf08cqh97tbo91bmno.jpg\r\n小猫献上一盘鱼赔罪--http://sharkpan.xyz/f/Qm1H6/Camera_XHS_17383303303421040g2sg3189ite3a3ujg5ofl7bm417a4rcgd0bg.jpg\r\n小猫害羞捂嘴--http://sharkpan.xyz/f/ZOmuW/Camera_XHS_17383303329411040g2sg3189ite3a3uj05ofl7bm417a4kppd5v8.jpg\r\n小猫哭泣等待投喂--http://sharkpan.xyz/f/W2BfW/Camera_XHS_17383303352131040g2sg3189ite3a3uhg5ofl7bm417a4psbct30.jpg\r\n请多指教--http://sharkpan.xyz/f/0MjhX/Camera_XHS_17383303606011040g00831bogh2040u104ag8aht6f2mpkhq67r0.jpg\r\n保持联络哦--http://sharkpan.xyz/f/yk4HN/Camera_XHS_17383303659031040g00831bogh2040u2g4ag8aht6f2mpeus4ul8.jpg\r\n不要忘记哦--http://sharkpan.xyz/f/vBDIL/Camera_XHS_17383303686641040g00831bogh2040u304ag8aht6f2mppr4gni0.jpg\r\n开心！开心！--http://sharkpan.xyz/f/pg1IQ/Camera_XHS_17383303710381040g00831bogh2040u3g4ag8aht6f2mpf2epg78.jpg\r\n耶！--http://sharkpan.xyz/f/1MjS2/Camera_XHS_17383303739941040g00831bogh2040u4g4ag8aht6f2mpik7q0ag.jpg\r\n没关系，不要紧--http://sharkpan.xyz/f/erOSw/Camera_XHS_17383303793581040g00831bogh2040u604ag8aht6f2mpo9j26l0.jpg\r\n小老鼠喝饮料--http://sharkpan.xyz/f/8Mgij/Camera_XHS_17383305816431040g00831bv6at85gm6g5n6lbcu5s4aorps5mr8.jpg\r\n委屈地嘟起嘴--http://sharkpan.xyz/f/713sj/307F8B36E1F2A49573E6562193AA71BF_0.gif\r\n垂死梦中惊坐起--http://sharkpan.xyz/f/ADwCZ/04A8CC14F4C317F5E0DA84AD2A8BE1FF_0.gif\r\n小猫快速奔跑--http://sharkpan.xyz/f/wqghq/B8578FD25ED069B8AF1B0AC35F20770B_0.gif\r\n尴尬的动了动耳朵--http://sharkpan.xyz/f/M4OUa/DA8F0F3F2B2C1F567258724B9EA59623_0.gif\r\n激动地摇摆--http://sharkpan.xyz/f/30lHe/1507DB48EFC13593A4766C51F33BFC1C_0.gif\r\n双手叉腰--http://sharkpan.xyz/f/5xnSj/9B6915837A055D7EF9CE0DD18BC0E60F_0.jpg\r\n小猫偷看你--http://sharkpan.xyz/f/kXOI6/C0FC1927068E1F87D38FA09B7F51F830_0.gif\r\n小猫开心的跳跃起来--http://sharkpan.xyz/f/jq6H6/413DB04EE36F940E3381C99402CE2E44_0.gif\r\n开心的双手舞动--http://sharkpan.xyz/f/aJwtY/11BB0DE666912CED03486468EA5DB258_0.gif\r\n无理取闹，原地打滚--http://sharkpan.xyz/f/rmpI6/7D87F6F45B1AEDAABC0EF119E977732F_0.gif\r\n害怕地哭泣打滚--http://sharkpan.xyz/f/DXJcK/E419CF47415150B8CBADD767F09017C9_0.gif\r\n努力工作--http://sharkpan.xyz/f/LBwS7/6251D891E0E3FB87FCDC50BECCCD4559_0.gif\r\n加油！--http://sharkpan.xyz/f/qnJt3/19650FABB205847C0D505FF2B361B194_0.gif\r\n得意的跳舞--http://sharkpan.xyz/f/XmmcW/B7973C500D9E981A083A5F3E75CF198A_0.gif\r\n我准备好啦！--http://sharkpan.xyz/f/2ZAFQ/F0A74F31B23E7C20AB50B4A960344056_0.gif\r\n再坚持一下--http://sharkpan.xyz/f/g4yCw/CF6BE01FF89BB72BE179A537104984A5_0.gif\r\n尖叫--http://sharkpan.xyz/f/JneTg/3ED8B290F429F8FCC5D533CCC0568086_0.gif\r\n惊吓得一抖--http://sharkpan.xyz/f/OLmCy/AB70AB259C3BD064624A1349779B072C_0.gif\r\n失去所有力气和手段--http://sharkpan.xyz/f/6Azsa/3BEBF677C8FD51DFF757BB62DA22C0A8_0.jpg\r\n大吃一口美食--http://sharkpan.xyz/f/nJ5Ul/5E4285F661C54F06BEFB881AD07BC3FB_0.jpg\r\n不喜欢我，你真的没品--http://sharkpan.xyz/f/mgduW/4F3224BCDAF9298F644572715BDA7EB9_0.jpg\r\n一觉睡到自然死--http://sharkpan.xyz/f/BLDsa/EC0D48BDAAB071654E0112599A6FA57B_0.jpg\r\n红温了--http://sharkpan.xyz/f/4YdFj/C13A42E1CB05564DF9060B2D93617086_0.jpg\r\n扭屁股--http://sharkpan.xyz/f/NDVhv/EE91A0C1472A9D3D3F01DAD6E6BF6B3B_0.gif\r\n失败了 遗憾离场--http://sharkpan.xyz/f/V6niY/19CC4600A7EAE5CC33257376EA8E11E7_0.gif\r\n害羞脸红--http://sharkpan.xyz/f/xXmSX/8664EF605A192AC3B392E3FDE8DCB695_0.gif\r\n大声尖叫--http://sharkpan.xyz/f/dnyt8/A95DD11A432A74CAD0CF9E3B97DA96A2_0.gif\r\n我是厚脸皮--http://sharkpan.xyz/f/l2Nux/0C0EA6213E96C0992356DFC48500EE08_0.jpg\r\n你少看扁我--http://sharkpan.xyz/f/JnJIg/4344AAD53418BAE9569B06CEF9CFDDED_0.jpg\r\n得意地唱歌--http://sharkpan.xyz/f/OLjSy/AA21937C7A115FCF4B87DC646E13C572_0.jpg\r\n高兴地被喂饭--\r\nhttps://files.catbox.moe/8uz920.jpg\r\n高兴地转圈--\r\nhttps://files.catbox.moe/26rwpc.jpg\r\n开心--\r\nhttps://files.catbox.moe/9242jm.jpg\r\n大大的爱--\r\nhttps://files.catbox.moe/wabm2j.jpg\r\n喜欢--\r\nhttps://files.catbox.moe/l7j4vy.jpg\r\n幸福地看手机--\r\nhttps://files.catbox.moe/e2eqzc.jpg\r\n哦耶--\r\nhttps://files.catbox.moe/nff4qi.jpg\r\n给你爱心--\r\nhttps://files.catbox.moe/o3boww.jpg\r\n紧紧抱住--\r\nhttps://files.catbox.moe/2hon5k.jpg\r\n乖乖跟着--\r\nhttps://files.catbox.moe/ydtn6e.jpg\r\n亲亲--\r\nhttps://files.catbox.moe/l14x54.jpg\r\n宠爱地亲--\r\nhttps://files.catbox.moe/wqn5ki.jpg\r\n搂住你--\r\nhttps://files.catbox.moe/pxn8x6.jpg\r\n谄媚吻手--\r\nhttps://files.catbox.moe/cxdhkh.jpg\r\n恳求脸--\r\nhttps://files.catbox.moe/i5etcm.jpg\r\n舔一口--\r\nhttps://files.catbox.moe/p0vdxk.jpg\r\n抱抱--\r\nhttps://files.catbox.moe/qt4qzg.jpg\r\n扑过来--\r\nhttps://files.catbox.moe/czdmyn.jpg\r\n小狗飞扑--\r\nhttps://files.catbox.moe/9yz8nz.jpg\r\n满脸骄傲--\r\nhttps://files.catbox.moe/h1mf7j.jpg\r\n蹦蹦跳跳--\r\nhttps://files.catbox.moe/q6bahb.jpg\r\n泥里打滚--\r\nhttps://files.catbox.moe/ofy8ic.jpg\r\n蹑手蹑脚--\r\nhttps://files.catbox.moe/7mdkef.jpg\r\n等饭饭--\r\nhttps://files.catbox.moe/ppi7e4.jpg\r\n偷吃--\r\nhttps://files.catbox.moe/ur7vh9.jpg\r\n蹭裤腿--\r\nhttps://files.catbox.moe/dzoxjx.jpg\r\n打劫--\r\nhttps://files.catbox.moe/cz3umm.jpg\r\n用枪指着你--\r\nhttps://files.catbox.moe/zvm5n2.jpg\r\n咬咬咬咬--\r\nhttps://files.catbox.moe/ogs4t5.jpg\r\n无意义的吼叫--\r\nhttps://files.catbox.moe/0vetoe.jpg\r\n辣眼睛--\r\nhttps://files.catbox.moe/91c91h.jpg\r\n冷汗心虚笑--\r\nhttps://files.catbox.moe/nj0i5e.png\r\n犯错后心虚--\r\nhttps://files.catbox.moe/rejhsf.jpg\r\n装无辜--\r\nhttps://files.catbox.moe/pdjeef.jpg\r\n小心翼翼--\r\nhttps://files.catbox.moe/1mm5y1.jpg\r\n害羞--\r\nhttps://files.catbox.moe/rqtdfm.jpg\r\n要掉眼泪了--\r\nhttps://files.catbox.moe/cdaxhk.jpg\r\n委屈--\r\nhttps://files.catbox.moe/r89k3c.jpg\r\n眼含泪光--\r\nhttps://files.catbox.moe/yqwu7e.jpg\r\n哭哭--\r\nhttps://files.catbox.moe/a1518p.jpg\r\n急哭了--\r\nhttps://files.catbox.moe/wok7sq.jpg\r\n气哭了--\r\nhttps://files.catbox.moe/qfljha.jpg\r\n碗里没有饭--\r\nhttps://files.catbox.moe/i9682x.jpg\r\n老婆你回来吧--\r\nhttps://files.catbox.moe/ge0bjd.jpg\r\n害怕--\r\nhttps://files.catbox.moe/k8mfa6.jpg\r\n震惊猫猫--\r\nhttps://files.catbox.moe/bhytrl.jpg\r\n惊吓到模糊--\r\nhttps://files.catbox.moe/qdzxst.jpg\r\n期待--\r\nhttps://files.catbox.moe/mii353.jpg\r\n皱眉--\r\nhttps://files.catbox.moe/785has.jpg\r\n生气瞪你--\r\nhttps://files.catbox.moe/mzoekx.jpg\r\n有点生气--\r\nhttps://files.catbox.moe/evzdkv.jpg\r\n大脑空白--\r\nhttps://files.catbox.moe/jqnaxs.jpg\r\n大脑CPU烧了--\r\nhttps://files.catbox.moe/mrzvy0.gif\r\n探头探脑--\r\nhttps://files.catbox.moe/6p8w3k.gif\r\n已老实--\r\nhttps://files.catbox.moe/rv76c1.jpg\r\n平静地死了--\r\nhttps://files.catbox.moe/dcm5f9.jpg\r\n被打死惹--\r\nhttps://files.catbox.moe/qqibg1.jpg\r\n睡大觉--\r\nhttps://files.catbox.moe/pvbfg6.jpg\r\n土下座道歉--\r\nhttps://files.catbox.moe/qjnck3.jpg\r\n孤独低落狗--\r\nhttps://files.catbox.moe/z09102.jpg\r\n乖乖当狗--\r\nhttps://files.catbox.moe/bgid0b.jpg\r\n叼食盆小狗--\r\nhttps://files.catbox.moe/o196se.jpg\r\n战斗小狗--\r\nhttps://files.catbox.moe/c5ccwc.jpg\r\n汉堡小狗--\r\nhttps://files.catbox.moe/prowke.jpg',i='[基本设置]\r\n世界书版本=1111';class l{sections;autoSave;save;constructor(){this.sections={},this.autoSave=''}loadLines(e){this.sections={};let t='';for(const n of e){const e=n.trim();if(e.startsWith('[')&&e.endsWith(']'))t=e.slice(1,-1);else if(t&&e.includes('=')){const[n,...a]=e.split('='),o=a.join('=').trim();this.sections[t]||(this.sections[t]={}),this.sections[t][n.trim()]=o}}return Object.keys(this.sections).length>0}loadText(e){if('string'!=typeof e)return console.error('Invalid text input'),!1;const t=e.replace(/\r\n/g,'\n').split(/\n+/).map(e=>e.trim()).filter(e=>e.length>0);return this.loadLines(t)}getAllSections(){return Object.keys(this.sections)}getAllKeys(e){return this.sections[e]?Object.keys(this.sections[e]):[]}readValue(e,t){return this.sections[e]?.[t]||''}readValueDouble(e,t){const n=parseFloat(this.readValue(e,t));return isNaN(n)?-1:n}writeValue(e,t,n){return!!t&&(this.sections[e]||(this.sections[e]={}),this.sections[e][t]=n.toString(),this.autoSave&&this.save(this.autoSave),!0)}getKeyByValue(e,t){const n=this.sections[e]||{};return Object.keys(n).find(e=>n[e]===t)||''}containsKey(e){return e in this.sections}removeSection(e){return delete this.sections[e],!0}getAllText(){let e='';for(const t of Object.keys(this.sections)){e+=`\n[${t}]`;const n=this.sections[t];for(const t of Object.keys(n)){e+=`\n${t}=${n[t]}`}}return e=e.trim(),e}}const s=(0,a.reactive)({QQ:{chars:{char1:{head:'https://sharkpan.xyz/f/k7eU6/ComfyUI_00033_.png',background:'',text:'#FFFFFF',bubble:'#4d559a',chartype:'friend',name:'char1',phone:'苹果21 pro max Ultra',inputColor:'#FFFFFF'},char2:{head:'https://sharkpan.xyz/f/BZjSa/%E5%A4%B4%E5%83%8F%20%282%29.jpg',background:'',text:'#FFFFFF',bubble:'#61aea8',chartype:'friend',name:'char2'},group1:{head:'https://sharkpan.xyz/f/k7eU6/ComfyUI_00033_.png',background:'',chartype:'Group',name:'群聊1'}},chathistory:{char1:{chartype:'private',msgs:[{msgtype:'img',content:'hahaha',sender:'char1'},{msgtype:'text',content:'hahaha',sender:'user',time:'12:12'}],lastMsg:'hahaha'},group1:{chartype:'Group',msgs:[{msgtype:'text',content:'hahaha',sender:'char2324'},{msgtype:'img',content:'hahaha',sender:'user',additionalText:'这是多出来的文本'},{msgtype:'music',content:'',sender:'user',song:'愿与愁',singer:'林俊杰'},{msgtype:'music',content:'',sender:'char1',song:'愿与愁',singer:'林俊杰'},{msgtype:'emoji',emoji:'http://sharkpan.xyz/f/DnJHK/F12BF133675BA34684A60CF38E17D328_0.gif',content:'',sender:'char1',additionalText:''},{msgtype:'voice',content:'这是语音内容',voicetime:'2',sender:'char1',time:'12:12'}],lastMsg:'这是语音内容',unread:'3'}},post:[{id:'34ks6k',sender:'char1',content:'这是一条动态内容',imgs:[{imgtype:'img',content:'一张配图'},{imgtype:'emoji',url:'http://sharkpan.xyz/f/rOpu6/9277120A65282CFEAB9E191B34474729_0.gif'}],comment:[{sender:'路人1',content:'123'},{sender:'路人2',content:'456'}],time:'12:21',like:'0',see:'0',read:!1}],postUnread:(0,a.computed)(()=>{let e=0;for(const t of s.QQ.post)'read'in t!=0&&t.read||e++;return e}),activeChatId:null,default:{bubble:'#a0c6f8',text:'#ffffff'},music:{audio:new Audio,id:'',msgRef:null},chatfunction:{},activefunction:null,activePage:1,panel:!1,cacheMsg:[],time:'',allUnRead:(0,a.computed)(()=>{let e=0;for(const t of Object.values(s.QQ.chathistory))t&&'number'==typeof t.unread&&(e+=t.unread);return e+=s.QQ.postUnread,e}),addMsg(e,t){if('time'in t==0||!t.time||t.time,e in this.chathistory==0&&(this.chathistory[e]={chartype:'Group'==s.QQ.chars[e]?.chartype?'Group':'private',msgs:[]}),0==this.chathistory[e].msgs.length)t.time&&this.chathistory[e].msgs.push({msgtype:'system',sender:'system',content:t.time,time:t.time});else{const n=this.chathistory[e].msgs.at(-1).time;if(n){const a=n.replace('：',':').split(':'),o=t.time.replace('：',':').split(':');a.length>=2&&o.length>=2&&Math.abs(a[1]-o[1])>=5&&this.chathistory[e].msgs.push({msgtype:'system',sender:'system',content:t.time,time:t.time})}}if(s.QQ.chathistory[e].msgs.push(t),'npc'==s.QQ.chars[e].chartype&&(s.QQ.chars[e].chartype='friend'),s.QQ.chathistory[e].lastMsg=t.content,s.QQ.chathistory[e].time=this.time,s.QQ.chathistory[e].unread||(s.QQ.chathistory[e].unread=0),this.activeChatId==e)s.QQ.chathistory[e].unread=0;else if('user'!=t.sender){let t=Number(s.QQ.chathistory[e].unread)+1;s.QQ.chathistory[e].unread=t}else'user'==t.sender&&(s.QQ.chathistory[e].unread=0)},replaceMsg(e){},charini:new l,async saveChars(){for(const e of this.charini.getAllSections())'npc'!=this.charini.readValue(e,'type').toLowerCase()&&(this.chars[e]?.text&&this.charini.writeValue(e,'字体颜色',this.chars[e].text),this.chars[e]?.bubble&&this.charini.writeValue(e,'气泡颜色',this.chars[e].bubble),this.chars[e]?.head&&'char'!=this.charini.readValue(e,'头像')&&this.charini.writeValue(e,'头像',this.chars[e].head),this.chars[e]?.background&&this.charini.writeValue(e,'聊天壁纸',this.chars[e].background),this.chars[e]?.inputColor&&this.charini.writeValue(e,'输入框颜色',this.chars[e].inputColor),'friend'==this.chars[e]?.chartype&&this.chars[e]?.name?this.charini.writeValue(e,'备注',this.chars[e]?.name):'Group'==this.chars[e]?.chartype&&this.chars[e]?.name?this.charini.writeValue(e,'群名',this.chars[e]?.name):(console.log(`${e} type:${this.chars[e]?.chartype} name:${this.chars[e]?.name}`),console.log(JSON.stringify(this.chars))),'phone'in this.chars[e]&&'隐藏机型'!=this.chars[e].phone&&this.charini.writeValue(e,'手机型号',this.chars[e].phone));let e=s.ST.getEntry(['手机-角色'],!0);e||(await createWorldbookEntries(s.ST.worldName,[{name:'手机-角色',position:{type:'after_character_definition'}}]),await s.ST.worldInit(),e=s.ST.getEntry(['手机-角色'],!0)),await setLorebookEntries(s.ST.worldName,[{uid:e.uid,content:this.charini.getAllText()}])}},backupQQ:{chathistory:{},post:[]},phone:{activeApp:'QQ',show:!0,colorSettings:{border:'',background:'',button:''},panel:!1,autoShow:!0,autoHide:!0,width:{now:0,min:200,max:900},height:{now:0,min:200,max:1e3},logo:'',time:'',sendModel:'normal',navButton:!1},ST:{userName:'',charName:'',userHead:'http://xsad.sadw/1.jpg',charHead:'',worldName:'',entries:[],async worldInit(){const e=await(getCharWorldbookNames('current')?.primary);e?(this.worldName=e,this.entries=await getWorldbook(e)):toastr.error('请先给角色卡绑定一个世界书')},getEntry(e,t){try{if(0==this.entries.length)return null;let n=[];if(this.entries.forEach(a=>{t?e.forEach(e=>{a.name.indexOf(e)>-1&&n.push(a)}):e.includes(a.name)&&n.push(a)}),0==n.length)return null;if(1==n.length)return n[0];for(let e of n)if(e.enabled)return e;return n[0]}catch(t){return console.error('出现了错误的name',e),null}},isMobile:!1},RedNote:{post:[],unRead:0,activePost:'',randomHead:[],addPost(e){if('imgColor'in e==0&&(e.imgColor=this.generatePastelColorRGB(),e.textColor='black'),'sender'in e!=0&&e.sender||(e.sender='momo',e.head=this.getRandomHead()),'head'in e==0){const t=e.sender;'user'==t||t==s.ST.userName?e.head=s.ST.userHead:t in s.QQ.chars?e.head=s.QQ.chars[t].head||this.getRandomHead():e.head=this.getRandomHead()}'comments'in e==0&&(e.comments=[]),this.post.unshift(e)},generatePastelColorRGB(){const e=Math.floor(360*Math.random()),t=.2*Math.random()+.6,n=.1*Math.random()+.85,a=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),o=n<.5?n*(1+t):n+t-n*t,r=2*n-o;return`rgb(${Math.round(255*a(r,o,e/360+1/3))}, ${Math.round(255*a(r,o,e/360))}, ${Math.round(255*a(r,o,e/360-1/3))})`},getRandomHead(){return 0==this.randomHead.length?'':this.randomHead[Math.floor(Math.random()*this.randomHead.length)]}},regexBubble:{msgRegex:/<msg>(.+?)\|(.+?)\|(.+)\|(.+?)<\/msg>/g,rednoteRegex:/<rednote>([\s\S]+?)<\/rednote>/g,list:[{message_id:0,message_name:'xxx和xxx的私聊',messages:[],to:null}]},RandomHead:[],emoji:{},GetRandomHead(){if(console.log('调用了获取随机头像'),0===s.RandomHead.length)return null;let e=1/0;const t=[];for(const n of s.RandomHead)n.count<e?(e=n.count,t.length=0,t.push(n)):n.count===e&&t.push(n);const n=t[Math.floor(Math.random()*t.length)];return n.count++,n.url},generateBubbleColor(){const e=function(e,t,n){e/=360,t/=100,n/=100;const a=Math.floor(6*e),o=6*e-a,r=n*(1-t),i=n*(1-o*t),l=n*(1-(1-o)*t);let s,c,d;switch(a%6){case 0:[s,c,d]=[n,l,r];break;case 1:[s,c,d]=[i,n,r];break;case 2:[s,c,d]=[r,n,l];break;case 3:[s,c,d]=[r,i,n];break;case 4:[s,c,d]=[l,r,n];break;case 5:[s,c,d]=[n,r,i]}return[Math.round(255*s),Math.round(255*c),Math.round(255*d)]}([0,60,120,180,240,300,360][Math.floor(6*Math.random())]+60*Math.random(),20+25*Math.random(),75+5*Math.random()),t=(function(...e){e.map(e=>e.toString(16).padStart(2,'0')).join('')}(...e),(299*e[0]+587*e[1]+114*e[2])/1e3>180?'#333333':'#FFFFFF');return{bgColor:`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0.9)`,textColor:t}},backup(){this.backupQQ.chathistory=JSON.parse(JSON.stringify(this.QQ.chathistory)),this.backupQQ.post=JSON.parse(JSON.stringify(this.QQ.post));for(const e of Object.values(this.backupQQ.chathistory)){if('unread'in e==0||!e.unread||0==e.unread){for(const t of e.msgs)t.read=!0;continue}let t=Number(e.unread);t<0&&(t=0);for(let n=e.msgs.length-1;n>=0;n--)t>0&&'system'!=e.msgs[n].msgtype?(e.msgs[n].read=!1,t-=1):e.msgs[n].read=!0}console.log(`处理完的backupQQ:\n${JSON.stringify(this.backupQQ)}`)},loadRead(){for(const e of Object.keys(this.QQ.chathistory)){if(e in this.backupQQ.chathistory==0)continue;if(this.QQ.activeChatId==e){this.QQ.chathistory[e].unread=0;continue}const t=this.QQ.chathistory[e].msgs.length,n=this.backupQQ.chathistory[e].msgs.length,a=Math.min(t,n);for(let t=0;t<a;t++){const n=this.QQ.chathistory[e].msgs[t],a=this.backupQQ.chathistory[e].msgs[t];if('system'==n.msgtype){n.read=!0;continue}if(!p(n,a,['read']))break;'read'in a&&1==a.read&&(n.read=!0)}let o=0;for(let t=this.QQ.chathistory[e].msgs.length-1;t>=0;t--){const n=this.QQ.chathistory[e].msgs[t];if('user'==n.sender)break;if('read'in n&&n.read)break;'read'in n!=0&&1==n.read||o++}this.QQ.chathistory[e].unread=o}const e=Math.min(this.QQ.post.length,this.backupQQ.post.length);for(let t=0;t<e;t++)this.QQ.post[t].id==this.backupQQ.post[t].id&&('read'in this.backupQQ.post[t]&&this.backupQQ.post[t].read?this.QQ.post[t].read=!0:this.QQ.post[t].read=!1)},GetRandomId(e,t=!1){if(t){let t='';t+=Math.floor(9*Math.random()+1);for(let n=0;n<e-1;n++)t+=Math.floor(10*Math.random());return t}return Math.random().toString(36).substring(2,2+e)},checkAudioAvailability:async e=>new Promise(t=>{const n=new Audio;let a;const o=()=>{i(),t(!0)},r=()=>{i(),t(!1)},i=()=>{n.removeEventListener('loadedmetadata',o),n.removeEventListener('error',r),clearTimeout(a),n.src=''};n.preload='metadata',n.src=e,a=setTimeout(r,3e3),n.addEventListener('loadedmetadata',o),n.addEventListener('error',r)}),async Http_Get(e){const t=new AbortController,n=setTimeout(()=>t.abort(),1e4);try{const a=await fetch(e,{method:'GET',signal:t.signal});if(clearTimeout(n),!a.ok)return console.error('请求失败：',a.status,a.statusText),null;return await a.json()}catch(e){return'AbortError'===e.name?console.error('请求超时，请检查网络或重试'):console.error('请求出错：',e),null}},generate:!1,lock:!1,async removeChar(){}}),c=(e,t,n)=>{if(!e)return;if(e in s.QQ.chars)return;if('system'==t||'system'==e)return;const{bgColor:a,textColor:o}=s.generateBubbleColor(),r={head:s.GetRandomHead(),background:'',text:o,inputColor:'#FFFFFF',bubble:a,chartype:t||'npc',name:e,...n};s.QQ.chars[e]=r},d=new class{dbName;db=null;constructor(e='named-storage'){this.dbName=e}async initDB(){return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,1);n.onerror=()=>t(n.error),n.onsuccess=()=>{this.db=n.result,e(n.result)},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains('namedData')||t.createObjectStore('namedData',{keyPath:'name'})}})}async ensureConnected(){return this.db||await this.initDB(),this.db}async setData(e,t){const n=await this.ensureConnected();return new Promise((a,o)=>{const r=n.transaction(['namedData'],'readwrite').objectStore('namedData').put({name:e,data:t});r.onsuccess=()=>a(),r.onerror=()=>o(r.error)})}async getData(e){const t=await this.ensureConnected();return new Promise((n,a)=>{const o=t.transaction(['namedData'],'readonly').objectStore('namedData').get(e);o.onsuccess=()=>{const e=o.result;n(e?e.data:null)},o.onerror=()=>a(o.error)})}async deleteData(e){const t=await this.ensureConnected();return new Promise((n,a)=>{const o=t.transaction(['namedData'],'readwrite').objectStore('namedData').delete(e);o.onsuccess=()=>n(),o.onerror=()=>a(o.error)})}async getAllKeys(){const e=await this.ensureConnected();return new Promise((t,n)=>{const a=e.transaction(['namedData'],'readonly').objectStore('namedData').getAllKeys();a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})}}('baibai_phone');function p(e,t,n){const a=_.omit(_.cloneDeep(e),n),o=_.omit(_.cloneDeep(t),n);return _.isEqual(a,o)}const h={class:'music-container',style:{display:'grid','grid-template-columns':'1fr 64px',width:'100%'}},m={style:{display:'flex','flex-direction':'column','margin-top':'8px',overflow:'hidden','max-width':'100%'}},u={class:'hide-title music-name',style:{'font-size':'1.2rem'}},g={class:'hide-title music-author',style:{color:'#8d8c8d','margin-left':'3px','margin-top':'5px','font-size':'1rem'}},f={style:{'margin-left':'auto',position:'relative',height:'64px',width:'64px'}},v={class:'icon-container',style:{width:'64px',position:'relative'}},x={style:{position:'absolute',left:'-3px',top:'-5px'},viewBox:'0 0 1024 1024',width:'72',height:'72'},b={class:'music-play-button'},y={style:{display:'flex','align-items':'center',gap:'5px'}},w={viewBox:'0 0 1024 1024',style:{width:'0.9rem',height:'0.9rem'}},k=(0,a.defineComponent)({__name:'music',props:['song','singer'],setup(e){const t=e,n=s.GetRandomId(10),o=(0,a.ref)('');let r='';const i=(0,a.ref)(!1);let l=null;async function c(){if(i.value=!0,!r){let e=await async function(e,t){let n=`https://api.vkeys.cn/v2/music/netease?word=${e}`;t&&(n+=`-${t}`);let a=await s.Http_Get(n);if(!a)return;let o='',r=[];for(const e of a.data)!o&&e.cover&&(o=e.cover),e.id&&r.push(e.id);for(const e of r)try{console.log(`准备检测音源 ID:${e}`);const t=await s.Http_Get(`https://api.vkeys.cn/v2/music/netease?id=${e}`);if(!t?.data?.url)continue;if(await s.checkAudioAvailability(t.data.url))return console.log(`找到可用音源: ${t.data.url}`),{url:t.data.url,cover:o}}catch(t){console.warn(`音源检测失败: ${e}`,t)}}(t.song,t.singer);if(console.log(JSON.stringify(e)),!e?.url&&(console.log('网易云获取失败,开始在QQ音乐中搜索'),e=await async function(e){try{e=e.replace(/\s/g,'');let t='';const n=await s.Http_Get(`https://api.vkeys.cn/v2/music/tencent?word=${e}`);if(!n?.data?.length)return;let a=[];for(const e of n.data)if(!t&&e.cover&&(t=e.cover),e.id&&a.push(e.id),e.grp)for(const t of e.grp)t.id&&a.push(t.id);console.log(`id数量:${a.length}`);for(const e of a)try{console.log(`准备检测音源 ID:${e}`);const n=await s.Http_Get(`https://api.vkeys.cn/v2/music/tencent?id=${e}`);if(!n?.data?.url)continue;if(await s.checkAudioAvailability(n.data.url))return console.log(`找到可用音源: ${n.data.url}`),{url:n.data.url,cover:t}}catch(t){console.warn(`音源检测失败: ${e}`,t)}}catch(e){console.error('获取音源失败:',e)}}(t.song),!e||!e.url))return void toastr.error('获取音源失败!');r=e.url,o.value=e.cover}s.QQ.music.audio.src!=r&&(s.QQ.music.audio.src=r),s.QQ.music.id=n,s.QQ.music.audio.play(),l?.(),l=(0,a.watch)(()=>s.QQ.music.id,(e,t)=>{t===n&&e!==n&&(i.value=!1,l?.(),l=null)})}function d(){s.QQ.music.id==n&&s.QQ.music.audio.pause(),i.value=!1}return(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',null,[(0,a.createElementVNode)('div',h,[(0,a.createElementVNode)('div',m,[(0,a.createElementVNode)('div',u,[(0,a.createElementVNode)('strong',null,(0,a.toDisplayString)(t.song),1)]),(0,a.createElementVNode)('div',g,(0,a.toDisplayString)(t.singer),1)]),(0,a.createElementVNode)('div',f,[(0,a.createElementVNode)('div',v,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',x,[...n[0]||(n[0]=[(0,a.createElementVNode)('path',{d:'M773.9392 301.8752m-200.0384 0a200.0384 200.0384 0 1 0 400.0768 0 200.0384 200.0384 0 1 0-400.0768 0Z',fill:'#d81e06','p-id':'51386'},null,-1),(0,a.createElementVNode)('path',{d:'M924.4672 706.2528a24.32 24.32 0 0 1-24.2688 24.2688h-145.7664a24.3712 24.3712 0 0 0-24.2688 24.32 24.2688 24.2688 0 0 0 24.2688 24.2688h48.5888a24.32 24.32 0 0 1 24.2688 24.32 24.32 24.32 0 0 1-24.2688 24.2688h-64.512A388.7616 388.7616 0 0 1 122.88 390.4512h-48.5888a24.32 24.32 0 0 1 0-48.5888h97.28a24.2688 24.2688 0 0 0 6.8096-47.5648l0.768-0.9728H122.88a24.32 24.32 0 1 1 0-48.5888h101.632a388.7616 388.7616 0 0 1 619.52 437.248h56.32a24.32 24.32 0 0 1 24.1152 24.2688z',fill:'#2c2c2c','p-id':'51387'},null,-1),(0,a.createElementVNode)('path',{d:'M565.8112 478.8736a3.84 3.84 0 0 0-4.5568 4.608c3.1744 14.7456 7.8848 40.96 9.984 60.0576 3.6352 32.2048-28.5696 62.3104-53.6064 70.7584-39.424 13.568-84.8896-18.688-95.1296-56.32-11.776-43.9808 12.6464-97.5872 53.2992-115.0464 4.5056-2.0992 9.0112-3.8912 13.568-5.9904 9.3184-4.2496 4.8128-11.1616 3.2768-17.5104-4.1984-17.4592-6.6048-34.9184 2.4064-51.2 13.568-24.4224 48.7936-43.6736 76.1856-31.9488a276.48 276.48 0 0 1 34.6624 16.5888 25.1904 25.1904 0 0 1 10.5472 28.2624c-5.7344 15.36-20.7872 18.9952-36.7616 9.6768a196.1984 196.1984 0 0 0-17.4592-9.9328 16.2304 16.2304 0 0 0-23.808 15.36 150.3744 150.3744 0 0 0 1.9456 18.0224 18.4832 18.4832 0 0 0 13.568 14.8992 200.3456 200.3456 0 0 1 29.3888 8.9088c38.8096 17.152 66.56 45.1584 79.5136 87.04 24.064 77.6704-21.0944 155.0848-87.9616 184.6272a182.016 182.016 0 0 1-116.8384 13.2096 185.6 185.6 0 0 1-126.464-104.8064c-18.0736-40.96-22.8864-82.7904-8.7552-127.0784 18.9952-59.2384 56.9344-99.6352 114.7392-121.9072a23.4496 23.4496 0 0 1 28.0064 9.728 21.1456 21.1456 0 0 1-6.0416 29.5424 259.8912 259.8912 0 0 1-25.2928 13.568c-31.8976 16.2304-51.7632 42.752-64.4096 75.8784-24.7296 64.4096 9.3184 139.1104 65.6384 168.3456 51.7632 27.0848 122.5728 16.2304 160.8192-28.3136A106.2912 106.2912 0 0 0 619.52 542.72c-5.12-25.6-34.5088-59.2896-53.7088-63.8464z m-53.4016 5.9904a6.144 6.144 0 0 0-7.9872-4.5056c-33.28 11.4688-47.5136 47.2576-31.9488 76.4416a28.0064 28.0064 0 0 0 30.1056 13.824c14.1824-4.1984 24.1152-14.4384 22.016-27.6992-2.9696-19.5072-7.936-38.8096-12.1856-58.0608z',fill:'#d81e06','p-id':'51388'},null,-1)])])),(0,a.withDirectives)((0,a.createElementVNode)('div',{class:'music-img',style:(0,a.normalizeStyle)(`width: 64px;\n              height: 64px;\n              position: absolute;\n              left: 0;\n              top: 0;\n              background-size: cover;\n              z-index: 1;\n              background-image: url('${(0,a.unref)(o)}');`)},null,4),[[a.vShow,(0,a.unref)(o)]])]),(0,a.createElementVNode)('div',b,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:c,class:'icon-music-play',viewBox:'0 0 1024 1024',width:'24',height:'24'},[...n[1]||(n[1]=[(0,a.createElementVNode)('path',{d:'M902.420317 544.833016l-585.142857-357.587302v715.174603l585.142857-357.587301z','p-id':'42990',fill:'#ffffff'},null,-1)])],512)),[[a.vShow,!(0,a.unref)(i)]]),(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)('svg',{class:'icon-music-stop',onClick:d,t:'1743245033745',viewBox:'0 0 1024 1024',width:'19',height:'19'},[...n[2]||(n[2]=[(0,a.createElementVNode)('path',{d:'M290.133333 128h-39.808C206.336 128 170.666667 178.944 170.666667 241.792v540.416C170.666667 845.056 206.336 896 250.325333 896H290.133333c43.946667 0 79.658667-50.944 79.658667-113.792V241.792C369.792 178.944 334.08 128 290.133333 128zM773.674667 128H733.866667c-43.989333 0-79.658667 50.944-79.658667 113.792v540.416c0 62.848 35.669333 113.792 79.658667 113.792h39.808C817.664 896 853.333333 845.056 853.333333 782.208V241.792C853.333333 178.944 817.664 128 773.674667 128z',fill:'#ffffff','p-id':'43402'},null,-1)])],512)),[[a.vShow,(0,a.unref)(i)]])])])]),n[5]||(n[5]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'2px','background-color':'#efefef','margin-bottom':'5px','margin-top':'5px'}},null,-1)),(0,a.createElementVNode)('div',y,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',w,[...n[3]||(n[3]=[(0,a.createElementVNode)('path',{d:'M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z',fill:'#EA3E3C','p-id':'1500'},null,-1),(0,a.createElementVNode)('path',{d:'M527.616 849.43872a373.6064 373.6064 0 0 1-162.54976-39.00416c-112.36352-55.16288-180.00896-176.29184-172.55424-308.67456 7.41376-130.34496 85.10464-237.4656 202.752-279.552a35.85024 35.85024 0 0 1 24.15616 67.51232c-107.66336 38.49216-150.81472 136.86784-155.29984 216.13568-5.86752 103.51616 46.08 197.79584 132.34176 240.13824 124.69248 60.30336 216.91392 22.35392 260.82304-5.64224 59.8016-38.16448 97.86368-100.01408 96.95232-157.55264-1.024-63.72352-24.064-120.99584-63.27296-157.14304a145.408 145.408 0 0 0-65.5872-35.28704q2.82624 9.76896 5.64224 19.32288c13.38368 45.63968 24.94464 85.05344 25.6 114.40128a134.26688 134.26688 0 0 1-37.69344 97.76128 139.1104 139.1104 0 0 1-100.6592 40.45824 140.10368 140.10368 0 0 1-100.47488-42.24 169.12384 169.12384 0 0 1-46.2848-122.76736c1.19808-85.12512 80.11776-153.28256 162.816-175.104a324.80256 324.80256 0 0 1-6.71744-67.05152 92.0576 92.0576 0 0 1 69.18144-91.81184c46.21312-12.53376 104.448 5.19168 124.66176 37.888a35.84 35.84 0 0 1-11.70432 49.31584 35.84 35.84 0 0 1-49.26464-11.65312 62.34112 62.34112 0 0 0-48.45568-5.21216c-4.32128 1.71008-12.35968 4.90496-12.76928 23.10144a270.87872 270.87872 0 0 0 6.73792 58.51136 217.4976 217.4976 0 0 1 133.56032 57.6512c53.57568 49.38752 85.0432 125.46048 86.35392 208.71168 1.29024 81.85856-49.7664 167.86432-130.048 219.136a310.14912 310.14912 0 0 1-168.2432 48.65024z m23.6544-457.55392c-56.77056 15.6672-107.4688 63.03744-108.07296 106.42432a98.304 98.304 0 0 0 25.6512 71.43424 68.0448 68.0448 0 0 0 49.36704 20.87936 67.24608 67.24608 0 0 0 49.44896-18.944 63.19104 63.19104 0 0 0 17.23392-46.08c-0.4096-19.79392-11.7248-58.368-22.67136-95.6928-3.61472-12.42112-7.35232-25.14944-10.9568-38.02112z',fill:'#FFFFFF','p-id':'1501'},null,-1)])])),n[4]||(n[4]=(0,a.createElementVNode)('div',{style:{'font-size':'0.9rem',color:'#8d8c8c'}},'网易云音乐',-1))])]))}}),E=['data-name'],Q=['data-name'],V=['data-name'],N=['innerHTML'],B=['data-name'],C={style:{width:'100%','background-color':'white','aspect-ratio':'1'}},S=['src','alt'],M={key:0,style:{'margin-top':'5px',display:'block'}},j=['data-name'],A={style:{display:'block'},class:'totext'},D={style:{'margin-right':'30px',display:'flex','align-items':'center'},viewBox:'0 0 1024 1024',width:'24',height:'24'},T={style:{display:'flex','align-items':'center',gap:'5px','margin-left':'auto'}},F={style:{display:'block'}},H={style:{transform:'rotate(-90deg)',display:'flex','align-items':'center'},t:'1742985508017',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'38914',width:'20',height:'20'},L={style:{'margin-left':'2px'}},q={style:{display:'block'}},I={style:{transform:'rotate(90deg)',display:'flex','align-items':'center'},class:'icon',viewBox:'0 0 1024 1024',width:'20',height:'20'},R={style:{display:'block','margin-left':'auto'},class:'totext'},G={style:{'margin-left':'30px',display:'flex','align-items':'center'},viewBox:'0 0 1024 1024',width:'24',height:'24'},O={class:'voice2text'},U={key:6,class:'give_money'},P={style:{'background-color':'#4396f7',height:'80px',width:'100%',color:'#ffffff','padding-top':'20px','padding-left':'12px',display:'flex','flex-direction':'column',gap:'5px',position:'relative'}},X={key:7,class:'give_money'},J={style:{'background-color':'#4396f7',height:'80px',width:'100%',color:'#ffffff','padding-top':'20px','padding-left':'12px','padding-right':'12px',display:'flex',gap:'5px',position:'relative'}},Z={style:{display:'flex','flex-direction':'column',gap:'5px','margin-left':'5px'}},W={style:{'text-align':'start'}},Y={key:1,style:{color:'#959597','font-size':'12px','text-align':'center','margin-bottom':'20px'}},K={__name:'bubble',props:{bubble:{type:Object},isGroup:{type:String},senderinfo:{type:Object}},setup(e){(0,a.useCssVars)(e=>({e7266938:h.value,e7473f22:p.value,c342d5ee:o.value,'64fa64f0':r.value,'36ae6144':d.value}));const t=e;'sender'in t.bubble==0&&console.log(`这条消息没有sender:\n${JSON.stringify(t.bubble)}`);const n=(0,a.computed)(()=>{if(t.senderinfo?.head)return t.senderinfo?.head;const e=t.bubble.sender;try{if(e in s.QQ.chars==0)return''}catch(e){console.error(`这里出的问题${e}`)}return s.QQ.chars[e].head?s.QQ.chars[e].head:void 0});t.bubble?.sender&&'user'!=t.bubble?.sender&&t.bubble?.sender in s.QQ.chars==0&&c(t.bubble?.sender);const o=(0,a.computed)(()=>{if('user'==t.bubble.sender)return s.QQ.default.bubble;if(t.bubble.sender in s.QQ.chars)return s.QQ.chars[t.bubble.sender].bubble;return t.senderinfo?.bubble||s.QQ.default.bubble}),r=(0,a.computed)(()=>{if('user'==t.bubble.sender)return s.QQ.default.text;if(t.bubble.sender in s.QQ.chars)return s.QQ.chars[t.bubble.sender].text;return t.senderinfo?.text||s.QQ.default.text});let i=(0,a.ref)(!1);function l(){i.value=!i.value}const d=(0,a.computed)(()=>s.ST.isMobile?'13px':'15px'),p=(0,a.computed)(()=>s.ST.isMobile?'32px':'40px'),h=(0,a.computed)(()=>s.ST.isMobile?'10px':'20px');return(e,o)=>{return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,['system'!=t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:0,class:(0,a.normalizeClass)('user'==t.bubble.sender?'QQ_chat_mymsg':'QQ_chat_charmsg'),style:(0,a.normalizeStyle)(''+('emoji'==t.bubble.msgtype?'max-width: min(50%,300px);':''))},['user'!=t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:0,'data-name':t.bubble.sender,class:'QQ_chat_head',style:(0,a.normalizeStyle)({backgroundImage:`url(${n.value})`})},null,12,E)):(0,a.createCommentVNode)('v-if',!0),(0,a.createElementVNode)('div',{style:(0,a.normalizeStyle)(`width: ${'transfer'==t.bubble.msgtype&&'user'==t.bubble.sender?'100%':'auto'}; height: auto; margin-top: 4px; `)},['Group'==t.isGroup&&'user'!=t.bubble.sender&&'user'!=t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('span',{key:0,style:(0,a.normalizeStyle)('overflow: hidden; text-overflow: ellipsis; display: block; max-width: 100%;'+((0,a.unref)(s).ST.isMobile?'font-size:13px;':''))},(0,a.toDisplayString)((0,a.unref)(s).QQ.chars[t.bubble.sender]?.name||t.bubble.sender),5)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' 这里是消息内容 '),(0,a.createCommentVNode)(' text类型 '),'text'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:1,class:(0,a.normalizeClass)('QQ_chat_msgdiv '+('Group'==t.isGroup&&'user'!=t.bubble.sender?'groupmsg':'')),'data-name':t.bubble.sender},[(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(t.bubble.content),1)],10,Q)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' img类型 '),'img'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:2,class:(0,a.normalizeClass)('QQ_chat_msgdiv '+('Group'==t.isGroup&&'user'!=t.bubble.sender?'groupmsg':'')),'data-name':t.bubble.sender},[(0,a.createElementVNode)('div',{class:'QQ_chat_fakeimg',style:(0,a.normalizeStyle)('text-align: center;'+(t.bubble.additionalText?'margin-bottom:5px;':''))},[(0,a.createElementVNode)('div',{innerHTML:(r=t.bubble.content,console.log(`warp:${r}`),r.replace(/\n/g,'<br>'))},null,8,N)],4),(0,a.createTextVNode)(' '+(0,a.toDisplayString)(t.bubble.additionalText),1)],10,V)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' emoji类型 '),'emoji'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:3,class:(0,a.normalizeClass)('QQ_chat_msgdiv '+('Group'==t.isGroup&&'user'!=t.bubble.sender?'groupmsg':'')),'data-name':t.bubble.sender},[(0,a.createElementVNode)('div',C,[(0,a.createElementVNode)('img',{class:'msgimg',loading:'lazy',src:t.bubble.emoji,alt:t.bubble.emoji?'图片加载失败,可能是网络问题':'Ai编了个不存在的表情包'},null,8,S)]),t.bubble.additionalText?((0,a.openBlock)(),(0,a.createElementBlock)('span',M,(0,a.toDisplayString)(t.bubble.additionalText),1)):(0,a.createCommentVNode)('v-if',!0)],10,B)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' music类型 '),'music'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createBlock)(k,{key:4,class:(0,a.normalizeClass)('QQ_chat_music '+('Group'==t.isGroup&&'user'!=t.bubble.sender?'groupmsg':'')),song:t.bubble.song,singer:t.bubble.singer},null,8,['class','song','singer'])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' voice类型 '),'voice'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:5,class:(0,a.normalizeClass)('QQ_chat_msgdiv '+('Group'==t.isGroup&&'user'!=t.bubble.sender?'groupmsg':'')),'data-name':t.bubble.sender},['user'==t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:0,class:'QQ_chat_voice',onClick:l,style:{width:'100%',display:'flex',gap:'5px','align-items':'center'}},[(0,a.createElementVNode)('span',A,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',D,[...o[0]||(o[0]=[(0,a.createElementVNode)('path',{d:'M999.611733 387.697778a37.831111 37.831111 0 0 0-48.355555 22.641778v0.512l-1.592889 5.233777c-58.88-241.208889-302.648889-388.892444-543.857778-330.012444A446.805333 446.805333 0 0 0 124.546844 295.253333a39.139556 39.139556 0 0 0 13.653334 53.077334 39.310222 39.310222 0 0 0 18.944 5.233777c13.084444 0 25.201778-6.826667 32.540444-18.375111a374.158222 374.158222 0 0 1 359.480889-183.978666 381.952 381.952 0 0 1 337.351111 334.279111 384.568889 384.568889 0 0 1-3.128889 115.086222v2.616889a38.855111 38.855111 0 0 0 21.560889 48.355555c19.456 6.826667 41.528889-3.185778 48.355556-22.641777l68.835555-192.284445a39.310222 39.310222 0 0 0-22.584889-48.924444z m-148.764444 348.956444a38.115556 38.115556 0 0 0-31.004445 16.839111 373.077333 373.077333 0 0 1-355.214222 157.639111 381.212444 381.212444 0 0 1-323.185778-306.346666 396.344889 396.344889 0 0 1 0-140.856889v-1.592889a39.139556 39.139556 0 0 0-22.072888-48.355556 38.058667 38.058667 0 0 0-48.355556 22.584889l-68.835556 191.317334a38.513778 38.513778 0 0 0 23.608889 48.867555c19.456 7.395556 40.96-3.128889 48.355556-22.584889v-3.697777c58.88 241.208889 302.705778 388.892444 543.914667 330.012444A448.739556 448.739556 0 0 0 881.851733 798.151111a38.684444 38.684444 0 0 0-8.362666-54.158222 31.857778 31.857778 0 0 0-22.641778-7.338667z','p-id':'41017',fill:'currentColor'},null,-1),(0,a.createElementVNode)('path',{d:'M310.687289 693.020444a50.517333 50.517333 0 0 0-33.166222 19.456 40.96 40.96 0 0 0 0 31.573334c1.592889 4.721778 3.697778 9.443556 6.257777 14.165333a26.794667 26.794667 0 0 0 13.198223 11.036445 30.833778 30.833778 0 0 0 12.060444 2.104888h5.290667c6.826667-1.080889 13.653333-2.616889 20.48-4.721777 15.758222-5.290667 32.028444-11.605333 48.924444-18.432 16.782222-6.826667 34.133333-15.758222 49.322667-23.608889 15.246222-7.907556 32.597333-17.863111 46.250667-26.282667 14.222222-8.419556 24.177778-15.758222 35.271111-24.177778 24.632889 19.456 50.915556 36.238222 78.791111 49.891556 33.621333 17.351111 68.835556 31.004444 105.073778 42.097778a56.32 56.32 0 0 0 20.48 3.640889 33.905778 33.905778 0 0 0 34.190222-26.282667 39.025778 39.025778 0 0 0-1.592889-35.726222 49.322667 49.322667 0 0 0-26.225778-18.375111 540.842667 540.842667 0 0 1-85.162667-33.621334 603.932444 603.932444 0 0 1-63.601777-38.912c20.48-23.096889 37.831111-48.355556 52.565333-75.662222a465.294222 465.294222 0 0 0 38.343111-98.304h49.436445a38.456889 38.456889 0 0 0 26.282666-12.060444 46.762667 46.762667 0 0 0 7.850667-26.282667 44.032 44.032 0 0 0-8.931556-28.899556 37.432889 37.432889 0 0 0-26.282666-11.036444H568.6784a116.167111 116.167111 0 0 0-9.500444-17.863111c-10.467556-12.629333-22.584889-25.770667-34.702223-38.912a47.786667 47.786667 0 0 0-27.818666-18.375111h-4.209778a36.636444 36.636444 0 0 0-24.177778 8.419555 35.896889 35.896889 0 0 0-18.375111 29.923556 51.2 51.2 0 0 0 16.270222 33.109333l6.314667 6.314667H315.352178a34.133333 34.133333 0 0 0-26.282667 12.629333 45.852444 45.852444 0 0 0-6.826667 26.282667c-0.512 10.467556 2.104889 20.48 7.907556 28.899555 6.826667 6.826667 16.270222 11.036444 26.282667 11.036445h47.274666c5.233778 15.758222 10.524444 32.028444 16.839111 47.786666a419.271111 419.271111 0 0 0 50.403556 94.094223c8.419556 11.036444 17.351111 22.584889 26.282667 33.109333a389.461333 389.461333 0 0 1-64.625778 39.936c-26.282667 12.629333-54.101333 23.096889-81.976889 32.028444z m131.299555-246.954666h140.344889c-6.826667 23.096889-16.839111 45.169778-28.387555 66.730666a325.290667 325.290667 0 0 1-39.936 55.751112 319.146667 319.146667 0 0 1-39.424-52.622223l-2.616889-4.209777a388.778667 388.778667 0 0 1-29.980445-65.649778z','p-id':'41018',fill:'currentColor'},null,-1)])]))]),(0,a.createElementVNode)('div',T,[(0,a.createElementVNode)('span',F,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',H,[...o[1]||(o[1]=[(0,a.createElementVNode)('path',{d:'M99.931429 457.782857c8.137143 8.137143 20.132571 7.716571 27.849142-0.420571 101.156571-107.574857 234.861714-164.150857 384.438858-164.150857 150.418286 0 284.562286 56.996571 385.28 164.571428 7.277714 7.296 18.870857 7.296 26.569142-0.859428l57.014858-56.996572c6.838857-7.277714 6.838857-16.713143 1.28-23.570286-96.859429-119.149714-279.003429-206.994286-470.144-206.994285S138.934857 257.206857 42.057143 376.356571c-5.997714 6.857143-5.577143 16.274286 1.28 23.588572z m171.428571 171.867429c8.576 8.996571 19.712 8.137143 27.849143-1.28 49.718857-55.296 130.285714-95.158857 213.010286-94.299429 83.565714-0.859429 163.712 40.283429 213.851428 95.579429 8.137143 8.557714 18.852571 8.557714 27.008-0.438857l63.853714-62.994286c6.857143-6.857143 7.716571-15.853714 1.28-23.149714-62.134857-76.708571-177.426286-133.284571-305.993142-133.284572-128.585143 0-243.858286 56.996571-306.011429 133.302857-6.418286 7.277714-5.558857 15.835429 1.28 23.131429z m240.859429 224.987428c8.996571 0 17.133714-4.717714 32.987428-20.132571l100.297143-96.438857c6.418286-5.997714 7.716571-15.414857 2.139429-22.710857-27.008-34.706286-77.568-64.713143-135.424-64.713143-59.154286 0-110.573714 31.286857-137.142858 67.291428-3.858286 5.997714-2.56 14.134857 3.84 20.132572l100.297143 96.438857c15.853714 15.414857 24.009143 20.132571 33.005715 20.132571z','p-id':'38915',fill:'currentColor'},null,-1)])]))]),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(t.bubble?.voicetime)+'"',1)])])):(0,a.createCommentVNode)('v-if',!0),'user'!=t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:1,class:'QQ_chat_voice',onClick:l,style:{width:'100%',display:'flex',gap:'5px','align-items':'center'}},[(0,a.createElementVNode)('span',L,(0,a.toDisplayString)(t.bubble?.voicetime)+'"',1),(0,a.createElementVNode)('span',q,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',I,[...o[2]||(o[2]=[(0,a.createElementVNode)('path',{d:'M99.931429 457.782857c8.137143 8.137143 20.132571 7.716571 27.849142-0.420571 101.156571-107.574857 234.861714-164.150857 384.438858-164.150857 150.418286 0 284.562286 56.996571 385.28 164.571428 7.277714 7.296 18.870857 7.296 26.569142-0.859428l57.014858-56.996572c6.838857-7.277714 6.838857-16.713143 1.28-23.570286-96.859429-119.149714-279.003429-206.994286-470.144-206.994285S138.934857 257.206857 42.057143 376.356571c-5.997714 6.857143-5.577143 16.274286 1.28 23.588572z m171.428571 171.867429c8.576 8.996571 19.712 8.137143 27.849143-1.28 49.718857-55.296 130.285714-95.158857 213.010286-94.299429 83.565714-0.859429 163.712 40.283429 213.851428 95.579429 8.137143 8.557714 18.852571 8.557714 27.008-0.438857l63.853714-62.994286c6.857143-6.857143 7.716571-15.853714 1.28-23.149714-62.134857-76.708571-177.426286-133.284571-305.993142-133.284572-128.585143 0-243.858286 56.996571-306.011429 133.302857-6.418286 7.277714-5.558857 15.835429 1.28 23.131429z m240.859429 224.987428c8.996571 0 17.133714-4.717714 32.987428-20.132571l100.297143-96.438857c6.418286-5.997714 7.716571-15.414857 2.139429-22.710857-27.008-34.706286-77.568-64.713143-135.424-64.713143-59.154286 0-110.573714 31.286857-137.142858 67.291428-3.858286 5.997714-2.56 14.134857 3.84 20.132572l100.297143 96.438857c15.853714 15.414857 24.009143 20.132571 33.005715 20.132571z','p-id':'38915',fill:'currentColor'},null,-1)])]))]),(0,a.createElementVNode)('span',R,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',G,[...o[3]||(o[3]=[(0,a.createElementVNode)('path',{d:'M999.611733 387.697778a37.831111 37.831111 0 0 0-48.355555 22.641778v0.512l-1.592889 5.233777c-58.88-241.208889-302.648889-388.892444-543.857778-330.012444A446.805333 446.805333 0 0 0 124.546844 295.253333a39.139556 39.139556 0 0 0 13.653334 53.077334 39.310222 39.310222 0 0 0 18.944 5.233777c13.084444 0 25.201778-6.826667 32.540444-18.375111a374.158222 374.158222 0 0 1 359.480889-183.978666 381.952 381.952 0 0 1 337.351111 334.279111 384.568889 384.568889 0 0 1-3.128889 115.086222v2.616889a38.855111 38.855111 0 0 0 21.560889 48.355555c19.456 6.826667 41.528889-3.185778 48.355556-22.641777l68.835555-192.284445a39.310222 39.310222 0 0 0-22.584889-48.924444z m-148.764444 348.956444a38.115556 38.115556 0 0 0-31.004445 16.839111 373.077333 373.077333 0 0 1-355.214222 157.639111 381.212444 381.212444 0 0 1-323.185778-306.346666 396.344889 396.344889 0 0 1 0-140.856889v-1.592889a39.139556 39.139556 0 0 0-22.072888-48.355556 38.058667 38.058667 0 0 0-48.355556 22.584889l-68.835556 191.317334a38.513778 38.513778 0 0 0 23.608889 48.867555c19.456 7.395556 40.96-3.128889 48.355556-22.584889v-3.697777c58.88 241.208889 302.705778 388.892444 543.914667 330.012444A448.739556 448.739556 0 0 0 881.851733 798.151111a38.684444 38.684444 0 0 0-8.362666-54.158222 31.857778 31.857778 0 0 0-22.641778-7.338667z','p-id':'41017',fill:'currentColor'},null,-1),(0,a.createElementVNode)('path',{d:'M310.687289 693.020444a50.517333 50.517333 0 0 0-33.166222 19.456 40.96 40.96 0 0 0 0 31.573334c1.592889 4.721778 3.697778 9.443556 6.257777 14.165333a26.794667 26.794667 0 0 0 13.198223 11.036445 30.833778 30.833778 0 0 0 12.060444 2.104888h5.290667c6.826667-1.080889 13.653333-2.616889 20.48-4.721777 15.758222-5.290667 32.028444-11.605333 48.924444-18.432 16.782222-6.826667 34.133333-15.758222 49.322667-23.608889 15.246222-7.907556 32.597333-17.863111 46.250667-26.282667 14.222222-8.419556 24.177778-15.758222 35.271111-24.177778 24.632889 19.456 50.915556 36.238222 78.791111 49.891556 33.621333 17.351111 68.835556 31.004444 105.073778 42.097778a56.32 56.32 0 0 0 20.48 3.640889 33.905778 33.905778 0 0 0 34.190222-26.282667 39.025778 39.025778 0 0 0-1.592889-35.726222 49.322667 49.322667 0 0 0-26.225778-18.375111 540.842667 540.842667 0 0 1-85.162667-33.621334 603.932444 603.932444 0 0 1-63.601777-38.912c20.48-23.096889 37.831111-48.355556 52.565333-75.662222a465.294222 465.294222 0 0 0 38.343111-98.304h49.436445a38.456889 38.456889 0 0 0 26.282666-12.060444 46.762667 46.762667 0 0 0 7.850667-26.282667 44.032 44.032 0 0 0-8.931556-28.899556 37.432889 37.432889 0 0 0-26.282666-11.036444H568.6784a116.167111 116.167111 0 0 0-9.500444-17.863111c-10.467556-12.629333-22.584889-25.770667-34.702223-38.912a47.786667 47.786667 0 0 0-27.818666-18.375111h-4.209778a36.636444 36.636444 0 0 0-24.177778 8.419555 35.896889 35.896889 0 0 0-18.375111 29.923556 51.2 51.2 0 0 0 16.270222 33.109333l6.314667 6.314667H315.352178a34.133333 34.133333 0 0 0-26.282667 12.629333 45.852444 45.852444 0 0 0-6.826667 26.282667c-0.512 10.467556 2.104889 20.48 7.907556 28.899555 6.826667 6.826667 16.270222 11.036444 26.282667 11.036445h47.274666c5.233778 15.758222 10.524444 32.028444 16.839111 47.786666a419.271111 419.271111 0 0 0 50.403556 94.094223c8.419556 11.036444 17.351111 22.584889 26.282667 33.109333a389.461333 389.461333 0 0 1-64.625778 39.936c-26.282667 12.629333-54.101333 23.096889-81.976889 32.028444z m131.299555-246.954666h140.344889c-6.826667 23.096889-16.839111 45.169778-28.387555 66.730666a325.290667 325.290667 0 0 1-39.936 55.751112 319.146667 319.146667 0 0 1-39.424-52.622223l-2.616889-4.209777a388.778667 388.778667 0 0 1-29.980445-65.649778z','p-id':'41018',fill:'currentColor'},null,-1)])]))])])):(0,a.createCommentVNode)('v-if',!0),(0,a.withDirectives)((0,a.createElementVNode)('div',O,[o[4]||(o[4]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'black','margin-top':'10px','margin-bottom':'8px'}},null,-1)),(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(t.bubble?.content),1)],512),[[a.vShow,(0,a.unref)(i)]])],10,j)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' transfer类型 '),'transfer'==t.bubble.msgtype&&'user'!=t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',U,[(0,a.createElementVNode)('div',P,[(0,a.createElementVNode)('span',null,(0,a.toDisplayString)(t.bubble?.count),1),o[5]||(o[5]=(0,a.createElementVNode)('span',null,'已转入你的余额',-1)),o[6]||(o[6]=(0,a.createElementVNode)('div',{style:{'border-radius':'50%','background-color':'#9fccf1',width:'50px',height:'50px',position:'absolute',right:'10px',display:'flex','align-items':'center','justify-content':'center',top:'15px'}},[(0,a.createElementVNode)('svg',{t:'1738258225266',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'4449',width:'33',height:'33'},[(0,a.createElementVNode)('path',{d:'M954.014 510.695c-31.51 0.303-185.995-88.917-190.874-93.568-11.734-11.188-7.3-25.115 4.673-27.02s79.203-9.898 79.203-9.898c-41.318-110.437-133.518-198.636-254.527-227.223-193.138-45.643-392.87 83.827-437.013 281.424-0.38 1.685-3.047 21.83-19.045 21.191-10.83-0.432-46.309-14.539-59.136-20.556-14.644-6.868-18.601-5.094-14.16-27.201C113.37 156.643 370.632-12.653 617.554 45.272c204.919 48.063 347.27 225.878 362.91 428.477 2.619 27.151-11.203 36.797-26.451 36.944z m-322.516 55.059c20.284 0 36.729 16.427 36.729 36.727 0 20.265-16.445 36.729-36.729 36.729h-73.456v45.909c0 25.359-20.551 45.911-45.911 45.911-25.358 0-45.91-20.551-45.91-45.911V639.21h-73.456c-20.284 0-36.727-16.465-36.727-36.729 0-20.302 16.444-36.727 36.727-36.727h73.456v-36.73h-73.456c-20.284 0-36.727-16.461-36.727-36.726 0-20.3 16.444-36.729 36.727-36.729h73.456v-2.512l-81.508-81.491c-14.445-14.455-14.445-37.875 0-52.313s37.858-14.437 52.304 0l74.497 74.478 74.786-74.784c14.444-14.419 37.859-14.419 52.303 0 14.446 14.454 14.446 37.877 0 52.313l-80.558 80.559v3.749h73.456c20.284 0 36.729 16.429 36.729 36.729 0 20.267-16.445 36.726-36.729 36.726h-73.456v36.73h73.456z m-368.471 51.828c16.112 10.302 12.229 30.994-5.477 32.836s-73.153 6.725-73.153 6.725C228.353 760.157 317.44 841.379 432.63 868.585c193.137 45.623 390.651-77.582 434.806-275.179 0.906-4.054 0.877-3.418 2.457-12.122s4.139-21.945 21.142-16.052 58.475 18.085 71.394 21.539 11.465 8.548 9.846 20.553c-0.493 3.651-1.238 6.994-2.017 10.509-57.81 256.921-309.451 417.196-562.049 357.924-204.677-48.01-346.947-225.429-362.865-427.724-2.159-34.762 22.4-41.857 47.505-28.577 19.75 10.447 154.064 87.822 170.176 98.124z','p-id':'4450',fill:'#4090ee'})])],-1))]),o[7]||(o[7]=(0,a.createElementVNode)('div',{style:{'background-color':'#ffffff',width:'100%',height:'30px',color:'#959598','font-size':'13px','padding-left':'10px','padding-top':'8px'}},' QQ转账 ',-1))])):(0,a.createCommentVNode)('v-if',!0),'transfer'==t.bubble.msgtype&&'user'==t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',X,[(0,a.createElementVNode)('div',J,[o[9]||(o[9]=(0,a.createElementVNode)('div',{style:{'border-radius':'50%','background-color':'#9fccf1',width:'50px','min-width':'50px','min-height':'50px',height:'50px',right:'10px',display:'flex','align-items':'center','justify-content':'center',top:'15px'}},[(0,a.createElementVNode)('svg',{t:'1738258225266',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'4449',width:'33',height:'33'},[(0,a.createElementVNode)('path',{d:'M954.014 510.695c-31.51 0.303-185.995-88.917-190.874-93.568-11.734-11.188-7.3-25.115 4.673-27.02s79.203-9.898 79.203-9.898c-41.318-110.437-133.518-198.636-254.527-227.223-193.138-45.643-392.87 83.827-437.013 281.424-0.38 1.685-3.047 21.83-19.045 21.191-10.83-0.432-46.309-14.539-59.136-20.556-14.644-6.868-18.601-5.094-14.16-27.201C113.37 156.643 370.632-12.653 617.554 45.272c204.919 48.063 347.27 225.878 362.91 428.477 2.619 27.151-11.203 36.797-26.451 36.944z m-322.516 55.059c20.284 0 36.729 16.427 36.729 36.727 0 20.265-16.445 36.729-36.729 36.729h-73.456v45.909c0 25.359-20.551 45.911-45.911 45.911-25.358 0-45.91-20.551-45.91-45.911V639.21h-73.456c-20.284 0-36.727-16.465-36.727-36.729 0-20.302 16.444-36.727 36.727-36.727h73.456v-36.73h-73.456c-20.284 0-36.727-16.461-36.727-36.726 0-20.3 16.444-36.729 36.727-36.729h73.456v-2.512l-81.508-81.491c-14.445-14.455-14.445-37.875 0-52.313s37.858-14.437 52.304 0l74.497 74.478 74.786-74.784c14.444-14.419 37.859-14.419 52.303 0 14.446 14.454 14.446 37.877 0 52.313l-80.558 80.559v3.749h73.456c20.284 0 36.729 16.429 36.729 36.729 0 20.267-16.445 36.726-36.729 36.726h-73.456v36.73h73.456z m-368.471 51.828c16.112 10.302 12.229 30.994-5.477 32.836s-73.153 6.725-73.153 6.725C228.353 760.157 317.44 841.379 432.63 868.585c193.137 45.623 390.651-77.582 434.806-275.179 0.906-4.054 0.877-3.418 2.457-12.122s4.139-21.945 21.142-16.052 58.475 18.085 71.394 21.539 11.465 8.548 9.846 20.553c-0.493 3.651-1.238 6.994-2.017 10.509-57.81 256.921-309.451 417.196-562.049 357.924-204.677-48.01-346.947-225.429-362.865-427.724-2.159-34.762 22.4-41.857 47.505-28.577 19.75 10.447 154.064 87.822 170.176 98.124z','p-id':'4450',fill:'#4090ee'})])],-1)),(0,a.createElementVNode)('div',Z,[(0,a.createElementVNode)('span',W,(0,a.toDisplayString)(t.bubble?.count),1),o[8]||(o[8]=(0,a.createElementVNode)('span',{style:{'text-align':'start'}},'已转入好友余额',-1))])]),o[10]||(o[10]=(0,a.createElementVNode)('div',{style:{'background-color':'#ffffff',width:'100%',height:'30px',color:'#959598','font-size':'13px','padding-left':'10px','padding-top':'8px','text-align':'start'}},' QQ转账 ',-1))])):(0,a.createCommentVNode)('v-if',!0)],4),'user'==t.bubble.sender?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:1,class:'user_avatar Chat_MyHead',style:(0,a.normalizeStyle)(`height: ${p.value}; width: ${p.value}; min-width: ${p.value}; background-size: cover;background-image:url('${(0,a.unref)(s).ST.userHead}')`)},null,4)):(0,a.createCommentVNode)('v-if',!0)],6)):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' system类型 '),'system'==t.bubble.msgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',Y,(0,a.toDisplayString)(t.bubble?.content),1)):(0,a.createCommentVNode)('v-if',!0)],64);var r}}};n(18);const ee=K,te={style:{'padding-top':'7px','backdrop-filter':'blur(1px)','background-color':'rgb(255, 255, 255, 0.1)'}},ne={style:{width:'100%',height:'20px',display:'grid',top:'0',left:'0','grid-template-columns':'auto 1fr auto','align-items':'center','margin-top':'20px'}},ae={style:{display:'flex','align-items':'center','max-width':'100%',overflow:'hidden','margin-left':'5px'}},oe={class:'QQ_chat_username'},re={class:'chat-bar','aria-label':'输入工具栏'},ie={class:'input-shell',style:{flex:'1 !important',display:'flex !important','align-items':'center !important',background:'#ffffff !important','border-radius':'8px !important',padding:'10px 12px !important','box-shadow':'0 1px 2px rgba(0, 0, 0, 0.04) !important','min-width':'0 !important'}},le={class:'chat_function_container',style:{width:'100%',height:'250px','margin-top':'5px','border-top':'#d7d5d5 1px solid'}},se={class:'emoji_container'},ce=['onClick','data-name','src'],de={class:'input_container'},pe={class:'input_container'},he={class:'chat-setting-popup'},me={class:'chat-setting-header'},ue={class:'chat-setting-content'},ge={class:'setting-item'},fe={style:{flex:'1'}},ve={class:'setting-item'},xe={style:{flex:'1'}},be={class:'setting-item'},ye={style:{flex:'1'}},we={key:0,class:'setting-item'},ke={style:{flex:'1'}},Ee={class:'setting-item'},Qe={style:{flex:'1'}},Ve={class:'setting-item'},Ne={style:{flex:'1'}},_e={class:'setting-item'},ze={style:{flex:'1'}},Be={class:'preview',style:{margin:'0 auto'}},Ce={class:'chat-setting-footer'},Se={class:'chat-setting-popup'},Me={class:'chat-setting-header'},je={class:'chat-setting-content'},Ae={class:'setting-item'},De={style:{flex:'1'}},Te={class:'setting-item'},Fe={style:{flex:'1'}},$e={class:'setting-item'},He={style:{flex:'1'}},Le={class:'chat-setting-popup'},qe={class:'chat-setting-header'},Ie={class:'chat-setting-content'},Re={class:'setting-item'},Ge={style:{flex:'1'}},Oe={class:'setting-item'},Ue={style:{flex:'1'}},Pe={class:'setting-item',style:{'align-items':'start'}},Xe={style:{flex:'1'}},Je={class:'setting-item',style:{'align-items':'start'}},Ze={style:{flex:'1'}},We={style:{'font-size':'14px',color:'gray','margin-left':'10px','margin-bottom':'5px'}},Ye={class:'chat-setting-footer'},Ke={class:'popup-overlay'},et={__name:'chat_page',props:['value','name'],setup(e){const t=e,n=(0,a.ref)(''),o=(0,a.ref)(!1),r=(0,a.ref)(null),i=((0,a.computed)(()=>s.QQ.chathistory[t.name]?.msgs||[]),(0,a.ref)({enable:!1,bubble:t.value.bubble||'#FFFFFF',text:t.value.text||'#000000',inputColor:t.value.inputColor||'#FFFFFF',head:t.value.head,background:t.value.background,phone:t.value?.phone||'隐藏机型',name:t.value.name||''})),l=JSON.parse(JSON.stringify(i.value)),c=(0,a.ref)({show:!1,showtype:''}),d=(0,a.ref)({show:!1,msgtype:'',text:{voice:'',img:'',transfer:''}}),p=(0,a.computed)(()=>{if(t.name in s.QQ.chars){let e=s.QQ.chars[t.name].background;return e?`background-image:url('${e}')`:''}return console.log('没有壁纸'),''}),h=(0,a.computed)(()=>!('banSend'in t.value)||!t.value.banSend),m=(0,a.ref)({name:'',content:'',members:'',entryName:`群聊${t.name}`});function u(){'Group'==t.value.chartype&&g(),i.value.enable=!i.value.enable}function g(){const e=s.ST.getEntry([m.value.entryName],!0);if(console.log(`读取世界书内容${m.value.entryName}`),!e)return;let t;console.log(e.content);try{t=YAML.parse(e.content),m.value.name=t[m.value.entryName].群初始名称,m.value.content=t[m.value.entryName].群作用,m.value.members=t[m.value.entryName].群成员}catch{return void console.log('yaml解析失败')}}const f=(0,a.ref)(!1),v=(0,a.computed)(()=>'0px');(0,a.watch)(()=>t.value,e=>{i.value.bubble=e.bubble,i.value.text=e.text,i.value.head=e.head,i.value.background=e.background},{deep:!0}),(0,a.watch)(()=>s.QQ.chathistory[t.name]?.msgs?.length,e=>{V()});let x=null,b=0,y=!1,w=!1;const k=(0,a.computed)(()=>'npc'!==t.value?.chartype);function E(){x?.disconnect(),x=null}function Q(){const e=r.value;e&&(b=e.clientHeight||0,E(),x=new ResizeObserver(()=>{const e=r.value;if(!e)return;if(0===e.clientHeight)return void(w=!0);if(y)return void(b=e.clientHeight);if(w)return w=!1,void(b=e.clientHeight);if(e.scrollHeight-(e.scrollTop+e.clientHeight)<=20)return e.scrollTop=e.scrollHeight-e.clientHeight,void(b=e.clientHeight);const t=e.scrollHeight-(e.scrollTop+b);e.scrollTop=e.scrollHeight-e.clientHeight-t,b=e.clientHeight}),x.observe(e))}(0,a.onMounted)(async()=>{await(0,a.nextTick)(),k.value&&Q()}),(0,a.watch)([k,r],async([e])=>{e?(await(0,a.nextTick)(),Q()):E()}),(0,a.onBeforeUnmount)(()=>{E()});const V=()=>{const e=r.value;e&&(y=!0,(0,a.nextTick)(()=>{requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight,b=e.clientHeight||0,requestAnimationFrame(()=>{y=!1})})}))};function N(){s.QQ.activeChatId=null}function B(e){const a=n.value;if(s.generate||!h.value)return;n.value='';const r=t.name;if(console.log(`给${r}发送消息:${a}`),!a.match(/\S/)&&0==s.QQ.cacheMsg.length)return;o.value=!0,setTimeout(()=>o.value=!1,120),r in s.QQ.chathistory==0&&(s.QQ.chathistory[r]={chartype:'Group'==s.QQ.chars[r].chartype?'Group':'private',msgs:[]}),a&&s.QQ.addMsg(r,{msgtype:'text',content:a,sender:'user',time:''});const i=s.QQ.chars[t.name]?.chartype;if('尾附'==s.phone.sendModel){let e='';e+='Group'==i?`\n在群聊${t.name}中发送消息:${a}`:`\n给${t.name}发送消息:${a}`;const n=$('#send_textarea').val().trim()+e;return $('#send_textarea').val(n.trim()||'')[0].dispatchEvent(new Event('input',{bubbles:!0})),void(s.QQ.cacheMsg=[])}if(e){let e=s.QQ.cacheMsg.join('\n').trim();a&&(e+='Group'==i?`\n在群聊${t.name}中发送消息:${a}`:`\n给${t.name}发送消息:${a}`),s.QQ.cacheMsg=[],triggerSlash(`/send ${e.trim()}|/trigger`)}else if(a){let e='';e='Group'==i?`\n在群聊${t.name}中发送消息:${a}`:`\n给${t.name}发送消息:${a}`,s.QQ.cacheMsg.push(e.trim())}s.QQ.chathistory[r].unread=0}function C(e){if(i.value.enable=!1,!e)return void(i.value=JSON.parse(JSON.stringify(l)));i.value.text&&(s.QQ.chars[t.name].text=i.value.text),i.value.bubble&&(s.QQ.chars[t.name].bubble=i.value.bubble),i.value.head&&(s.QQ.chars[t.name].head=i.value.head),i.value.background&&(s.QQ.chars[t.name].background=i.value.background),i.value.phone&&(s.QQ.chars[t.name].phone=i.value.phone),'friend'==t.value.chartype&&i.value.name&&(s.QQ.chars[t.name].name=i.value.name);let n=i.value.inputColor;n&&'留空'!=n&&'透明'!=n||(n='transparent'),s.QQ.chars[t.name].inputColor=n,s.QQ.saveChars()}async function S(e){if(i.value.enable=!1,!e)return void g();i.value.background&&(s.QQ.chars[t.name].background=i.value.background),m.value.name&&(s.QQ.chars[t.name].name=m.value.name),await s.QQ.saveChars();const n=m.value.entryName,a={[n]:{群初始名称:m.value.name,群成员:m.value.members,群作用:m.value.content}},o=YAML.stringify(a);console.log(o);const r=s.ST.getEntry([n],!0);r?r&&await setLorebookEntries(s.ST.worldName,[{uid:r.uid,content:o}]):await createWorldbookEntries(s.ST.worldName,[{name:n,enabled:!0,position:{type:'at_depth',role:'system',depth:4,order:5421},strategy:{type:'constant'},content:o}])}function M(){alert('删除还没做,过几天再做')}function j(){const{bgColor:e,textColor:t}=s.generateBubbleColor();i.value.bubble=e,i.value.text=t}function A(e){if(s.generate||!h.value)return;const n=t.name;if(console.log(e,d.value.text[e]),!d.value.text[e])return;const a=d.value.text[e];let o,r='';if(r='voice'==e?'yy':'transfer'==e?'zz':e,o='transfer'!=e?`[${r}-${a}]`:`[${r}-${a}元]`,console.log(`发送出去的文本:${o}`),n in s.QQ.chathistory==0&&(s.QQ.chathistory[n]={chartype:'Group'==s.QQ.chars[n].chartype?'Group':'private',msgs:[]}),a){const t={msgtype:e,content:a,sender:'user',time:''};'transfer'==e&&(t.count=a+'元'),s.QQ.addMsg(n,t)}const i=s.QQ.chars[t.name]?.chartype;if('尾附'==s.phone.sendModel){let n='';n+='Group'==i?`\n在群聊${t.name}中发送消息:${o}`:`\n给${t.name}发送消息:${o}`;const a=$('#send_textarea').val().trim()+n;return $('#send_textarea').val(a.trim()||'')[0].dispatchEvent(new Event('input',{bubbles:!0})),void(d.value.text[e]='')}{let e='';e='Group'==i?`\n在群聊${t.name}中发送消息:${o}`:`\n给${t.name}发送消息:${o}`,s.QQ.cacheMsg.push(e)}d.value.text[e]='',s.QQ.chathistory[n].unread=0,d.value.show=!1}return(0,a.watch)(()=>s.QQ.activeChatId,e=>{e&&e===t.name&&V()}),(e,l)=>((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:'slide-fade'},{default:(0,a.withCtx)(()=>['npc'!=t.value.chartype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:0,class:'QQ_chat_page',style:(0,a.normalizeStyle)(`width: 100%; height: 100%; padding-top: 0px;${p.value}`)},[(0,a.createElementVNode)('div',te,[(0,a.createElementVNode)('div',ne,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:N,class:'QQ-close-btn',viewBox:'0 0 1024 1024',style:{height:'14px',width:'14px','margin-left':'8px'}},[...l[35]||(l[35]=[(0,a.createElementVNode)('path',{d:'M769.137778 153.372444L444.984889 512l324.152889 358.684444c36.408889 35.043556 36.408889 91.989333 0 126.976a95.744 95.744 0 0 1-131.868445 0l-377.571555-417.678222c-1.536-1.365333-3.584-1.877333-5.063111-3.299555A87.438222 87.438222 0 0 1 227.555556 512c-0.341333-23.324444 8.533333-46.876444 27.079111-64.739556 1.479111-1.422222 3.527111-1.934222 5.063111-3.185777L637.269333 26.339556a95.744 95.744 0 0 1 131.868445 0c36.408889 35.043556 36.408889 91.932444 0 127.032888z',fill:'#666666','p-id':'1570'},null,-1)])])),(0,a.createElementVNode)('div',ae,[(0,a.withDirectives)((0,a.createElementVNode)('div',{class:'new_tips',style:{'background-color':'gray',color:'#fff',width:'20px',height:'20px','border-radius':'50%','justify-content':'center','align-items':'center','font-size':'12px',display:'flex'}},(0,a.toDisplayString)((0,a.unref)(s).QQ.allUnRead),513),[[a.vShow,(0,a.unref)(s).QQ.allUnRead>0]]),(0,a.createElementVNode)('span',oe,(0,a.toDisplayString)(t.value.name),1)]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:u,id:'QQ_chat_page_setting',viewBox:'0 0 1024 1024',style:{height:'15px',width:'15px','margin-right':'14px'}},[...l[36]||(l[36]=[(0,a.createElementVNode)('path',{d:'M901.632 896H122.368c-30.72 0-55.808-25.088-55.808-55.808v-1.536c0-30.72 25.088-55.808 55.808-55.808h779.776c30.72 0 55.808 25.088 55.808 55.808v1.536c-0.512 30.72-25.6 55.808-56.32 55.808zM901.632 568.32H122.368c-30.72 0-55.808-25.088-55.808-55.808v-1.536c0-30.72 25.088-55.808 55.808-55.808h779.776c30.72 0 55.808 25.088 55.808 55.808v1.536c-0.512 30.72-25.6 55.808-56.32 55.808zM901.632 240.64H122.368c-30.72 0-55.808-25.088-55.808-55.808v-1.536c0-30.72 25.088-55.808 55.808-55.808h779.776c30.72 0 55.808 25.088 55.808 55.808v1.536c-0.512 30.72-25.6 55.808-56.32 55.808z','p-id':'4301',fill:'#666666'},null,-1)])]))]),l[37]||(l[37]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'0.5px','background-color':'#eee','margin-top':'5px','border-top':'1px solid #9a9a9a'}},null,-1))]),(0,a.createElementVNode)('div',{onClick:l[0]||(l[0]=e=>{c.value.show=!1,c.value.showtype='',f.value=!1}),ref_key:'msgContentRef',ref:r,class:'msgcontent',style:(0,a.normalizeStyle)([{marginBottom:v.value},{'padding-top':'15px','padding-bottom':'0'}])},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).QQ.chathistory[t.name]?.msgs||[],e=>((0,a.openBlock)(),(0,a.createBlock)(ee,{bubble:e,isGroup:(0,a.unref)(s).QQ.chathistory[t.name]?.chartype,senderinfo:(0,a.unref)(s).QQ.chars[e?.sender]},null,8,['bubble','isGroup','senderinfo']))),256))],4),(0,a.createCommentVNode)(' <div\r\n        style="display: none"\r\n        v-if="inputShow"\r\n        class="input-container"\r\n        :style="`background-color:${sharedState.QQ.chars[props.name].inputColor}`"\r\n      >\r\n        <div style="display: flex; align-items: center; width: 100%">\r\n          <div style="flex-grow: 1; margin-left: 5px; margin-right: 2%">\r\n            <input\r\n              v-model="text_value"\r\n              @keyup.enter="sendText(false)"\r\n              class="userInput"\r\n              type="text"\r\n              name=""\r\n              style="\r\n                box-sizing: border-box;\r\n                background-color: transparent;\r\n                background-color: unset !important;\r\n                border: 1px solid rgb(0, 0, 0, 0.5) !important;\r\n                color: black !important;\r\n              "\r\n            />\r\n          </div>\r\n          <div @click="sendText(true)" style="margin-right: 7px" id="QQ_chat_send-btn">\r\n            <button\r\n              style="\r\n                background-color: #fff;\r\n                border-radius: 10px;\r\n                height: 31px;\r\n                display: block;\r\n                width: 3.5rem;\r\n                background-color: transparent;\r\n                border: 1px solid rgb(0, 0, 0, 0.5);\r\n                color: black !important;\r\n              "\r\n            >\r\n              发送\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="QQ_chatpage_function">\r\n          <svg\r\n            @click="function_click(\'voice\')"\r\n            :class="`QQ_chatpage_function_voice${containerShow.showtype == \'voice\' ? \' svg_selected\' : \'\'}`"\r\n            viewBox="0 0 1024 1024"\r\n            width="28"\r\n            height="25"\r\n          >\r\n            <path\r\n              d="M320.093091 234.682182a191.906909 191.906909 0 1 1 383.813818 0V512a191.906909 191.906909 0 1 1-383.813818 0V234.682182zM512 127.906909a106.728727 106.728727 0 0 0-106.728727 106.775273V512a106.728727 106.728727 0 1 0 213.457454 0V234.682182A106.728727 106.728727 0 0 0 512 127.906909zM192 448.093091c23.505455 0 42.589091 19.083636 42.589091 42.589091a277.410909 277.410909 0 0 0 554.821818 0 42.589091 42.589091 0 0 1 85.178182 0 362.589091 362.589091 0 0 1-320 360.122182v87.877818a42.589091 42.589091 0 0 1-85.178182 0v-87.924364a362.635636 362.635636 0 0 1-320-360.075636c0-23.552 19.083636-42.589091 42.589091-42.589091z"\r\n              p-id="8419"\r\n            ></path>\r\n          </svg>\r\n          <svg\r\n            @click="function_click(\'img\')"\r\n            :class="`QQ_chatpage_function_img${containerShow.showtype == \'img\' ? \' svg_selected\' : \'\'}`"\r\n            viewBox="0 0 1024 1024"\r\n            width="28"\r\n            height="28"\r\n          >\r\n            <path\r\n              d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"\r\n              p-id="10905"\r\n            ></path>\r\n          </svg>\r\n          <svg class="QQ_chatpage_function_camera" viewBox="0 0 1024 1024" width="28" height="28">\r\n            <path\r\n              d="M269.44 256l23.296-75.381333A74.666667 74.666667 0 0 1 364.074667 128h295.850666a74.666667 74.666667 0 0 1 71.338667 52.618667L754.56 256H821.333333c64.8 0 117.333333 52.533333 117.333334 117.333333v426.666667c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V373.333333c0-64.8 52.533333-117.333333 117.333334-117.333333h66.773333z m23.605333 64H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v426.666667a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V373.333333a53.333333 53.333333 0 0 0-53.333334-53.333333h-90.378666a32 32 0 0 1-30.570667-22.549333l-30.272-97.930667a10.666667 10.666667 0 0 0-10.186667-7.52H364.074667a10.666667 10.666667 0 0 0-10.186667 7.52l-30.272 97.92A32 32 0 0 1 293.045333 320zM512 725.333333c-88.362667 0-160-71.637333-160-160 0-88.362667 71.637333-160 160-160 88.362667 0 160 71.637333 160 160 0 88.362667-71.637333 160-160 160z m0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"\r\n              p-id="6401"\r\n            ></path>\r\n          </svg>\r\n          <svg\r\n            @click="function_click(\'transfer\')"\r\n            :class="`QQ_chatpage_function_redpacket${containerShow.showtype == \'transfer\' ? \' svg_selected\' : \'\'}`"\r\n            viewBox="0 0 1024 1024"\r\n            p-id="12169"\r\n            width="28"\r\n            height="28"\r\n          >\r\n            <path\r\n              d="M827 357.60909131a522.16363653 522.16363653 0 0 1-159.83181826 81.9 155.45454521 155.45454521 0 0 1-310.33636348 0A522.16363653 522.16363653 0 0 1 197 357.60909131V798.36363652A90 90 0 0 0 287 888.36363653h450a90 90 0 0 0 90-90V357.60909131z m0-85.58181826V225.63636348A90 90 0 0 0 737 135.63636347H287A90 90 0 0 0 197 225.63636348v46.34999999a457.93636347 457.93636347 0 0 0 169.97727305 102.06818174 155.49545479 155.49545479 0 0 1 290.0454539 0A457.89545479 457.89545479 0 0 0 827 272.02727305zM287 70.18181826h450A155.45454521 155.45454521 0 0 1 892.45454521 225.63636348v572.72727304a155.45454521 155.45454521 0 0 1-155.45454521 155.45454522H287A155.45454521 155.45454521 0 0 1 131.54545479 798.36363652V225.63636348A155.45454521 155.45454521 0 0 1 287 70.18181826z m225 450a90 90 0 1 0 0-180 90 90 0 0 0 0 180z"\r\n              p-id="12170"\r\n            ></path>\r\n          </svg>\r\n          <svg\r\n            @click="function_click(\'emoji\')"\r\n            :class="`QQ_chatpage_function_emoji${containerShow.showtype == \'emoji\' ? \' svg_selected\' : \'\'}`"\r\n            viewBox="0 0 1024 1024"\r\n            p-id="13480"\r\n            width="28"\r\n            height="28"\r\n          >\r\n            <path\r\n              d="M512 64a448 448 0 1 1 0 896A448 448 0 0 1 512 64z m0 64a384 384 0 1 0 0 768A384 384 0 0 0 512 128zM282.624 611.2H351.36c35.52 60.416 82.112 96.128 160.64 96.128 73.92 0 117.888-27.072 155.008-84.928l6.848-11.2h67.52a246.208 246.208 0 0 1-453.76 11.84l-4.992-11.84H351.36z m387.2-251.264a48 48 0 1 1 0 96 48 48 0 0 1 0-96z m-315.2 0a48 48 0 1 1 0 96 48 48 0 0 1 0-96z"\r\n              p-id="13481"\r\n            ></path>\r\n          </svg>\r\n          <svg class="QQ_chatpage_function_other" viewBox="0 0 1024 1024" p-id="14615" width="28" height="28">\r\n            <path\r\n              d="M512 958.016611c-119.648434 0-232.1288-46.367961-316.736783-130.559656-84.640667-84.255342-131.263217-196.255772-131.263217-315.455235 0-119.168499 46.624271-231.199892 131.232254-315.424271 84.607983-84.191695 197.088348-130.559656 316.736783-130.559656s232.1288 46.367961 316.704099 130.559656c84.67163 84.224378 131.263217 196.255772 131.263217 315.391587 0.032684 119.199462-46.591587 231.232576-131.263217 315.455235C744.1288 911.615966 631.648434 958.016611 512 958.016611zM512 129.983389c-102.623626 0-199.071738 39.743475-271.583282 111.936783-72.480581 72.12794-112.416718 168.063432-112.416718 270.079828s39.903454 197.951888 112.384034 270.047144c72.511544 72.191587 168.959656 111.936783 271.583282 111.936783 102.592662 0 199.071738-39.743475 271.583282-111.936783 72.480581-72.160624 112.416718-168.063432 112.384034-270.079828 0-102.016396-39.903454-197.919204-112.384034-270.016181C711.071738 169.759548 614.592662 129.983389 512 129.983389z"\r\n              p-id="14616"\r\n            ></path>\r\n            <path\r\n              d="M736.00086 480.00086 544.00086 480.00086 544.00086 288.00086c0-17.664722-14.336138-32.00086-32.00086-32.00086s-32.00086 14.336138-32.00086 32.00086l0 192L288.00086 480.00086c-17.664722 0-32.00086 14.336138-32.00086 32.00086s14.336138 32.00086 32.00086 32.00086l192 0 0 192c0 17.695686 14.336138 32.00086 32.00086 32.00086s32.00086-14.303454 32.00086-32.00086L544.00258 544.00086l192 0c17.695686 0 32.00086-14.336138 32.00086-32.00086S753.696546 480.00086 736.00086 480.00086z"\r\n              p-id="14617"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n        <div class="drawer-wrap" :class="{ open: containerShow.show }">\r\n          <transition name="drawer">\r\n            <div\r\n              v-show="containerShow.show"\r\n              class="chat_function_container"\r\n              style="width: 100%; height: 250px; margin-top: 5px; border-top: #d7d5d5 1px solid"\r\n            >\r\n              <div v-show="containerShow.showtype == \'emoji\'" class="emoji_container">\r\n                <img\r\n                  v-for="(value, key) in sharedState.emoji"\r\n                  @click="sendEmoji(value, key)"\r\n                  :data-name="key"\r\n                  :src="value"\r\n                  alt="加载失败"\r\n                  loading="lazy"\r\n                  class="emoji_container_img"\r\n                />\r\n              </div>\r\n              <div\r\n                v-show="containerShow.showtype == \'voice\' || containerShow.showtype == \'img\'"\r\n                class="input_container"\r\n              >\r\n                <span>文字描述:</span>\r\n                <input v-model="specialText" type="text" placeholder="发送内容的文字描述" />\r\n                <button @click="sendSpecial" class="chat_function_input_container_button">确定</button>\r\n              </div>\r\n              <div v-show="containerShow.showtype == \'transfer\'" class="input_container">\r\n                <span>给对方转账:</span>\r\n                <input v-model="specialText" type="text" placeholder="输入转账金额,无需单位" />\r\n                <button @click="sendSpecial" class="chat_function_input_container_button">确定转账</button>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n      </div> '),h.value?((0,a.openBlock)(),(0,a.createElementBlock)('footer',{key:0,class:(0,a.normalizeClass)(['chat-bar-wrap',{'is-mobile':(0,a.unref)(s).ST.isMobile}]),role:'contentinfo','aria-label':'聊天输入栏',style:(0,a.normalizeStyle)(`background-color:${(0,a.unref)(s).QQ.chars[t.name].inputColor||'#f2f3f5'}`)},[(0,a.createElementVNode)('div',re,[(0,a.createCommentVNode)(' 加号：更多功能入口 '),(0,a.createElementVNode)('button',{onClick:l[1]||(l[1]=e=>d.value.show=!d.value.show),class:'icon-btn','aria-label':'更多功能'},[...l[38]||(l[38]=[(0,a.createElementVNode)('svg',{class:'icon',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round','aria-hidden':'true'},[(0,a.createElementVNode)('path',{d:'M12 5v14M5 12h14'})],-1)])]),(0,a.createCommentVNode)(' 输入框主体 '),(0,a.createElementVNode)('div',ie,[(0,a.createCommentVNode)(' input本体：先清空继承，再设定所需样式 '),(0,a.withDirectives)((0,a.createElementVNode)('input',{id:'messageInput',onKeyup:l[2]||(l[2]=(0,a.withKeys)(e=>B(!1),['enter'])),'onUpdate:modelValue':l[3]||(l[3]=e=>n.value=e),placeholder:'输入消息…',style:{all:'unset !important','box-sizing':'border-box !important',display:'block !important',width:'100% !important','font-size':'15px !important','line-height':'20px !important',color:'#333 !important',background:'transparent !important','caret-color':'#4a90e2 !important'}},null,544),[[a.vModelText,n.value]])]),(0,a.createCommentVNode)(' 表情按钮（在右边，与发送键同侧） '),(0,a.createElementVNode)('button',{onClick:l[4]||(l[4]=e=>{return t='emoji',void(c.value.showtype==t?(c.value.show=!1,c.value.showtype='',f.value=!1):(c.value.show=!0,c.value.showtype=t,f.value=!0));var t}),class:'icon-btn','aria-label':'表情'},[...l[39]||(l[39]=[(0,a.createElementVNode)('svg',{class:'icon',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round','aria-hidden':'true'},[(0,a.createElementVNode)('circle',{cx:'12',cy:'12',r:'10'}),(0,a.createElementVNode)('path',{d:'M8 10h.01M16 10h.01'}),(0,a.createElementVNode)('path',{d:'M8.5 15c1 .8 2.2 1.2 3.5 1.2s2.5-.4 3.5-1.2'})],-1)])]),(0,a.createCommentVNode)(' 发送按钮（始终可见；输入为空时置灰）:disabled="!text_value.trim()" '),(0,a.createElementVNode)('button',{onClick:l[5]||(l[5]=e=>B(!0)),class:(0,a.normalizeClass)([{active:o.value},'send-btn']),id:'sendBtn','aria-label':'发送'},[...l[40]||(l[40]=[(0,a.createElementVNode)('svg',{class:'plane',viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round','aria-hidden':'true'},[(0,a.createElementVNode)('path',{d:'m22 2-7 20-3-9-9-3Z'}),(0,a.createElementVNode)('path',{d:'M22 2 11 13'})],-1)])],2)]),(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(['drawer-wrap',{open:c.value.show}])},[(0,a.createVNode)(a.Transition,{name:'drawer',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',le,[(0,a.withDirectives)((0,a.createElementVNode)('div',se,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).emoji,(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('img',{onClick:a=>function(e,n){if(s.generate||!h.value)return;t.name in s.QQ.chathistory==0&&(console.log(`重置了聊天:${n}`),console.log(JSON.stringify(s.QQ.chathistory)),s.QQ.chathistory[t.name]={chartype:'Group'==s.QQ.chars[t.name].chartype?'Group':'private',msgs:[]}),s.QQ.addMsg(t.name,{msgtype:'emoji',emoji:e,content:n,sender:'user',time:''});const a=s.QQ.chars[t.name]?.chartype;let o=`[bqb-${n}]`,r='';if('尾附'==s.phone.sendModel){r+='Group'==a?`\n在群聊${t.name}中发送消息:${o}`:`\n给${t.name}发送消息:${o}`;const e=$('#send_textarea').val().trim()+r;return void $('#send_textarea').val(e.trim()||'')[0].dispatchEvent(new Event('input',{bubbles:!0}))}r='Group'==a?`\n在群聊${t.name}中发送消息:${o}`:`\n给${t.name}发送消息:${o}`,s.QQ.cacheMsg.push(r)}(e,n),'data-name':n,src:e,alt:'加载失败',loading:'lazy',class:'emoji_container_img'},null,8,ce))),256))],512),[[a.vShow,'emoji'==c.value.showtype]]),(0,a.withDirectives)((0,a.createElementVNode)('div',de,[l[41]||(l[41]=(0,a.createElementVNode)('span',null,'文字描述:',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[6]||(l[6]=t=>e.specialText=t),type:'text',placeholder:'发送内容的文字描述'},null,512),[[a.vModelText,e.specialText]]),(0,a.createElementVNode)('button',{onClick:A,class:'chat_function_input_container_button'},'确定')],512),[[a.vShow,'voice'==c.value.showtype||'img'==c.value.showtype]]),(0,a.withDirectives)((0,a.createElementVNode)('div',pe,[l[42]||(l[42]=(0,a.createElementVNode)('span',null,'给对方转账:',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[7]||(l[7]=t=>e.specialText=t),type:'text',placeholder:'输入转账金额,无需单位'},null,512),[[a.vModelText,e.specialText]]),(0,a.createElementVNode)('button',{onClick:A,class:'chat_function_input_container_button'},'确定转账')],512),[[a.vShow,'transfer'==c.value.showtype]])],512),[[a.vShow,c.value.show]])]),_:1})],2)],6)):(0,a.createCommentVNode)('v-if',!0),(0,a.createVNode)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',he,[(0,a.createElementVNode)('div',me,[l[44]||(l[44]=(0,a.createElementVNode)('span',null,'聊天设置',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:l[8]||(l[8]=e=>C(!1)),class:'close-setting-btn',viewBox:'0 0 1024 1024',width:'20',height:'20'},[...l[43]||(l[43]=[(0,a.createElementVNode)('path',{d:'M512 421.490332 331.092592 240.582924C307.952518 217.442849 270.568889 217.442849 247.428814 240.582924 224.288739 263.722999 224.288739 301.106628 247.428814 324.246702L428.336222 505.154112 247.428814 686.061521C224.288739 709.201596 224.288739 746.585225 247.428814 769.7253 270.568889 792.865374 307.952518 792.865374 331.092592 769.7253L512 588.817891 692.907408 769.7253C716.047482 792.865374 753.431111 792.865374 776.571186 769.7253 799.711261 746.585225 799.711261 709.201596 776.571186 686.061521L595.663778 505.154112 776.571186 324.246702C799.711261 301.106628 799.711261 263.722999 776.571186 240.582924 753.431111 217.442849 716.047482 217.442849 692.907408 240.582924L512 421.490332Z',fill:'#666666'},null,-1)])]))]),(0,a.createElementVNode)('div',ue,[(0,a.createElementVNode)('div',ge,[l[45]||(l[45]=(0,a.createElementVNode)('span',null,'气泡颜色',-1)),(0,a.createElementVNode)('div',fe,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[9]||(l[9]=e=>i.value.bubble=e),style:{width:'100%'},type:'text',id:'bubble-color-input',placeholder:'颜色值'},null,512),[[a.vModelText,i.value.bubble]])]),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[10]||(l[10]=e=>i.value.bubble=e),type:'color',id:'bubble-color',class:'color-picker'},null,512),[[a.vModelText,i.value.bubble]])]),(0,a.createElementVNode)('div',ve,[l[46]||(l[46]=(0,a.createElementVNode)('span',null,'字体颜色',-1)),(0,a.createElementVNode)('div',xe,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[11]||(l[11]=e=>i.value.text=e),style:{width:'100%'},type:'text',id:'text-color-input',placeholder:'颜色值'},null,512),[[a.vModelText,i.value.text]])]),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[12]||(l[12]=e=>i.value.text=e),type:'color',id:'text-color',class:'color-picker'},null,512),[[a.vModelText,i.value.text]])]),(0,a.createElementVNode)('div',be,[l[47]||(l[47]=(0,a.createElementVNode)('span',null,'输入框色',-1)),(0,a.createElementVNode)('div',ye,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[13]||(l[13]=e=>i.value.inputColor=e),style:{width:'100%'},type:'text',id:'text-color-input',placeholder:'颜色值'},null,512),[[a.vModelText,i.value.inputColor]])]),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[14]||(l[14]=e=>i.value.inputColor=e),type:'color',id:'text-color',class:'color-picker'},null,512),[[a.vModelText,i.value.inputColor]])]),'friend'==t.value.chartype?((0,a.openBlock)(),(0,a.createElementBlock)('div',we,[l[48]||(l[48]=(0,a.createElementVNode)('span',null,'角色备注',-1)),(0,a.createElementVNode)('div',ke,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[15]||(l[15]=e=>i.value.name=e),style:{width:'100%'},type:'text',id:'chatbg-input',placeholder:'对角色的备注'},null,512),[[a.vModelText,i.value.name]])]),l[49]||(l[49]=(0,a.createElementVNode)('button',{style:{display:'none'},class:'pickfile-setting-btn','data-id':'bg'},'选择文件',-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createElementVNode)('div',Ee,[l[50]||(l[50]=(0,a.createElementVNode)('span',null,'聊天壁纸',-1)),(0,a.createElementVNode)('div',Qe,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[16]||(l[16]=e=>i.value.background=e),style:{width:'100%'},type:'text',id:'chatbg-input',placeholder:'输入图片URL'},null,512),[[a.vModelText,i.value.background]])]),l[51]||(l[51]=(0,a.createElementVNode)('button',{style:{display:'none'},class:'pickfile-setting-btn','data-id':'bg'},'选择文件',-1))]),(0,a.createElementVNode)('div',Ve,[l[52]||(l[52]=(0,a.createElementVNode)('span',null,'聊天头像',-1)),(0,a.createElementVNode)('div',Ne,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[17]||(l[17]=e=>i.value.head=e),style:{width:'100%'},type:'text',id:'chathead-input',placeholder:'输入图片URL'},null,512),[[a.vModelText,i.value.head]])]),l[53]||(l[53]=(0,a.createElementVNode)('button',{style:{display:'none'},class:'pickfile-setting-btn','data-id':'head'},'选择文件',-1))]),(0,a.createElementVNode)('div',_e,[l[54]||(l[54]=(0,a.createElementVNode)('span',null,'使用机型',-1)),(0,a.createElementVNode)('div',ze,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[18]||(l[18]=e=>i.value.phone=e),style:{width:'100%'},type:'text',id:'chathead-input',placeholder:'输入手机型号'},null,512),[[a.vModelText,i.value.phone]])]),l[55]||(l[55]=(0,a.createElementVNode)('button',{style:{display:'none'},class:'pickfile-setting-btn','data-id':'head'},'选择文件',-1))]),(0,a.createElementVNode)('div',Be,[(0,a.createElementVNode)('div',{class:'QQ_chat_msgdiv',id:'chat-setting-preview','data-name':'${username}',style:(0,a.normalizeStyle)({margin:'0 auto','background-color':i.value.bubble,color:i.value.text})},[...l[56]||(l[56]=[(0,a.createElementVNode)('span',null,'这是预览文本',-1)])],4)]),l[57]||(l[57]=(0,a.createElementVNode)('input',{id:'pickfile-input',type:'file',accept:'image/*',capture:'camera',style:{display:'none'}},null,-1))]),(0,a.createElementVNode)('div',Ce,[(0,a.createElementVNode)('button',{onClick:j,id:'randomcolor-setting-btn',style:{'background-color':'#919bec',color:'white'}},' 随机 '),(0,a.createElementVNode)('button',{onClick:l[19]||(l[19]=e=>C(!0)),id:'save-setting-btn'},'保存'),(0,a.createElementVNode)('button',{onClick:l[20]||(l[20]=e=>C(!1)),id:'cancel-setting-btn'},'取消')]),l[58]||(l[58]=(0,a.createElementVNode)('div',{style:{'font-size':'14px',color:'gray','margin-left':'10px','margin-bottom':'5px'}},' 聊天头像输入\'char\'就是用卡封面当头像 ',-1)),l[59]||(l[59]=(0,a.createElementVNode)('div',{style:{'font-size':'14px',color:'gray','margin-left':'10px','margin-bottom':'5px'}},' 输入框颜色留空（就是不输入）就是透明 ',-1))],512),[[a.vShow,i.value.enable&&'Group'!=t.value.chartype]])]),_:1}),(0,a.createVNode)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',Se,[(0,a.createElementVNode)('div',Me,[l[61]||(l[61]=(0,a.createElementVNode)('span',null,'特殊功能',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:l[21]||(l[21]=e=>d.value.show=!1),class:'close-setting-btn',viewBox:'0 0 1024 1024',width:'20',height:'20'},[...l[60]||(l[60]=[(0,a.createElementVNode)('path',{d:'M512 421.490332 331.092592 240.582924C307.952518 217.442849 270.568889 217.442849 247.428814 240.582924 224.288739 263.722999 224.288739 301.106628 247.428814 324.246702L428.336222 505.154112 247.428814 686.061521C224.288739 709.201596 224.288739 746.585225 247.428814 769.7253 270.568889 792.865374 307.952518 792.865374 331.092592 769.7253L512 588.817891 692.907408 769.7253C716.047482 792.865374 753.431111 792.865374 776.571186 769.7253 799.711261 746.585225 799.711261 709.201596 776.571186 686.061521L595.663778 505.154112 776.571186 324.246702C799.711261 301.106628 799.711261 263.722999 776.571186 240.582924 753.431111 217.442849 716.047482 217.442849 692.907408 240.582924L512 421.490332Z',fill:'#666666'},null,-1)])]))]),(0,a.createElementVNode)('div',je,[(0,a.createElementVNode)('div',Ae,[l[62]||(l[62]=(0,a.createElementVNode)('span',null,'语音',-1)),(0,a.createElementVNode)('div',De,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[22]||(l[22]=e=>d.value.text.voice=e),style:{width:'100%'},type:'text',placeholder:'语音文字内容'},null,512),[[a.vModelText,d.value.text.voice]])]),(0,a.createElementVNode)('button',{onClick:l[23]||(l[23]=e=>A('voice')),class:'pickfile-setting-btn','data-id':'bg'},'发送')]),(0,a.createElementVNode)('div',Te,[l[63]||(l[63]=(0,a.createElementVNode)('span',null,'图片',-1)),(0,a.createElementVNode)('div',Fe,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[24]||(l[24]=e=>d.value.text.img=e),style:{width:'100%'},type:'text',placeholder:'图片文字描述'},null,512),[[a.vModelText,d.value.text.img]])]),(0,a.createElementVNode)('button',{onClick:l[25]||(l[25]=e=>A('img')),class:'pickfile-setting-btn','data-id':'bg'},'发送')]),(0,a.createElementVNode)('div',$e,[l[64]||(l[64]=(0,a.createElementVNode)('span',null,'转账',-1)),(0,a.createElementVNode)('div',He,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[26]||(l[26]=e=>d.value.text.transfer=e),style:{width:'100%'},type:'text',placeholder:'输入转账金额'},null,512),[[a.vModelText,d.value.text.transfer]])]),(0,a.createElementVNode)('button',{onClick:l[27]||(l[27]=e=>A('transfer')),class:'pickfile-setting-btn','data-id':'bg'},'发送')])])],512),[[a.vShow,d.value.show]])]),_:1}),(0,a.createVNode)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',Le,[(0,a.createElementVNode)('div',qe,[l[66]||(l[66]=(0,a.createElementVNode)('span',null,'聊天设置',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:l[28]||(l[28]=e=>C(!1)),class:'close-setting-btn',viewBox:'0 0 1024 1024',width:'20',height:'20'},[...l[65]||(l[65]=[(0,a.createElementVNode)('path',{d:'M512 421.490332 331.092592 240.582924C307.952518 217.442849 270.568889 217.442849 247.428814 240.582924 224.288739 263.722999 224.288739 301.106628 247.428814 324.246702L428.336222 505.154112 247.428814 686.061521C224.288739 709.201596 224.288739 746.585225 247.428814 769.7253 270.568889 792.865374 307.952518 792.865374 331.092592 769.7253L512 588.817891 692.907408 769.7253C716.047482 792.865374 753.431111 792.865374 776.571186 769.7253 799.711261 746.585225 799.711261 709.201596 776.571186 686.061521L595.663778 505.154112 776.571186 324.246702C799.711261 301.106628 799.711261 263.722999 776.571186 240.582924 753.431111 217.442849 716.047482 217.442849 692.907408 240.582924L512 421.490332Z',fill:'#666666'},null,-1)])]))]),(0,a.createElementVNode)('div',Ie,[(0,a.createElementVNode)('div',Re,[l[67]||(l[67]=(0,a.createElementVNode)('span',null,'群名称',-1)),(0,a.createElementVNode)('div',Ge,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[29]||(l[29]=e=>m.value.name=e),style:{width:'100%'},type:'text',id:'chathead-input',placeholder:'输入群名'},null,512),[[a.vModelText,m.value.name]])])]),(0,a.createElementVNode)('div',Oe,[l[68]||(l[68]=(0,a.createElementVNode)('span',null,'群壁纸',-1)),(0,a.createElementVNode)('div',Ue,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':l[30]||(l[30]=e=>i.value.background=e),style:{width:'100%'},type:'text',id:'chathead-input',placeholder:'聊天壁纸'},null,512),[[a.vModelText,i.value.background]])])]),(0,a.createElementVNode)('div',Pe,[l[69]||(l[69]=(0,a.createElementVNode)('span',{style:{'margin-top':'5px'}},'群成员',-1)),(0,a.createElementVNode)('div',Xe,[(0,a.withDirectives)((0,a.createElementVNode)('textarea',{'onUpdate:modelValue':l[31]||(l[31]=e=>m.value.members=e),rows:'4',placeholder:'告诉Ai群里都有谁，怎么输入都行没有格式规范，写个‘一群随机路人’进去也行'},null,512),[[a.vModelText,m.value.members]])])]),(0,a.createElementVNode)('div',Je,[l[70]||(l[70]=(0,a.createElementVNode)('span',{style:{'margin-top':'5px'}},'群说明',-1)),(0,a.createElementVNode)('div',Ze,[(0,a.withDirectives)((0,a.createElementVNode)('textarea',{'onUpdate:modelValue':l[32]||(l[32]=e=>m.value.content=e),rows:'4',placeholder:'告诉Ai角色们会在这里聊什么之类的，比如分享日常，聊八卦'},null,512),[[a.vModelText,m.value.content]])])])]),(0,a.createElementVNode)('div',We,[l[71]||(l[71]=(0,a.createTextVNode)(' 点击保存后,会自动创建一个条目存放这些内容',-1)),l[72]||(l[72]=(0,a.createElementVNode)('br',null,null,-1)),l[73]||(l[73]=(0,a.createTextVNode)(' 默认为蓝灯D4,可在创建后自行修改',-1)),l[74]||(l[74]=(0,a.createElementVNode)('br',null,null,-1)),(0,a.createTextVNode)(' 条目名称为：群聊'+(0,a.toDisplayString)(t.name),1)]),(0,a.createElementVNode)('div',Ye,[(0,a.createElementVNode)('button',{onClick:M,id:'randomcolor-setting-btn',style:{'background-color':'rgb(243 112 112)',color:'white'}},' 删除 '),(0,a.createElementVNode)('button',{onClick:l[33]||(l[33]=e=>S(!0)),id:'save-setting-btn'},'保存'),(0,a.createElementVNode)('button',{onClick:l[34]||(l[34]=e=>S(!1)),id:'cancel-setting-btn'},'取消')])],512),[[a.vShow,i.value.enable&&'Group'==t.value.chartype]])]),_:1}),(0,a.createVNode)(a.Transition,{name:'fade',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',Ke,null,512),[[a.vShow,i.value.enable||d.value.show]])]),_:1})],4)):(0,a.createCommentVNode)('v-if',!0)]),_:1}))}};n(586),n(508);var tt=n(772);const nt=(0,tt.A)(et,[['__scopeId','data-v-0b41bf89']]),at=['data-name'],ot={key:0,viewBox:'0 0 1024 1024',width:'40',height:'40'},rt={style:{width:'100%',display:'grid','grid-template-columns':'1fr 3rem','grid-template-rows':'1fr 1fr','row-gap':'4px'}},it={class:'QQ_home_name',style:{color:'black',display:'block','white-space':'nowrap','text-overflow':'ellipsis',overflow:'hidden'}},lt={class:'QQ_home_lasttime',style:{color:'#626367','justify-self':'end'}},st={class:'QQ_home_lastmsg',style:{color:'#626367','white-space':'nowrap',overflow:'hidden','text-overflow':'ellipsis'}},ct={__name:'home_chars',props:{value:{type:Object},name:{type:String}},setup(e){const t=e;const n=(0,a.computed)(()=>{if(t.name in s.QQ.chathistory==!1)return'';if(0==s.QQ.chathistory[t.name].msgs.length)return'';const e=s.QQ.chathistory[t.name].msgs.slice(-1)[0];if('time'in e){const t=e.time.match(/(\d+:\d+)/);return t?t[1]:e.time}return''}),o=(0,a.computed)(()=>{if(t.name in s.QQ.chathistory==!1)return'';if(0==s.QQ.chathistory[t.name].msgs.length)return'';const e=s.QQ.chathistory[t.name].msgs.slice(-1)[0];return'sender'in e?'Group'==t.value.chartype?`${e.sender}: ${e.content}`:e.content:''});return(e,r)=>'npc'!=t.value?.chartype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:0,onClick:r[0]||(r[0]=e=>{return t.value,n=t.name,s.QQ.activeChatId=n,void(n in s.QQ.chathistory&&(s.QQ.chathistory[n].unread=0));var n}),'data-name':t.value.name,class:'QQ_home_usermsg',style:(0,a.normalizeStyle)(''+((0,a.unref)(s).ST.isMobile?'font-size:12px;':''))},[(0,a.createElementVNode)('div',{class:'QQ_home_head',style:(0,a.normalizeStyle)(`background-image: url(${t.value.head||''})`)},['banSend'in t.value&&t.value.banSend?((0,a.openBlock)(),(0,a.createElementBlock)('svg',ot,[...r[1]||(r[1]=[(0,a.createElementVNode)('path',{d:'M512 0c282.752 0 512 229.248 512 512S794.752 1024 512 1024 0 794.752 0 512 229.248 0 512 0z',fill:'#32ABD1','p-id':'1717'},null,-1),(0,a.createElementVNode)('path',{d:'M512 192c176.768 0 320 143.232 320 320S688.768 832 512 832 192 688.768 192 512s143.232-320 320-320z',fill:'#FFFFFF','p-id':'1718'},null,-1),(0,a.createElementVNode)('path',{d:'M576 576v-117.376h64V576h-64z m-192 0v-117.376c0-70.656 57.344-128 128-128s128 57.344 128 128h-64c0-35.328-28.672-64-64-64s-64 28.672-64 64V576h-64z',fill:'#32ABD1','p-id':'1719'},null,-1),(0,a.createElementVNode)('path',{d:'M576 693.376H448a106.624 106.624 0 0 1 0-213.248h128a106.624 106.624 0 0 1 0 213.248zM512 544c-23.552 0-42.624 19.072-42.624 42.624s19.072 42.624 42.624 42.624 42.624-19.072 42.624-42.624S535.552 544 512 544z',fill:'#32ABD1','p-id':'1720'},null,-1)])])):(0,a.createCommentVNode)('v-if',!0)],4),(0,a.createElementVNode)('div',rt,[(0,a.createElementVNode)('span',it,[(0,a.createElementVNode)('strong',null,(0,a.toDisplayString)(t.value.name),1)]),(0,a.createElementVNode)('span',lt,(0,a.toDisplayString)(n.value),1),(0,a.createElementVNode)('span',st,(0,a.toDisplayString)(o.value),1),(0,a.withDirectives)((0,a.createElementVNode)('div',{class:'QQ_home_usermsg_new'},(0,a.toDisplayString)((0,a.unref)(s).QQ.chathistory[t.name]?.unread||''),513),[[a.vShow,(0,a.unref)(s).QQ.chathistory[t.name]?.unread]])])],12,at)):(0,a.createCommentVNode)('v-if',!0)}},dt={class:'user_moment'},pt={class:'user_moment_title',style:{'margin-bottom':'7px'}},ht={style:{width:'100%',display:'grid','grid-template-rows':'1fr 1fr','row-gap':'4px'}},mt={style:{display:'flex','align-items':'center'}},ut={style:{color:'black !important'}},gt={class:'moment_sender'},ft={viewBox:'0 0 1024 1024',width:'18',height:'18',style:{'margin-left':'auto'}},vt={style:{color:'#626367','white-space':'nowrap',overflow:'hidden','text-overflow':'ellipsis','font-size':'12px'}},xt=['innerHTML'],bt={key:0,class:'space_fakeimg'},yt={style:{display:'flex','align-items':'center',gap:'3px','margin-top':'5px'}},wt={style:{color:'#a1a1a1','font-size':'13px'}},kt={style:{display:'flex','align-items':'center',gap:'3px','margin-top':'0'}},Et={style:{color:'#a1a1a1','font-size':'13px'}},Qt={style:{display:'flex','align-items':'center',gap:'3px','margin-top':'5px','margin-bottom':'5px'}},Vt={style:{color:'#474545','font-size':'14px'}},Nt={class:'user_leave_message_list'},_t={class:'user_leave_message'},zt={style:{color:'black !important'}},Bt={style:{display:'flex','align-items':'center',gap:'3px','margin-top':'10px'}},Ct={style:{display:'flex','align-items':'center',width:'100%','background-color':'#f5f5f5','padding-right':'5px','margin-left':'5px'}},St={__name:'post',props:['post'],setup(e){const t=e;console.log(`创建新动态内容:${JSON.stringify(t)}  ${t.post.id}`),c(t.post.sender);const n=(0,a.computed)(()=>{const e=t.post.sender;return e in s.QQ.chars&&s.QQ.chars[e].head?s.QQ.chars[e].head:''}),o=(0,a.computed)(()=>{const e=t.post.sender;return e in s.QQ.chars==0||'phone'in s.QQ.chars[e]==0?'隐藏机型':s.QQ.chars[e].phone}),r=(0,a.computed)(()=>t.post.content.replace(/\\n/g,'<br>')),i=(0,a.ref)('');function l(){if(!i.value||s.generate)return;let e=s.QQ.cacheMsg.join('\n').trim();if(e+=`\n在${t.post.sender}发的帖子${t.post.id}中评论:${i.value}`,'尾附'==s.phone.sendModel){const t=$('#send_textarea').val().trim()+e;return $('#send_textarea').val(t.trim()||'')[0].dispatchEvent(new Event('input',{bubbles:!0})),i.value='',void(s.QQ.cacheMsg=[])}triggerSlash(`/send ${e.trim()}|/trigger`),i.value='',s.QQ.cacheMsg=[]}return(e,s)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',dt,[(0,a.createElementVNode)('div',pt,[(0,a.createElementVNode)('div',{class:'QQ_home_head head',style:(0,a.normalizeStyle)(`background-image:url('${n.value}')`)},null,4),(0,a.createElementVNode)('div',ht,[(0,a.createElementVNode)('div',mt,[(0,a.createElementVNode)('span',ut,[(0,a.createElementVNode)('strong',gt,(0,a.toDisplayString)(t.post.sender),1)]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',ft,[...s[1]||(s[1]=[(0,a.createElementVNode)('path',{d:'M512.4 429.1c22.3 0 41.7 7.9 58.1 23.6 7.9 7.9 13.9 16.9 18.2 27.1 4.3 10.2 6.4 20.8 6.4 32 0 22.3-8.2 41.7-24.6 58.1-3.3 3.3-6.6 6.1-9.9 8.4s-6.9 4.4-10.8 6.4c-3.9 2-8 3.6-12.3 4.9-4.3 1.3-8.5 2.5-12.8 3.4-4.2 1-8.3 1.5-12.3 1.5-23 0-42.5-8.2-58.6-24.6s-24.1-35.9-24.1-58.6c0-22.6 7.9-42.2 23.6-58.6 5.3-4.6 11-8.9 17.2-12.8 6.2-3.9 13-6.7 20.2-8.4 7.2-1.6 14.4-2.4 21.7-2.4z m326.8 0c23 0 42.3 7.9 58.1 23.6 5.3 5.3 9.7 11 13.3 17.2 3.6 6.2 6.4 13 8.4 20.2 2 7.2 3 14.4 3 21.7 0 22.3-8.2 41.7-24.6 58.1-3.3 3.9-7.2 7.4-11.8 10.3-4.6 2.9-9.4 5.4-14.3 7.4s-10.2 3.6-15.8 4.9-11 2-16.3 2c-23 0-42.5-8.2-58.6-24.6-16.1-16.4-24.1-35.9-24.1-58.6 0-22.6 8.2-42.2 24.6-58.6 7.2-7.2 16.1-13 26.6-17.2 10.5-4.2 21-6.3 31.5-6.4z m-654.6 0c23 0 42.3 7.9 58.1 23.6 5.3 5.3 9.7 11 13.3 17.2 3.6 6.2 6.4 13 8.4 20.2s3 14.4 3 21.7c0 22.3-8 41.7-24.1 58.1s-35.6 24.6-58.6 24.6-42.3-8.2-58.1-24.6c-7.9-7.9-13.9-16.9-18.2-27.1-4.3-10.2-6.4-20.5-6.4-31 0-23 8.2-42.7 24.6-59.1 7.2-7.2 16.1-13 26.6-17.2 10.4-4.2 20.9-6.3 31.4-6.4z','p-id':'14923',fill:'#000000'},null,-1)])]))]),(0,a.createElementVNode)('span',vt,(0,a.toDisplayString)(t.post.time),1)])]),(0,a.createElementVNode)('span',{style:{color:'black !important','font-size':'15px','line-height':'1.3'},class:'moment_message',innerHTML:r.value},null,8,xt),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.post.imgs,e=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,['img'==e.imgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',bt,(0,a.toDisplayString)(e.content),1)):(0,a.createCommentVNode)('v-if',!0),'emoji'==e.imgtype?((0,a.openBlock)(),(0,a.createElementBlock)('div',{key:1,class:'space_emoji',style:(0,a.normalizeStyle)(`background-Image:url('${e.url}')`)},null,4)):(0,a.createCommentVNode)('v-if',!0)],64))),256)),(0,a.createElementVNode)('div',yt,[s[2]||(s[2]=(0,a.createElementVNode)('svg',{t:'1736250731870',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'16069',width:'16',height:'16'},[(0,a.createElementVNode)('path',{d:'M512 416a96 96 0 1 1-96 96 96 96 0 0 1 96-96m0-64a160 160 0 1 0 160 160 160 160 0 0 0-160-160z',fill:'#a1a1a1','p-id':'16070'}),(0,a.createElementVNode)('path',{d:'M512 298.88c188.64 0 288 113.92 366.72 213.12C800 611.36 700.64 725.12 512 725.12S224 611.36 145.28 512C224 412.64 323.36 298.88 512 298.88m0-64C264.64 234.88 147.52 406.56 64 512c83.52 105.44 200.64 277.12 448 277.12S876.48 617.44 960 512c-83.52-105.44-200.64-277.12-448-277.12z',fill:'#a1a1a1','p-id':'16071'})],-1)),(0,a.createElementVNode)('span',wt,'浏览'+(0,a.toDisplayString)(t.post.see)+'次',1),s[3]||(s[3]=(0,a.createElementVNode)('div',{class:'moment_button'},[(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'26',height:'26'},[(0,a.createElementVNode)('path',{d:'M190.193225 471.411583c14.446014 0 26.139334-11.718903 26.139334-26.13831 0-14.44499-11.69332-26.164916-26.139334-26.164916-0.271176 0-0.490164 0.149403-0.73678 0.149403l-62.496379 0.146333c-1.425466-0.195451-2.90005-0.295735-4.373611-0.295735-19.677155 0-35.621289 16.141632-35.621289 36.114522L86.622358 888.550075c0 19.949354 15.96767 35.597753 35.670407 35.597753 1.916653 0 3.808746 0.292666 5.649674 0l61.022819 0.022513c0.099261 0 0.148379 0.048095 0.24764 0.048095 0.097214 0 0.146333-0.048095 0.24457-0.048095l0.73678 0 0-0.148379c13.413498-0.540306 24.174586-11.422144 24.174586-24.960485 0-13.55983-10.760065-24.441669-24.174586-24.981974l0-0.393973-50.949392 0 1.450025-402.275993L190.193225 471.409536z',fill:'#000000','p-id':'19734'}),(0,a.createElementVNode)('path',{d:'M926.52241 433.948343c-19.283182-31.445176-47.339168-44.172035-81.289398-45.546336-1.77032-0.246617-3.536546-0.39295-5.380544-0.39295l-205.447139-0.688685c13.462616-39.059598 22.698978-85.58933 22.698978-129.317251 0-28.349675-3.193739-55.962569-9.041934-82.542948l-0.490164 0.049119c-10.638291-46.578852-51.736315-81.31498-100.966553-81.31498-57.264215 0-95.466282 48.15065-95.466282 106.126063 0 3.241834-0.294712 6.387477 0 9.532097-2.996241 108.386546-91.240027 195.548698-196.23636 207.513194l0 54.881958-0.785899 222.227314 0 229.744521 10.709923 0 500.025271 0.222057 8.746198-0.243547c19.35686 0.049119 30.239721-4.817726 47.803749-16.116049 16.682961-10.761088 29.236881-25.50079 37.490869-42.156122 2.260483-3.341095 4.028757-7.075139 5.106298-11.20111l77.018118-344.324116c1.056052-4.053316 1.348718-8.181333 1.056052-12.160971C943.643346 476.446249 938.781618 453.944769 926.52241 433.948343zM893.82573 486.837924l-82.983993 367.783411-0.099261-0.049119c-2.555196 6.141884-6.879688 11.596106-12.872169 15.427364-4.177136 2.727111-8.773827 4.351098-13.414521 4.964058-1.49812-0.195451-3.046383 0-4.620227 0l-477.028511-0.540306-0.171915-407.408897c89.323375-40.266076 154.841577-79.670527 188.596356-173.661202 0.072655 0.024559 0.124843 0.049119 0.195451 0.072655 2.99931-9.137101 6.313799-20.73423 8.697079-33.164331 5.551436-29.185716 5.258771-58.123792 5.258771-58.123792-4.937452-37.98001 25.940812-52.965306 44.364417-52.965306 25.304316 0.860601 50.263777 33.656541 50.263777 52.326762 0 0 5.600555 27.563776 5.649674 57.190537 0.048095 37.366026-4.6673 56.847729-4.6673 56.847729l-0.466628 0c-5.872754 30.879288-16.214287 60.138682-30.464849 86.964654l0.36839 0.342808c-2.358721 4.815679-3.709485 10.220782-3.709485 15.943111 0 19.922748 19.088754 21.742187 38.765909 21.742187l238.761895 0.270153c0 0 14.666024 0.465604 14.690584 0.465604l0 0.100284c12.132318-0.638543 24.221658 5.207605 31.100322 16.409738 5.504364 9.016351 6.437619 19.6045 3.486404 28.988218L893.82573 486.837924z',fill:'#000000','p-id':'19735'}),(0,a.createElementVNode)('path',{d:'M264.827039 924.31872c0.319272 0.024559 0.441045 0.024559 0.295735-0.024559 0.243547-0.048095 0.367367-0.074701-0.295735-0.074701s-0.539282 0.026606-0.271176 0.074701C264.43409 924.343279 264.532327 924.343279 264.827039 924.31872z',fill:'#000000','p-id':'19736'})]),(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'28',height:'28'},[(0,a.createElementVNode)('path',{d:'M185.2 888.7c-16.6 0-30-13.4-30-30v-580c0-49.6 40.4-90 90-90h540c49.6 0 90 40.4 90 90v410c0 49.6-40.4 90-90 90h-429c-16.6 0-30-13.4-30-30s13.4-30 30-30h429c16.5 0 30-13.5 30-30v-410c0-16.5-13.5-30-30-30h-540c-16.5 0-30 13.5-30 30v580c0 16.5-13.5 30-30 30z m490.1-430.5H347c-16.6 0-30-13.4-30-30s13.4-30 30-30h328.3c16.6 0 30 13.4 30 30s-13.4 30-30 30zM494 598.2H345.7c-16.6 0-30-13.4-30-30s13.4-30 30-30H494c16.6 0 30 13.4 30 30s-13.4 30-30 30zM194.2 883.7c-9.8 0-19.3-4.8-25.1-13.5-9.1-13.9-5.2-32.5 8.6-41.5l160-105c13.9-9.1 32.5-5.2 41.5 8.6 9.1 13.9 5.2 32.5-8.6 41.5l-160 105c-5 3.3-10.8 4.9-16.4 4.9z',fill:'#202020','p-id':'31300'})]),(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'28',height:'28'},[(0,a.createElementVNode)('path',{d:'M168.021333 751.104a53.333333 53.333333 0 0 1-81.450666-55.893333c48-219.733333 177.493333-333.184 381.205333-332.458667l8.490667-0.213333V186.026667c0-8.213333 2.602667-16.213333 7.445333-22.826667 1.237333-1.621333 1.237333-1.621333 2.602667-3.136a33.92 33.92 0 0 1 47.936-1.621333l370.197333 346.005333a32 32 0 0 0 1.066667 0.938667c7.914667 6.784 12.437333 16.576 12.437333 26.901333v3.498667c0 10.325333-4.522667 20.117333-12.373333 26.837333l-0.896 0.768-0.256 0.213333-370.922667 323.968c-1.109333 0.938667-1.109333 0.938667-2.282667 1.834667-15.146667 11.093333-36.437333 7.786667-47.509333-7.36a38.656 38.656 0 0 1-7.466667-22.826667v-197.248l-7.253333-0.362666c-112.213333 1.237333-212.266667 31.04-300.970667 89.472z m301.290667-153.472l1.962667 0.021333 68.992 3.541334v195.52l301.44-263.274667-301.44-281.749333v173.12l-31.146667 0.853333-40.597333 1.066667c-165.504-0.554667-268.117333 82.773333-313.386667 256.896 93.76-56.192 198.698667-84.906667 314.176-85.994667z m384.64-65.322667v3.498667c0-0.597333 0-1.173333 0.042667-1.749333a28.714667 28.714667 0 0 1-0.042667-1.749334z',fill:'#000000','p-id':'33532'})])],-1))]),(0,a.createElementVNode)('div',kt,[s[4]||(s[4]=(0,a.createElementVNode)('svg',{t:'1736250924867',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'17414',width:'16',height:'16'},[(0,a.createElementVNode)('path',{d:'M736.653061 929.959184H287.346939c-45.97551 0-83.591837-37.616327-83.591837-83.591837V177.632653c0-45.97551 37.616327-83.591837 83.591837-83.591837h449.306122c45.97551 0 83.591837 37.616327 83.591837 83.591837v668.734694c0 45.97551-37.616327 83.591837-83.591837 83.591837zM287.346939 135.836735c-22.987755 0-41.795918 18.808163-41.795919 41.795918v668.734694c0 22.987755 18.808163 41.795918 41.795919 41.795918h449.306122c22.987755 0 41.795918-18.808163 41.795919-41.795918V177.632653c0-22.987755-18.808163-41.795918-41.795919-41.795918H287.346939z',fill:'#a1a1a1','p-id':'17415'}),(0,a.createElementVNode)('path',{d:'M616.489796 815.020408H407.510204c-11.493878 0-20.897959-9.404082-20.897959-20.897959s9.404082-20.897959 20.897959-20.897959h208.979592c11.493878 0 20.897959 9.404082 20.897959 20.897959s-9.404082 20.897959-20.897959 20.897959z',fill:'#a1a1a1','p-id':'17416'})],-1)),(0,a.createElementVNode)('span',Et,(0,a.toDisplayString)(o.value),1)]),(0,a.createElementVNode)('div',Qt,[s[5]||(s[5]=(0,a.createElementVNode)('svg',{class:'icon',viewBox:'0 0 1024 1024',width:'13',height:'13'},[(0,a.createElementVNode)('path',{d:'M773.6 912.7h-1.2c-37.2-0.4-74.5-0.4-111.8-0.4h-56.9c-38 0-76 0-114.1-0.5-21.1-0.6-41.9-5-61.5-13-33.3-13-52.3-42-52.2-79.7l0.1-141.4c0-78.3 0-156.7 0.7-235 0.1-21.3 13.8-41.3 25.5-51.8 45.3-41.4 94.5-93 115.1-162.6 5.7-19.4 7.9-40.8 10.2-63.4 4.6-45 33.8-74.3 72.8-74.3 15.3 0 30.6 4.6 45.6 13.5 30.1 18.1 50.2 46.5 61.3 87 17.8 64.3 8.7 126.7-1.3 180.2v0.2c-2.3 12.5 7.1 24.1 19.9 24.1h130c22.4 0 54.5 2.8 74.3 26.8 14.4 17.5 18.5 41.1 12.4 72.3-18.6 95.9-41.4 192.6-63.2 282.7-6.8 28.1-18.1 54.1-29 79.3l-4.7 10.8c-12.4 29.2-38 45.2-72 45.2zM216.1 903.3h-11.9c-43 0-78.2-35.2-78.2-78.2V476.6c0-43 35.2-78.2 78.2-78.2h11.9c43 0 78.2 35.2 78.2 78.2V825c0.1 43.1-35.1 78.3-78.2 78.3z',fill:'#000000','p-id':'34839'})],-1)),(0,a.createElementVNode)('span',Vt,(0,a.toDisplayString)(t.post.like)+'人已赞',1)]),(0,a.createElementVNode)('div',Nt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.post.comment,e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',_t,[(0,a.createElementVNode)('span',zt,[(0,a.createElementVNode)('strong',null,(0,a.toDisplayString)(e.sender),1),(0,a.createTextVNode)('：'+(0,a.toDisplayString)(e.content),1)])]))),256))]),(0,a.createElementVNode)('div',Bt,[s[7]||(s[7]=(0,a.createElementVNode)('div',{class:'user_avatar',style:{width:'30px','min-width':'30px',height:'30px','border-radius':'50%'}},null,-1)),(0,a.createElementVNode)('div',Ct,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':s[0]||(s[0]=e=>i.value=e),type:'text',placeholder:'说点什么吧...',style:{height:'30px',width:'100%','margin-left':'5px !important','border-radius':'4px !important','background-color':'#f5f5f5 !important',padding:'6px',border:'none !important'}},null,512),[[a.vModelText,i.value]]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:l,viewBox:'0 0 1024 1024',width:'20',height:'20',class:'moment_comment'},[...s[6]||(s[6]=[(0,a.createElementVNode)('path',{d:'M871.04 89.770667L120.064 380.16a51.2 51.2 0 0 0-1.792 94.762667l303.36 130.56 131.072 303.957333a51.2 51.2 0 0 0 94.805333-1.877333l289.792-751.573334a51.2 51.2 0 0 0-66.261333-66.133333z m-41.130667 107.392l-231.978666 601.642666-97.962667-227.114666-3.584-7.338667a85.333333 85.333333 0 0 0-41.045333-37.248l-226.56-97.536 601.173333-232.405333z',fill:'#a1a1a1','p-id':'18561'},null,-1)])]))])]),s[8]||(s[8]=(0,a.createElementVNode)('div',{style:{width:'110%',height:'8px','background-color':'#e9e9e9','margin-left':'-7px','margin-top':'10px','margin-bottom':'10px'}},null,-1))]))}};n(398);const Mt=St,jt={id:'QQ_home_page'},At={style:{display:'flex','align-items':'center',gap:'5px',width:'100%','box-sizing':'border-box'}},Dt={style:{display:'flex','align-items':'start','justify-content':'center','flex-direction':'column','margin-left':'3px',gap:'3px'}},Tt={style:{'font-size':'14px',color:'black !important'},id:'QQ_home_UserName'},Ft={style:{display:'flex','align-items':'center',height:'10px'}},$t={viewBox:'0 0 1024 1024',width:'13',height:'13',style:{'margin-right':'2px'}},Ht={viewBox:'0 0 1024 1024',width:'10',height:'10',style:{'margin-top':'1px'}},Lt={id:'QQ_home_chars'},qt={id:'QQ_home_chars_div'},It={key:0,style:{'text-align':'center'}},Rt={key:1,style:{'text-align':'center','margin-top':'4px'}},Gt={id:'QQ_space_page',style:{height:'100%'}},Ot={style:{display:'flex'}},Ut={viewBox:'0 0 1024 1024',width:'20',height:'20',style:{'margin-left':'auto'}},Pt={viewBox:'0 0 1065 1024',width:'20',height:'20',style:{'margin-right':'10px','margin-left':'15px'}},Xt={class:'space_contents',id:'space_contents',style:{'overflow-y':'auto',width:'100%',height:'100%'}},Jt={class:'QQ_bottom_nav'},Zt={viewBox:'0 0 1024 1024',style:{fill:'#000000'},width:'20',height:'20',id:'QQ_people_svg'},Wt={id:'QQ_chat_list',style:{width:'100%',height:'100%','padding-top':'0px'}},Yt={class:'chat-setting-popup'},Kt={class:'chat-setting-header'},en={class:'chat-setting-content',style:{'padding-top':'5px','overflow-x':'hidden'}},tn={style:{border:'1px solid',padding:'5px 10px 10px',width:'100%',display:'flex',gap:'15px','flex-direction':'column'}},nn={class:'setting-item'},an={style:{flex:'1'}},on={class:'setting-item'},rn={style:{flex:'1'}},ln={style:{border:'1px solid',padding:'5px 10px 10px',width:'100%',display:'flex','flex-direction':'column',gap:'15px'}},sn={style:{display:'flex',width:'100%','align-items':'center',gap:'5px'}},cn={class:'setting-item'},dn={style:{flex:'1'}},pn={class:'setting-item'},hn={style:{flex:'1'}},mn={style:{border:'1px solid',padding:'5px 10px 10px',width:'100%'}},un={style:{display:'flex','align-items':'center',gap:'5px'}},gn={style:{display:'flex','align-items':'center','margin-top':'5px',gap:'5px'}},fn={style:{border:'1px solid',padding:'5px 10px 10px',width:'100%'}},vn={style:{display:'flex','align-items':'start'}},xn={style:{display:'flex','align-items':'start','margin-top':'5px'}},bn={class:'chat-setting-footer'},yn={class:'popup-overlay'},wn={class:'QQ_chars-panel'},kn={style:{display:'flex','align-items':'center','margin-bottom':'10px'}},En={class:'QQ_chars-role-list',style:{'margin-bottom':'20px'}},Qn={key:0,class:'QQ_chars-empty-state'},Vn={style:{margin:'auto'},width:'40',height:'40',viewBox:'0 0 24 24',fill:'none',xmlns:'http://www.w3.org/2000/svg'},Nn={class:'QQ_chars-role-item'},_n={class:'QQ_chars-role-info'},zn={class:'QQ_chars-role-name',title:'${role.name}'},Bn=['onClick'],Cn={class:'QQ_chars-add-role-form'},Sn={class:'QQ_chars-form-row'},Mn={style:{flex:'1 1 0%'}},jn={class:'QQ_chars-form-row'},An={style:{flex:'1 1 0%'}},Dn={__name:'QQ',setup(e){const t=(0,a.computed)(()=>{let e=[];const t=s.QQ.charini.getAllSections();for(const n in s.QQ.chars){if(!t.includes(n))continue;const a={};a.id=n,a.name=s.QQ.chars[n].name;const o=s.QQ.charini.readValue(n,'类型');'群聊'==o?(a.chartype='Group',a.showtype='群聊',a.class='QQ_chars-type-group'):'npc'==o.toLowerCase()?(a.chartype='npc',a.showtype='npc',a.class='QQ_chars-type-npc'):(a.chartype='friend',a.showtype='好友',a.class='QQ_chars-type-friend'),e.push(a)}return e}),n=(0,a.ref)({name:'',type:'friend'}),o=JSON.parse(JSON.stringify(s.phone.colorSettings)),r=(0,a.ref)({background:s.phone.colorSettings.background,border:s.phone.colorSettings.border,button:s.phone.colorSettings.button,autoShow:s.phone.autoShow,autoHide:s.phone.autoHide,userBubble:s.QQ.default.bubble,userText:s.QQ.default.text,sendModel:s.phone.sendModel});function i(){if(!n.value.name)return;let e=n.value.name;if('Group'==n.value.type){const t=s.QQ.charini.getAllSections();for(;;){e='';for(let t=0;t<6;t++)e+=Math.floor(10*Math.random());if(!t.includes(e))break}}'Group'==n.value.type||'npc'==n.value.type?(s.QQ.charini.writeValue(e,'类型','Group'==n.value.type?'群聊':'npc'),'Group'==n.value.type&&s.QQ.charini.writeValue(e,'群名',n.value.name)):s.QQ.charini.writeValue(e,'类型','好友'),s.QQ.chars[e]={name:n.value.name,chartype:n.value.type,head:'',background:'',bubble:'',text:''},n.value.name='',s.QQ.saveChars()}async function c(e){if(s.phone.panel=!1,!e)return s.phone.colorSettings=JSON.parse(JSON.stringify(o)),r.value.autoHide=s.phone.autoHide,r.value.autoShow=s.phone.autoShow,r.value.userBubble=s.QQ.default.bubble,r.value.userText=s.QQ.default.text,void(r.value.sendModel=s.phone.sendModel);s.phone.autoHide=r.value.autoHide,s.phone.autoShow=r.value.autoShow,s.QQ.default.bubble=r.value.userBubble,s.QQ.default.text=r.value.userText,s.phone.sendModel=r.value.sendModel;try{const e=s.ST.getEntry(['手机-基本设置'],!0);if(!e)return void alert('手机-基本设置条目不存在');const t=new l;t.loadText(e.content),t.writeValue('基本设置','外框颜色',s.phone.colorSettings.border),t.writeValue('基本设置','内框颜色',s.phone.colorSettings.background),t.writeValue('基本设置','侧边按钮',s.phone.colorSettings.button),t.writeValue('基本设置','自动显示',s.phone.autoShow),t.writeValue('基本设置','自动隐藏',s.phone.autoHide),t.writeValue('基本设置','气泡颜色',s.QQ.default.bubble),t.writeValue('基本设置','字体颜色',s.QQ.default.text),t.writeValue('基本设置','发送模式',s.phone.sendModel),t.writeValue('基本设置','导航按键',s.phone.navButton),console.log(`${t.getAllText()}`),await setLorebookEntries(s.ST.worldName,[{uid:e.uid,content:t.getAllText()}])}catch(e){console.error(`基本设置保存到世界书失败!${e}`)}d.setData('width',s.phone.width.now),d.setData('height',s.phone.height.now),d.setData('navButton',s.phone.navButton)}function p(e,t){const n=s.phone.width.min,a=s.phone.width.max,o=s.phone.height.min,r=s.phone.height.max;'width'==e?s.phone.width.now+t<n?s.phone.width.now=n:s.phone.width.now+t>a?s.phone.width.now=a:s.phone.width.now+=t:'height'==e&&(s.phone.height.now+t<o?s.phone.height.now=o:s.phone.height.now+t>r?s.phone.height.now=r:s.phone.height.now+=t)}return(e,o)=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)('div',{class:'QQ',id:'App_QQ',style:(0,a.normalizeStyle)([{width:'100%',height:'100%','box-sizing':'border-box',position:'relative'},{'background-color':1==(0,a.unref)(s).QQ.activePage?'#eff3ff':'#FFFFFF'}])},[(0,a.withDirectives)((0,a.createElementVNode)('div',jt,[o[31]||(o[31]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'30px'}},null,-1)),(0,a.createElementVNode)('div',At,[(0,a.createCommentVNode)(' <img src="http://sharkpan.xyz/f/Z7Hr/%E8%82%A5%E8%82%A5%E9%B2%A8%E5%90%83%E8%9B%8B%E7%B3%95.jpg" alt="加载失败"\r\n              style="width: 35px;height: 35px;border-radius: 50%;margin-left: 10px;"> '),(0,a.createElementVNode)('div',{onClick:o[0]||(o[0]=e=>(0,a.unref)(s).phone.panel=!0),class:'user_avatar',style:{width:'35px',height:'35px','border-radius':'50%','margin-left':'10px'}}),(0,a.createElementVNode)('div',Dt,[(0,a.createElementVNode)('span',Tt,[(0,a.createElementVNode)('strong',null,(0,a.toDisplayString)((0,a.unref)(s).ST.userName),1)]),(0,a.createElementVNode)('div',Ft,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',$t,[...o[26]||(o[26]=[(0,a.createElementVNode)('path',{d:'M957.539 464.339c-26.14-245.993-246.771-424.08-492.787-397.772C218.735 92.873 40.474 313.62 66.635 559.634 92.774 805.631 313.406 983.717 559.443 957.41c245.997-26.306 424.258-247.075 398.096-493.071z m-298.25-135.757c39.341 0 71.233 31.921 71.233 71.301 0 39.379-31.891 71.3-71.233 71.3-39.338 0-71.229-31.921-71.229-71.3 0-39.38 31.892-71.301 71.229-71.301z m-294.447 0c39.34 0 71.23 31.921 71.23 71.301 0 39.379-31.89 71.3-71.23 71.3s-71.228-31.921-71.228-71.3c0-39.38 31.887-71.301 71.228-71.301z m366.815 304.963c-21.735 96.663-119.97 163.563-219.591 163.563-103.222 0-200.969-68.713-220.487-167.453 0-26.686 20.351-36.26 32.887-36.26h370.156c9.115 0.017 43.978 3.176 37.035 40.15z',fill:'#fbba13','p-id':'5845'},null,-1)])])),o[28]||(o[28]=(0,a.createElementVNode)('span',{style:{'font-size':'11px'}},'Q我吧',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',Ht,[...o[27]||(o[27]=[(0,a.createElementVNode)('path',{d:'M342.528 916.48c19.456 0 38.4-7.168 53.248-21.504l338.944-327.68c14.848-14.336 23.552-34.304 23.552-55.296s-8.192-40.96-23.552-55.296l-338.944-327.68c-30.72-29.696-79.36-28.672-108.544 2.048-29.696 30.72-28.672 79.36 2.048 108.544l281.6 272.384-281.6 272.384c-30.72 29.696-31.232 78.336-2.048 108.544 15.36 15.872 35.328 23.552 55.296 23.552z',fill:'#000000','p-id':'7578'},null,-1)])]))])]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[1]||(o[1]=e=>(0,a.unref)(s).QQ.panel=!(0,a.unref)(s).QQ.panel),viewBox:'0 0 1024 1024',version:'1.1',width:'17',height:'17',style:{'margin-left':'auto','margin-right':'10px'}},[...o[29]||(o[29]=[(0,a.createElementVNode)('path',{d:'M512 0a42.666667 42.666667 0 0 1 42.666667 42.666667v426.666666h426.666666a42.666667 42.666667 0 0 1 0 85.333334H554.666667v426.666666a42.666667 42.666667 0 0 1-85.333334 0V554.666667H42.666667a42.666667 42.666667 0 0 1 0-85.333334h426.666666V42.666667a42.666667 42.666667 0 0 1 42.666667-42.666667z',fill:'#191919','p-id':'4261'},null,-1)])]))]),o[32]||(o[32]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'10px'}},null,-1)),(0,a.createElementVNode)('div',Lt,[o[30]||(o[30]=(0,a.createStaticVNode)('<div style="width:100%;height:30px;background-color:#eff3ff;margin-top:5px;border-radius:5px;display:flex;align-items:center;justify-content:center;gap:2px;" data-v-71e66e53><svg viewBox="0 0 1024 1024" width="16" height="16" data-v-71e66e53><path d="M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0" fill="#919095" data-v-71e66e53></path></svg><span style="color:#919095;" data-v-71e66e53>搜索</span></div><div style="width:100%;height:13px;" data-v-71e66e53></div>',2)),(0,a.createElementVNode)('div',qt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).QQ.chars,(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(ct,{value:e,name:t},null,8,['value','name']))),256))]),0==Object.keys((0,a.unref)(s).QQ.chars).length?((0,a.openBlock)(),(0,a.createElementBlock)('div',It,'点击右上角+添加角色')):(0,a.createCommentVNode)('v-if',!0),0==Object.keys((0,a.unref)(s).QQ.chars).length?((0,a.openBlock)(),(0,a.createElementBlock)('div',Rt,' 点击左上角头像修改手机颜色 ')):(0,a.createCommentVNode)('v-if',!0)])],512),[[a.vShow,!(0,a.unref)(s).QQ.activeChatId&&1==(0,a.unref)(s).QQ.activePage]]),(0,a.withDirectives)((0,a.createElementVNode)('div',Gt,[o[37]||(o[37]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'35px'}},null,-1)),(0,a.createElementVNode)('div',Ot,[o[35]||(o[35]=(0,a.createElementVNode)('span',{style:{'font-size':'16px','margin-left':'10px',color:'black !important'}},'动态',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',Ut,[...o[33]||(o[33]=[(0,a.createElementVNode)('path',{d:'M593.420488 922.099512c24.553022 0 44.456585 19.903563 44.456585 44.456586v11.988292c0 24.553022-19.903563 44.456585-44.456585 44.456586h-159.843903c-24.553022 0-44.456585-19.903563-44.456585-44.456586v-11.988292c0-24.553022 19.903563-44.456585 44.456585-44.456586h159.843903zM515.996098 0c24.276293 0 43.957073 19.68078 43.957073 43.957073l0.002997 54.191079C735.392843 121.808047 870.649756 272.137241 870.649756 454.056585V740.277073h102.4c24.553022 0 44.456585 19.903563 44.456585 44.456586v11.988292c0 24.553022-19.903563 44.456585-44.456585 44.456586H870.649756v1.998048H152.35122v-1.998048H52.948293C28.39527 841.178537 8.491707 821.274974 8.491707 796.721951v-11.988292C8.491707 760.180636 28.39527 740.277073 52.948293 740.277073H152.35122V454.056585c0-181.229019 134.231914-331.106654 308.696538-355.632702L461.049756 43.957073c0-24.276293 19.68078-43.957073 43.957073-43.957073h10.989269z m25.620979 197.047571h-60.233178c-126.178779 0-228.706654 101.264109-230.744664 226.958361l-0.029971 3.816273-0.000999 312.454868h521.783446V427.822205c0-127.454533-103.3211-230.774634-230.774634-230.774634z',fill:'#000000','p-id':'3355'},null,-1)])])),((0,a.openBlock)(),(0,a.createElementBlock)('svg',Pt,[...o[34]||(o[34]=[(0,a.createElementVNode)('path',{d:'M1002.234305 330.02867V693.97133c0 53.148789-28.346021 101.741967-73.902125 128.063272l-315.349481 182.224419c-46.062284 26.321305-102.248146 26.321305-148.31043 0l-315.349481-182.224419c-46.062284-26.321305-73.902126-75.420662-73.902126-128.063272V330.02867c0-53.148789 28.346021-101.741967 73.902126-128.063272l315.349481-182.224419c46.062284-26.321305 102.248146-26.321305 148.31043 0l315.349481 182.224419c45.556105 26.321305 73.902126 74.914483 73.902125 128.063272z m-76.939199 0c0-25.308947-13.666831-49.099357-35.432526-61.753831l-315.349481-182.224419c-22.271873-12.654474-49.099357-12.654474-71.37123 0l-315.349481 182.224419c-22.271873 12.654474-35.432526 36.444884-35.432526 61.753831V693.97133c0 25.308947 13.666831 49.099357 35.432526 61.753831l315.349481 182.224419c22.271873 12.654474 49.099357 12.654474 71.37123 0l315.349481-182.224419c22.271873-12.654474 35.432526-36.444884 35.432526-61.753831V330.02867zM362.424123 508.709837C362.424123 410.004943 442.400395 329.522491 541.611468 329.522491s179.187346 80.482452 179.187346 179.187346-80.482452 179.187346-179.187346 179.187345-179.187346-79.470094-179.187345-179.187345z m76.939199 0c0 56.692042 46.062284 102.248146 102.248146 102.248146s102.248146-46.062284 102.248146-102.248146-46.062284-102.248146-102.248146-102.248146-102.248146 46.568463-102.248146 102.248146z',fill:'#000000','p-id':'13806'},null,-1)])]))]),o[38]||(o[38]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#e6e6e6','margin-bottom':'10px','margin-top':'10px'}},null,-1)),(0,a.createElementVNode)('div',Xt,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).QQ.post,e=>((0,a.openBlock)(),(0,a.createBlock)(Mt,{post:e},null,8,['post']))),256)),o[36]||(o[36]=(0,a.createElementVNode)('div',{style:{'margin-bottom':'150px'}},null,-1))])],512),[[a.vShow,!(0,a.unref)(s).QQ.activeChatId&&3==(0,a.unref)(s).QQ.activePage]]),(0,a.createElementVNode)('div',Jt,[(0,a.createElementVNode)('div',{onClick:o[2]||(o[2]=e=>(0,a.unref)(s).QQ.activePage=1),id:'QQ_message_nav',style:{display:'flex','align-items':'center','justify-content':'center','flex-direction':'column',gap:'1px'}},[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{class:'icon',viewBox:'0 0 1024 1024',width:'20',height:'20',style:(0,a.normalizeStyle)([{transform:'scale(1.15)','transform-origin':'center'},{fill:1==(0,a.unref)(s).QQ.activePage?'#019aff':'#000000'}]),id:'QQ_message_svg'},[...o[39]||(o[39]=[(0,a.createElementVNode)('path',{d:'M822.016 61.44H196.864A155.88352 155.88352 0 0 0 40.96 216.94976v426.2144a155.88352 155.88352 0 0 0 155.904 155.50976h9.6256a1.97632 1.97632 0 0 1 1.96608 1.9456l0.97792 84.992A72.832 72.832 0 0 0 322.72896 945.152l211.37408-141.09184a31.9744 31.9744 0 0 1 17.80736-5.39648h270.1056A155.88352 155.88352 0 0 0 977.92 643.16416V216.94976A155.88352 155.88352 0 0 0 822.016 61.44z m85.06368 581.72416a85.05344 85.05344 0 0 1-85.06368 84.84864H551.936a102.69184 102.69184 0 0 0-57.21088 17.33632l-211.39456 141.09184a1.9712 1.9712 0 0 1-3.072-1.6128l-0.97792-85.02272A72.97024 72.97024 0 0 0 206.4896 728.0128h-9.6256a85.05344 85.05344 0 0 1-85.06368-84.84864V216.94976A85.05344 85.05344 0 0 1 196.864 132.096h625.152a85.05344 85.05344 0 0 1 85.06368 84.84864v426.2144z'},null,-1),(0,a.createElementVNode)('path',{d:'M311.08608 381.76768a54.17472 54.17472 0 1 0 54.31296 54.17472 54.24128 54.24128 0 0 0-54.31296-54.17472z m207.80032 0a54.17472 54.17472 0 1 0 54.31296 54.17472 54.24128 54.24128 0 0 0-54.31296-54.17472z m212.52096 0a54.17472 54.17472 0 1 0 54.31296 54.17472 54.24128 54.24128 0 0 0-54.31296-54.17472z'},null,-1)])],4)),o[40]||(o[40]=(0,a.createElementVNode)('span',null,'消息',-1))]),(0,a.createElementVNode)('div',{onClick:o[3]||(o[3]=e=>(0,a.unref)(s).phone.activeApp='RedNote'),id:'QQ_people_nav',style:{display:'flex','align-items':'center','justify-content':'center','flex-direction':'column',gap:'1px'}},[((0,a.openBlock)(),(0,a.createElementBlock)('svg',Zt,[...o[41]||(o[41]=[(0,a.createElementVNode)('path',{d:'M620.744191 538.879184c82.736353-40.523949 140.308583-124.785028 140.308583-222.936465 0-137.367601-111.714338-249.080915-249.02668-249.080915-137.367601 0-249.080915 111.713314-249.080915 249.080915 0 98.151437 57.57223 182.412516 140.363841 222.936465C235.330238 586.429153 111.796714 740.736565 111.796714 923.694503c0 18.464537 15.032368 33.443693 33.496905 33.443693 18.464537 0 33.497928-14.979156 33.497928-33.443693 0-183.774537 149.46001-333.343017 333.234547-333.343017 183.77556 0 333.234547 149.568481 333.234547 333.343017 0 18.464537 14.978133 33.443693 33.443693 33.443693 18.519796 0 33.496905-14.979156 33.496905-33.443693C912.20124 740.736565 788.668739 586.429153 620.744191 538.879184zM329.886801 315.942719c0-100.438527 81.70179-182.194552 182.140317-182.194552 100.384291 0 182.086082 81.756025 182.086082 182.194552 0 100.384291-81.702813 182.086082-182.086082 182.086082C411.587568 498.0288 329.886801 416.32701 329.886801 315.942719z'},null,-1)])])),o[42]||(o[42]=(0,a.createElementVNode)('span',null,'联系人',-1))]),(0,a.createElementVNode)('div',{onClick:o[4]||(o[4]=e=>{(0,a.unref)(s).QQ.activePage=3,(0,a.unref)(s).QQ.post.forEach(e=>e.read=!0)}),id:'QQ_moment_nav',style:{display:'flex','align-items':'center','justify-content':'center','flex-direction':'column',gap:'1px',position:'relative'}},[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{viewBox:'0 0 1059 1024',width:'20',height:'20',id:'QQ_moment_svg',style:(0,a.normalizeStyle)({fill:3==(0,a.unref)(s).QQ.activePage?'#019aff':'#000000'})},[...o[43]||(o[43]=[(0,a.createElementVNode)('path',{d:'M206.566465 1008.20002c11.278404 7.517627 30.080982 15.035253 45.117545 15.035254 11.281023 0 26.324133-3.75554 37.605156-7.517627l240.646548-127.777391 240.646547 127.777391c11.278404 7.517627 22.558118 7.517627 37.602537 7.517627 15.037872 0 30.075744-3.75554 45.118854-15.035254 22.559427-15.030015 37.598609-45.097903 30.082292-71.402393l-45.124092-278.110282L1037.545084 459.503632c18.799959-18.790793 26.321514-48.85868 18.799959-75.163172-7.516317-26.311038-33.839141-45.103141-60.156726-48.85868L714.181074 290.382568 593.854527 42.338864C582.577432 16.027826 556.254609 0.99912 526.177555 0.99912c-30.080982 0-56.403806 15.028706-67.684829 41.339744l-120.32 248.043704L63.679182 331.723621c-26.316276 3.756849-52.640409 22.548951-60.161965 48.853443-7.516317 26.309729-3.758159 56.376307 18.801269 75.169719l199.285852 199.183713-45.120164 278.106353c-3.758159 30.065269 7.521555 60.133156 30.082291 75.163171zM63.679182 406.886793l274.492235-41.339744 48.878322-7.518936 22.559427-45.097903 116.568389-248.042394 120.318691 248.043703 22.562046 45.097903 48.88225 7.516317 274.485688 41.339744L789.383529 606.074435l-33.845688 33.822117 7.522865 45.103141 45.124092 278.103734-240.651785-127.777391-41.356767-26.311039-45.124093 22.555499-240.646547 131.532931 45.120164-278.103734 7.521555-45.103141-30.082292-33.823427L63.679182 406.888102z','p-id':'37579'},null,-1),(0,a.createElementVNode)('path',{d:'M526.176246 692.509463c-131.604951 0-176.725115-127.777391-176.725116-131.53424-3.763396-15.035253 3.758159-30.065269 18.796031-33.828665 15.044419-3.75554 30.080982 3.763396 33.845688 18.793411 0 3.762087 33.839141 93.953964 124.084706 93.953965 90.239018 0 124.078159-93.953964 124.078159-93.953965 3.763396-15.030015 18.801269-22.548951 33.845688-18.793411 15.036563 3.763396 22.558118 22.555499 18.79603 33.828665 0 3.756849-45.120164 131.53555-176.721186 131.535549z','p-id':'37580'},null,-1)])],4)),o[44]||(o[44]=(0,a.createElementVNode)('span',null,'动态',-1)),(0,a.withDirectives)((0,a.createElementVNode)('div',{class:'new_tips',style:{position:'absolute',right:'-8px',top:'-8px','background-color':'red',color:'white',width:'15px',height:'15px','border-radius':'50%','justify-content':'center','align-items':'center','font-size':'12px',display:'flex'}},(0,a.toDisplayString)((0,a.unref)(s).QQ.postUnread),513),[[a.vShow,(0,a.unref)(s).QQ.postUnread>0]])])]),o[77]||(o[77]=(0,a.createElementVNode)('div',{id:'QQ_friend_info',style:{display:'none','background-color':'white',height:'100%',width:'100%','padding-top':'50px','padding-left':'10px'}},[(0,a.createElementVNode)('span',null,'自定义名称:'),(0,a.createElementVNode)('input',{type:'text',name:'',id:'setcharname',placeholder:'这里输入名称'}),(0,a.createElementVNode)('br'),(0,a.createElementVNode)('br'),(0,a.createElementVNode)('span',null,'自定义头像:'),(0,a.createElementVNode)('input',{type:'file',id:'QQ_head_input'}),(0,a.createElementVNode)('br'),(0,a.createElementVNode)('br'),(0,a.createElementVNode)('br'),(0,a.createElementVNode)('button',{onclick:'Setfriendinfo(false)'},'取消'),(0,a.createElementVNode)('button',{onclick:'Setfriendinfo(true)'},'确定')],-1)),(0,a.createElementVNode)('div',Wt,[(0,a.createCommentVNode)(' <transition name="slide-fade" v-for="(value, key) in sharedState.QQ.chars">\r\n        <chat_page v-show="sharedState.QQ.activeChatId == key" :data-name="key" :value="value" :name="key"></chat_page>\r\n      </transition> '),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).QQ.chars,(e,t)=>(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)(nt,{'data-name':t,value:e,name:t},null,8,['data-name','value','name'])),[[a.vShow,(0,a.unref)(s).QQ.activeChatId===t]])),256))]),(0,a.createVNode)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',Yt,[(0,a.createElementVNode)('div',Kt,[o[46]||(o[46]=(0,a.createElementVNode)('span',null,'手机设置',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[5]||(o[5]=e=>c(!1)),class:'close-setting-btn',viewBox:'0 0 1024 1024',width:'20',height:'20'},[...o[45]||(o[45]=[(0,a.createElementVNode)('path',{d:'M512 421.490332 331.092592 240.582924C307.952518 217.442849 270.568889 217.442849 247.428814 240.582924 224.288739 263.722999 224.288739 301.106628 247.428814 324.246702L428.336222 505.154112 247.428814 686.061521C224.288739 709.201596 224.288739 746.585225 247.428814 769.7253 270.568889 792.865374 307.952518 792.865374 331.092592 769.7253L512 588.817891 692.907408 769.7253C716.047482 792.865374 753.431111 792.865374 776.571186 769.7253 799.711261 746.585225 799.711261 709.201596 776.571186 686.061521L595.663778 505.154112 776.571186 324.246702C799.711261 301.106628 799.711261 263.722999 776.571186 240.582924 753.431111 217.442849 716.047482 217.442849 692.907408 240.582924L512 421.490332Z',fill:'#666666'},null,-1)])]))]),(0,a.createElementVNode)('div',en,[(0,a.createElementVNode)('fieldset',tn,[o[49]||(o[49]=(0,a.createElementVNode)('legend',null,'颜色设置:',-1)),(0,a.createCommentVNode)(' <div class="setting-item">\r\n              <span>外框颜色</span>\r\n              <div style="flex: 1">\r\n                <input\r\n                  v-model="sharedState.phone.colorSettings.border"\r\n                  style="width: 100%"\r\n                  type="text"\r\n                  id="bubble-color-input"\r\n                  placeholder="颜色值"\r\n                />\r\n              </div>\r\n              <input v-model="sharedState.phone.colorSettings.border" type="color" class="color-picker" />\r\n            </div>\r\n            <div class="setting-item">\r\n              <span>内框颜色</span>\r\n              <div style="flex: 1">\r\n                <input\r\n                  v-model="sharedState.phone.colorSettings.background"\r\n                  style="width: 100%"\r\n                  type="text"\r\n                  id="text-color-input"\r\n                  placeholder="颜色值"\r\n                />\r\n              </div>\r\n              <input v-model="sharedState.phone.colorSettings.background" type="color" class="color-picker" />\r\n            </div>\r\n            <div class="setting-item">\r\n              <span>侧边按钮</span>\r\n              <div style="flex: 1">\r\n                <input\r\n                  v-model="sharedState.phone.colorSettings.button"\r\n                  style="width: 100%"\r\n                  type="text"\r\n                  id="text-color-input"\r\n                  placeholder="颜色值"\r\n                />\r\n              </div>\r\n              <input v-model="sharedState.phone.colorSettings.button" type="color" class="color-picker" />\r\n            </div> '),(0,a.createElementVNode)('div',nn,[o[47]||(o[47]=(0,a.createElementVNode)('span',null,'user气泡',-1)),(0,a.createElementVNode)('div',an,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[6]||(o[6]=e=>(0,a.unref)(r).userBubble=e),style:{width:'100%'},type:'text',id:'text-color-input',placeholder:'颜色值'},null,512),[[a.vModelText,(0,a.unref)(r).userBubble]])]),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[7]||(o[7]=e=>(0,a.unref)(r).userBubble=e),type:'color',class:'color-picker'},null,512),[[a.vModelText,(0,a.unref)(r).userBubble]])]),(0,a.createElementVNode)('div',on,[o[48]||(o[48]=(0,a.createElementVNode)('span',null,'user字体',-1)),(0,a.createElementVNode)('div',rn,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[8]||(o[8]=e=>(0,a.unref)(r).userText=e),style:{width:'100%'},type:'text',id:'text-color-input',placeholder:'颜色值'},null,512),[[a.vModelText,(0,a.unref)(r).userText]])]),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[9]||(o[9]=e=>(0,a.unref)(r).userText=e),type:'color',class:'color-picker'},null,512),[[a.vModelText,(0,a.unref)(r).userText]])]),o[50]||(o[50]=(0,a.createElementVNode)('div',{style:{'font-size':'14px','text-align':'center'}},'右边的框点一下可以选颜色',-1))]),(0,a.createElementVNode)('fieldset',ln,[o[59]||(o[59]=(0,a.createElementVNode)('legend',null,'手机设置:',-1)),(0,a.createCommentVNode)(' 宽度高度，logo显示 '),(0,a.createCommentVNode)(' <div style="display: flex; width: 100%; align-items: center; gap: 5px">\r\n              <span>刘海图标</span>\r\n              <select class="QQ_chars-form-select" style="flex: 1">\r\n                <option value="不显示">不显示</option>\r\n                <option value="小米">小米</option>\r\n                <option value="华为">华为</option>\r\n              </select>\r\n            </div> '),(0,a.createElementVNode)('div',sn,[o[52]||(o[52]=(0,a.createElementVNode)('span',null,'导航按键',-1)),(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':o[10]||(o[10]=e=>(0,a.unref)(s).phone.navButton=e),class:'QQ_chars-form-select',style:{flex:'1'}},[...o[51]||(o[51]=[(0,a.createElementVNode)('option',{value:!1},'不显示',-1),(0,a.createElementVNode)('option',{value:!0},'显示',-1)])],512),[[a.vModelSelect,(0,a.unref)(s).phone.navButton]])]),(0,a.createElementVNode)('div',cn,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[11]||(o[11]=e=>p('width',-10)),style:{width:'1.5rem',height:'1.5rem'},viewBox:'0 0 1024 1024'},[...o[53]||(o[53]=[(0,a.createElementVNode)('path',{d:'M603.3 327.5l-246 178c-4.4 3.2-4.4 9.7 0 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z','p-id':'3334'},null,-1),(0,a.createElementVNode)('path',{d:'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z','p-id':'3335'},null,-1)])])),o[55]||(o[55]=(0,a.createElementVNode)('span',null,'手机宽度',-1)),(0,a.createElementVNode)('div',dn,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[12]||(o[12]=e=>(0,a.unref)(s).phone.width.now=e),style:{width:'100%'},type:'number'},null,512),[[a.vModelText,(0,a.unref)(s).phone.width.now]])]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[13]||(o[13]=e=>p('width',10)),style:{width:'1.5rem',height:'1.5rem',transform:'rotate(180deg)'},viewBox:'0 0 1024 1024'},[...o[54]||(o[54]=[(0,a.createElementVNode)('path',{d:'M603.3 327.5l-246 178c-4.4 3.2-4.4 9.7 0 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z','p-id':'3334'},null,-1),(0,a.createElementVNode)('path',{d:'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z','p-id':'3335'},null,-1)])]))]),(0,a.createElementVNode)('div',pn,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[14]||(o[14]=e=>p('height',-10)),style:{width:'1.5rem',height:'1.5rem'},viewBox:'0 0 1024 1024'},[...o[56]||(o[56]=[(0,a.createElementVNode)('path',{d:'M603.3 327.5l-246 178c-4.4 3.2-4.4 9.7 0 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z','p-id':'3334'},null,-1),(0,a.createElementVNode)('path',{d:'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z','p-id':'3335'},null,-1)])])),o[58]||(o[58]=(0,a.createElementVNode)('span',null,'手机高度',-1)),(0,a.createElementVNode)('div',hn,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[15]||(o[15]=e=>(0,a.unref)(s).phone.height.now=e),style:{width:'100%'},type:'number'},null,512),[[a.vModelText,(0,a.unref)(s).phone.height.now]])]),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[16]||(o[16]=e=>p('height',10)),style:{width:'1.5rem',height:'1.5rem',transform:'rotate(180deg)'},viewBox:'0 0 1024 1024'},[...o[57]||(o[57]=[(0,a.createElementVNode)('path',{d:'M603.3 327.5l-246 178c-4.4 3.2-4.4 9.7 0 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z','p-id':'3334'},null,-1),(0,a.createElementVNode)('path',{d:'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z','p-id':'3335'},null,-1)])]))])]),(0,a.createElementVNode)('fieldset',mn,[o[62]||(o[62]=(0,a.createElementVNode)('legend',null,'有新消息时:',-1)),(0,a.createElementVNode)('div',un,[o[60]||(o[60]=(0,a.createElementVNode)('span',null,'有格式自动弹出',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[17]||(o[17]=e=>(0,a.unref)(r).autoShow=e),checked:'',type:'checkbox',style:{width:'1rem',height:'1rem'}},null,512),[[a.vModelCheckbox,(0,a.unref)(r).autoShow]])]),(0,a.createElementVNode)('div',gn,[o[61]||(o[61]=(0,a.createElementVNode)('span',null,'无格式自动隐藏',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[18]||(o[18]=e=>(0,a.unref)(r).autoHide=e),checked:'',type:'checkbox',style:{width:'1rem',height:'1rem'}},null,512),[[a.vModelCheckbox,(0,a.unref)(r).autoHide]])]),o[63]||(o[63]=(0,a.createElementVNode)('div',{style:{'font-size':'12px',color:'gray','margin-top':'10px'}},'由于改了格式所以此项无效',-1))]),(0,a.createElementVNode)('fieldset',fn,[o[66]||(o[66]=(0,a.createElementVNode)('legend',null,'点击发送按钮时:',-1)),(0,a.createElementVNode)('div',vn,[o[64]||(o[64]=(0,a.createElementVNode)('span',null,'直接发送消息',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{type:'radio','onUpdate:modelValue':o[19]||(o[19]=e=>(0,a.unref)(r).sendModel=e),value:'normal'},null,512),[[a.vModelRadio,(0,a.unref)(r).sendModel]])]),(0,a.createElementVNode)('div',xn,[o[65]||(o[65]=(0,a.createElementVNode)('span',null,'把消息添加到酒馆输入框',-1)),(0,a.withDirectives)((0,a.createElementVNode)('input',{type:'radio','onUpdate:modelValue':o[20]||(o[20]=e=>(0,a.unref)(r).sendModel=e),value:'尾附'},null,512),[[a.vModelRadio,(0,a.unref)(r).sendModel]])])])]),(0,a.createElementVNode)('div',bn,[(0,a.createCommentVNode)(' <button @click="restoreColor()" id="randomcolor-setting-btn" style="background-color: #919bec; color: white">\r\n          默认\r\n        </button> '),(0,a.createElementVNode)('button',{onClick:o[21]||(o[21]=e=>c(!0)),id:'save-setting-btn'},'保存'),(0,a.createElementVNode)('button',{onClick:o[22]||(o[22]=e=>c(!1)),id:'cancel-setting-btn'},'取消')])],512),[[a.vShow,(0,a.unref)(s).phone.panel]])]),_:1}),(0,a.createVNode)(a.Transition,{name:'fade',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',yn,null,512),[[a.vShow,(0,a.unref)(s).QQ.panel||(0,a.unref)(s).phone.panel]])]),_:1}),(0,a.createVNode)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',wn,[(0,a.createElementVNode)('div',kn,[o[68]||(o[68]=(0,a.createElementVNode)('div',{style:{'text-align':'center','font-size':'24px'}},'角色管理面板',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:o[23]||(o[23]=e=>(0,a.unref)(s).QQ.panel=!1),style:{'margin-left':'auto'},class:'close-setting-btn',viewBox:'0 0 1024 1024',width:'24',height:'24'},[...o[67]||(o[67]=[(0,a.createElementVNode)('path',{d:'M512 421.490332 331.092592 240.582924C307.952518 217.442849 270.568889 217.442849 247.428814 240.582924 224.288739 263.722999 224.288739 301.106628 247.428814 324.246702L428.336222 505.154112 247.428814 686.061521C224.288739 709.201596 224.288739 746.585225 247.428814 769.7253 270.568889 792.865374 307.952518 792.865374 331.092592 769.7253L512 588.817891 692.907408 769.7253C716.047482 792.865374 753.431111 792.865374 776.571186 769.7253 799.711261 746.585225 799.711261 709.201596 776.571186 686.061521L595.663778 505.154112 776.571186 324.246702C799.711261 301.106628 799.711261 263.722999 776.571186 240.582924 753.431111 217.442849 716.047482 217.442849 692.907408 240.582924L512 421.490332Z',fill:'#666666'},null,-1)])]))]),(0,a.createElementVNode)('div',En,[(0,a.createCommentVNode)(' 角色列表将在这里动态生成 '),0==(0,a.unref)(t).length?((0,a.openBlock)(),(0,a.createElementBlock)('div',Qn,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',Vn,[...o[69]||(o[69]=[(0,a.createElementVNode)('path',{d:'M12 4.35418C12.7329 3.52375 13.8053 3 15 3C17.2091 3 19 4.79086 19 7C19 9.20914 17.2091 11 15 11C13.8053 11 12.7329 10.4762 12 9.64582M15 21H3V20C3 16.6863 5.68629 14 9 14C12.3137 14 15 16.6863 15 20V21ZM15 21H21V20C21 16.6863 18.3137 14 15 14C13.9071 14 12.8826 14.2922 12 14.8027',stroke:'#888','stroke-width':'2','stroke-linecap':'round','stroke-linejoin':'round'},null,-1)])])),o[70]||(o[70]=(0,a.createElementVNode)('p',{class:'QQ_chars-empty-text'},'暂无角色，请添加新角色',-1))])):(0,a.createCommentVNode)('v-if',!0),(0,a.createCommentVNode)(' v-for="(value, key) in sharedState.QQ.chars" '),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(t),e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',Nn,[(0,a.createElementVNode)('div',_n,[(0,a.createElementVNode)('div',zn,(0,a.toDisplayString)(e.name),1),(0,a.createElementVNode)('div',{class:(0,a.normalizeClass)(`QQ_chars-role-type ${e.class}`)},(0,a.toDisplayString)(e.showtype),3)]),(0,a.createElementVNode)('button',{onClick:t=>{return n=e,void(confirm(`确定要删除角色：${n.name}吗`)&&(console.log(`删除角色:${n.id}`),s.QQ.charini.removeSection(n.id),n.id in s.QQ.chars&&delete s.QQ.chars[n.id],s.QQ.saveChars()));var n},class:'QQ_chars-delete-btn'},'删除',8,Bn)]))),256))]),(0,a.createElementVNode)('div',Cn,[o[74]||(o[74]=(0,a.createElementVNode)('h3',{class:'QQ_chars-form-title'},'添加新角色',-1)),(0,a.createElementVNode)('div',Sn,[o[71]||(o[71]=(0,a.createElementVNode)('label',{class:'QQ_chars-form-label',for:'roleName'},'角色名称:',-1)),(0,a.createElementVNode)('div',Mn,[(0,a.withDirectives)((0,a.createElementVNode)('input',{'onUpdate:modelValue':o[24]||(o[24]=e=>(0,a.unref)(n).name=e),class:'QQ_chars-form-input',type:'text',id:'roleName',placeholder:'输入角色名称'},null,512),[[a.vModelText,(0,a.unref)(n).name]])])]),(0,a.createElementVNode)('div',jn,[o[73]||(o[73]=(0,a.createElementVNode)('label',{class:'QQ_chars-form-label',for:'roleType'},'角色类型:',-1)),(0,a.createElementVNode)('div',An,[(0,a.withDirectives)((0,a.createElementVNode)('select',{'onUpdate:modelValue':o[25]||(o[25]=e=>(0,a.unref)(n).type=e),class:'QQ_chars-form-select'},[...o[72]||(o[72]=[(0,a.createElementVNode)('option',{value:'friend'},'好友',-1),(0,a.createElementVNode)('option',{value:'Group'},'群聊',-1),(0,a.createElementVNode)('option',{value:'npc'},'NPC',-1)])],512),[[a.vModelSelect,(0,a.unref)(n).type]])])]),(0,a.createElementVNode)('button',{onClick:i,class:'QQ_chars-submit-btn',id:'addRoleBtn'},'添加角色')]),o[75]||(o[75]=(0,a.createElementVNode)('div',{style:{'font-size':'12px',color:'gray','margin-top':'10px'}},'修改角色后退出聊天重进,让手机重新加载',-1)),o[76]||(o[76]=(0,a.createElementVNode)('div',{style:{'font-size':'12px',color:'gray','margin-top':'3px'}},'角色其他信息点进聊天框右上角修改',-1))],512),[[a.vShow,(0,a.unref)(s).QQ.panel]])]),_:1})],4)),[[a.vShow,'QQ'==(0,a.unref)(s).phone.activeApp]])}};n(874);var Tn=n(993),Fn=n.n(Tn),$n=n(782),Hn=n.n($n),Ln=n(494),qn=n.n(Ln),In=n(193),Rn=n.n(In),Gn=n(325),On=n.n(Gn),Un=n(842),Pn=n.n(Un),Xn=n(685),Jn={};Jn.styleTagTransform=Pn(),Jn.setAttributes=Rn(),Jn.insert=qn().bind(null,'head'),Jn.domAPI=Hn(),Jn.insertStyleElement=On();Fn()(Xn.A,Jn);Xn.A&&Xn.A.locals&&Xn.A.locals;n(433);const Zn=(0,tt.A)(Dn,[['__scopeId','data-v-71e66e53']]),Wn={class:'rednote-postpage'},Yn={class:'rednote-postpage-top'},Kn={style:{'font-size':'16px',color:'#1d1d1d !important'}},ea={class:'rednote-postpage-content'},ta={style:{padding:'20px 8px 15px',width:'100%'}},na={class:'rednote-postpage-posttitle',style:{'font-size':'18px',color:'#1d1d1d !important'}},aa=['innerHTML'],oa={style:{'margin-top':'10px',color:'#8c8c8c !important','font-size':'12px'}},ra={style:{display:'flex','flex-direction':'column',gap:'25px',width:'100%'}},ia={class:'rednote-postpage-comment'},la={style:{'margin-top':'-4px',width:'100%'}},sa={style:{color:'#919191','text-overflow':'ellipsis',overflow:'hidden',flex:'1','font-size':'13px'}},ca={style:{'margin-top':'5px',color:'#1d1d1d !important','font-size':'14px'}},da={style:{display:'flex','align-items':'center','margin-top':'5px'}},pa={style:{color:'#8c8c8c','font-size':'12px'}},ha={style:{'margin-left':'auto'},viewBox:'0 0 1024 1024',width:'20',height:'20'},ma={style:{color:'#6a6a6a','margin-left':'5px','font-size':'13px'}},ua={class:'rednote-postpage-bottom'},ga={style:{flex:'1'}},fa={style:{display:'flex','align-items':'center',gap:'5px'}},va={style:{'white-space':'nowrap','max-width':'2.5rem',color:'#393939','text-overflow':'clip',overflow:'hidden','font-size':'12px'}},xa={style:{display:'flex','align-items':'center',gap:'5px'}},ba={style:{'white-space':'nowrap','max-width':'2.5rem',color:'#393939','text-overflow':'clip',overflow:'hidden','font-size':'12px'}},ya={style:{display:'flex','align-items':'center',gap:'5px'}},wa={style:{'white-space':'nowrap','max-width':'2.5rem',color:'#393939','text-overflow':'clip',overflow:'hidden','font-size':'12px'}},ka={__name:'post',props:['postContent'],setup(e){const t=e,n=(0,a.ref)('');function o(){if(s.generate||!n.value.match(/\S/))return;let e=s.QQ.cacheMsg.join('\n').trim();if(e+=`\n在${t.postContent.sender}发的小红书帖子${t.postContent.id}中评论:${n.value}`,'尾附'==s.phone.sendModel){const t=$('#send_textarea').val().trim()+e;return $('#send_textarea').val(t.trim()||'')[0].dispatchEvent(new Event('input',{bubbles:!0})),n.value='',void(s.QQ.cacheMsg=[])}triggerSlash(`/send ${e.trim()}|/trigger`),n.value='',s.QQ.cacheMsg=[]}return(e,r)=>((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:'slide-fade',persisted:''},{default:(0,a.withCtx)(()=>{return[(0,a.withDirectives)((0,a.createElementVNode)('div',Wn,[(0,a.createElementVNode)('div',Yn,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',{onClick:r[0]||(r[0]=e=>(0,a.unref)(s).RedNote.activePost=''),viewBox:'0 0 1024 1024',width:'15',height:'15'},[...r[2]||(r[2]=[(0,a.createElementVNode)('path',{d:'M771.988 947.44l-403.54-405.135c-15.95-15.95-15.95-43.065 0-60.61l406.73-406.73c17.545-15.95 19.14-43.065 3.19-60.61C770.393 4.785 759.228 0 746.468 0s-23.926 4.785-31.901 14.355l-9.57 9.57-457.77 459.365c-15.95 15.95-15.95 43.065 0 60.61l467.34 467.34c7.975 7.975 17.545 12.76 28.71 12.76 23.925 0 43.066-19.14 43.066-41.47 1.595-14.356-4.785-27.116-14.355-35.09z',fill:'#333333','p-id':'4540'},null,-1)])])),(0,a.createElementVNode)('div',{style:(0,a.normalizeStyle)(`background-image: url('${t.postContent.head}');\n            width: 30px;\n            height: 30px;\n            border-radius: 50%;\n            background-size: cover;\n            background-position: top center;\n            background-repeat: no-repeat;\n            background-color: black;\n            aspect-ratio: 1;\n            min-width: 30px;`)},null,4),(0,a.createElementVNode)('div',Kn,(0,a.toDisplayString)(t.postContent.sender),1),r[3]||(r[3]=(0,a.createElementVNode)('div',{style:{'margin-left':'auto',display:'flex','align-items':'center',gap:'10px'}},[(0,a.createElementVNode)('div',{style:{'margin-left':'auto','border-radius':'150px',border:'1px solid #c8b9bc',color:'#ce3d4a',padding:'2px 20px','font-size':'14px'}},' 关注 '),(0,a.createElementVNode)('svg',{viewBox:'0 0 1252 1024',width:'22',height:'22'},[(0,a.createElementVNode)('path',{d:'M789.325694 92.701516L1164.112805 483.412814c19.905234 20.758315 24.739362 31.279653-2.559244 59.715701L788.472612 936.114697V767.773294a71.09012 71.09012 0 0 0-71.09012-71.09012h-39.810467c-125.971692 0-424.550195 23.88628-597.157006 210.711115 32.132734-183.412509 120.568843-351.185192 252.512106-457.251651a615.640437 615.640437 0 0 1 356.019319-126.824773l32.417095-1.706163a71.09012 71.09012 0 0 0 67.109073-71.37448V92.701516M773.970228 0c-28.436048 0-56.872096 22.748838-56.872096 69.952678V250.237222l-32.132734 1.706162a682.46515 682.46515 0 0 0-398.104671 142.18024C142.689964 511.848862 27.239609 708.626314 0.509724 961.991501A54.881572 54.881572 0 0 0 46.860483 1023.697725a22.748838 22.748838 0 0 0 7.393372 0 48.056921 48.056921 0 0 0 43.507153-25.308083C236.244562 799.337307 532.26382 767.773294 677.572025 767.773294h39.810467v193.080765A59.715701 59.715701 0 0 0 776.529472 1023.697725a65.11855 65.11855 0 0 0 46.350758-20.758315l389.858217-412.038334c50.047444-52.037968 52.606689-106.066459 2.559244-158.104427L815.202497 17.91471A56.872096 56.872096 0 0 0 773.970228 0z','p-id':'7405',fill:'#333333'})])],-1))]),(0,a.createElementVNode)('div',ea,[(0,a.createElementVNode)('div',{class:'rednote-homepage-post-img',style:(0,a.normalizeStyle)(`padding: 5rem 3rem;background-color:${t.postContent.imgColor};color:${t.postContent.textColor};`)},(0,a.toDisplayString)(t.postContent.img),5),(0,a.createElementVNode)('div',ta,[(0,a.createElementVNode)('div',na,(0,a.toDisplayString)(t.postContent.title),1),(0,a.createElementVNode)('div',{style:{'font-size':'15px','margin-top':'10px',color:'#1d1d1d !important','letter-spacing':'1.5px','line-height':'1.6'},innerHTML:(e=t.postContent.content,e?e=(e=e.replace(/\\n/g,'<br>')).replace(/\[(img|vedio|bqb)/g,'<br>[$1'):'')},null,8,aa),(0,a.createElementVNode)('div',oa,(0,a.toDisplayString)(t.postContent.time),1),r[6]||(r[6]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#f7f7f7','margin-top':'15px','margin-bottom':'20px'}},null,-1)),(0,a.createElementVNode)('div',ra,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.postContent.comments||[],e=>((0,a.openBlock)(),(0,a.createElementBlock)('div',ia,[(0,a.createElementVNode)('div',{style:(0,a.normalizeStyle)(`background-image: url('${e.head}');\n                width: 30px;\n                height: 30px;\n                border-radius: 50%;\n                background-size: cover;\n                background-position: center top;\n                background-repeat: no-repeat;\n                background-color: black;\n                aspect-ratio: 1 / 1;\n                min-width: 30px;`)},null,4),(0,a.createElementVNode)('div',la,[(0,a.createElementVNode)('div',sa,(0,a.toDisplayString)(e.sender),1),(0,a.createElementVNode)('div',ca,(0,a.toDisplayString)(e.content),1),(0,a.createElementVNode)('div',da,[(0,a.createElementVNode)('div',pa,(0,a.toDisplayString)(e?.time||'未知时间'),1),r[5]||(r[5]=(0,a.createElementVNode)('div',{style:{color:'#636363','margin-left':'5px','font-size':'13px'}},'回复',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',ha,[...r[4]||(r[4]=[(0,a.createElementVNode)('path',{d:'M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z',fill:'#646464','p-id':'4875'},null,-1)])])),(0,a.createElementVNode)('div',ma,(0,a.toDisplayString)(e.like),1)])])]))),256))])])]),(0,a.createElementVNode)('div',ua,[(0,a.createElementVNode)('div',ga,[(0,a.withDirectives)((0,a.createElementVNode)('input',{onKeyup:(0,a.withKeys)(o,['enter']),'onUpdate:modelValue':r[1]||(r[1]=e=>(0,a.isRef)(n)?n.value=e:null),type:'text',placeholder:'说点什么...',style:{width:'100% !important','background-color':'#f5f5f5 !important','border-radius':'30px !important',padding:'5px 10px !important',border:'none !important','font-size':'13px !important',color:'black !important'}},null,544),[[a.vModelText,(0,a.unref)(n)]])]),(0,a.createElementVNode)('div',fa,[r[7]||(r[7]=(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'22',height:'22'},[(0,a.createElementVNode)('path',{d:'M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z',fill:'#393939','p-id':'4875'})],-1)),(0,a.createElementVNode)('div',va,(0,a.toDisplayString)(t.postContent.like),1)]),(0,a.createElementVNode)('div',xa,[r[8]||(r[8]=(0,a.createElementVNode)('svg',{viewBox:'0 0 1025 1024',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M512.118374 131.072L603.766374 317.44c20.48 41.472 59.392 70.144 104.96 76.8l205.824 30.208-148.992 145.92c-32.768 32.256-47.616 78.336-39.936 123.392l35.328 205.824-183.296-96.768c-19.968-10.752-42.496-16.384-65.024-16.384-22.528 0-45.056 5.632-65.024 16.384l-183.296 96.768 35.328-205.824c7.68-45.056-7.168-91.136-39.936-123.392L109.686374 424.448 314.998374 394.24c45.568-6.656 84.992-35.328 104.96-76.8l92.16-186.368m0-112.64c-20.48 0-41.472 10.752-51.712 32.256L346.742374 281.6c-8.192 16.896-24.576 29.184-43.52 31.744L49.270374 350.208C2.166374 357.376-16.777626 415.232 17.526374 449.024l183.808 180.224c13.312 13.312 19.968 32.256 16.384 51.2l-43.52 253.952c-6.144 37.376 23.552 67.584 56.832 67.584 8.704 0 17.92-2.048 27.136-6.656L484.982374 875.52c8.192-4.608 17.92-6.656 27.136-6.656 9.216 0 18.432 2.048 27.136 6.656l226.816 119.808c8.704 4.608 17.92 6.656 27.136 6.656 33.792 0 63.488-30.208 56.832-67.584l-43.52-253.952c-3.072-18.944 3.072-37.888 16.384-51.2l183.808-180.224c34.304-33.28 15.36-91.648-32.256-98.304l-253.952-36.864c-18.944-2.56-35.328-14.848-43.52-31.744L563.830374 50.688c-10.752-21.504-31.232-32.256-51.712-32.256z','p-id':'8508',fill:'#393939'})],-1)),(0,a.createElementVNode)('div',ba,(0,a.toDisplayString)(t.postContent.star),1)]),(0,a.createElementVNode)('div',ya,[r[9]||(r[9]=(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M405.97 530.4m-40.81 0a40.81 40.81 0 1 0 81.62 0 40.81 40.81 0 1 0-81.62 0Z','p-id':'10557'}),(0,a.createElementVNode)('path',{d:'M618.04 530.4m-40.81 0a40.81 40.81 0 1 0 81.62 0 40.81 40.81 0 1 0-81.62 0Z','p-id':'10558'}),(0,a.createElementVNode)('path',{d:'M512.01 959.33c-70.48 0-140.41-16.79-202.89-48.62H93.23V669.25c-18.96-50.4-28.56-103.26-28.56-157.26 0-246.66 200.68-447.32 447.34-447.32s447.32 200.66 447.32 447.32-200.66 447.34-447.32 447.34zM166.85 837.09h160.56l8.16 4.39c53.89 28.94 114.89 44.23 176.43 44.23 206.06 0 373.7-167.65 373.7-373.72 0-206.06-167.65-373.7-373.7-373.7-206.07 0-373.72 167.65-373.72 373.7 0 47.09 8.75 93.16 25.99 136.91l2.57 6.51v181.68z','p-id':'10559'})],-1)),(0,a.createElementVNode)('div',wa,(0,a.toDisplayString)(t.postContent.comment),1)])])],512),[[a.vShow,(0,a.unref)(s).RedNote.activePost==t.postContent.id]])];var e}),_:1}))}},Ea={class:'rednote-homepage-post'},Qa={class:'rednote-homepage-post-info'},Va={class:'rednote-homepage-post-title'},Na={class:'rednote-homepage-post-author'},_a={style:{color:'rgb(100, 100, 100)','font-size':'14px',flex:'1','text-overflow':'ellipsis',overflow:'hidden','white-space':'nowrap'}},za={style:{color:'#646464','font-size':'12px'}},Ba={__name:'card',props:['cardContent'],setup(e){const t=e;return(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',Ea,[(0,a.createElementVNode)('div',{class:'rednote-homepage-post-img',style:(0,a.normalizeStyle)(`background-color:${t.cardContent.imgColor};color:${t.cardContent.textColor};`)},(0,a.toDisplayString)(t.cardContent.img),5),(0,a.createElementVNode)('div',Qa,[(0,a.createElementVNode)('div',Va,(0,a.toDisplayString)(t.cardContent.title),1),(0,a.createElementVNode)('div',Na,[(0,a.createElementVNode)('div',{style:(0,a.normalizeStyle)(`background-image: url('${t.cardContent.head}');\n                  width: 25px;\n                  height: 25px;\n                  border-radius: 50%;\n                  background-size: cover;\n                  background-position: top center;\n                  background-repeat: no-repeat;\n                  background-color: black;\n                  aspect-ratio: 1;\n                  min-width: 25px;`)},null,4),(0,a.createElementVNode)('div',_a,(0,a.toDisplayString)(t.cardContent.sender),1),n[0]||(n[0]=(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z',fill:'#646464','p-id':'4875'})],-1)),(0,a.createElementVNode)('div',za,(0,a.toDisplayString)(t.cardContent.like),1)])])]))}},Ca={class:'rednote-homepage'},Sa={class:'rednote-homepage-top'},Ma={style:{width:'35px',height:'35px','border-radius':'50%','aspect-ratio':'1','min-width':'35px',display:'flex','align-items':'center','justify-content':'center'}},ja={viewBox:'0 0 1024 1024',width:'20',height:'20',style:{'margin-top':'-5px'}},Aa={class:'rednote-homepage-content'},Da={style:{display:'flex','flex-direction':'column',width:'100%'}},Ta={style:{display:'flex','flex-direction':'column',width:'100%'}},Fa={class:'rednote-homepage-bottom'},$a={class:'rednote-postpage-list',style:{width:'100%',height:'100%'}},Ha={__name:'RedNote',setup:e=>(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.withDirectives)((0,a.createElementVNode)('div',Ca,[(0,a.createElementVNode)('div',Sa,[(0,a.createElementVNode)('div',{onClick:t[0]||(t[0]=e=>(0,a.unref)(s).phone.activeApp='QQ'),class:'user_avatar',style:{width:'35px',height:'35px','border-radius':'50%','background-size':'cover','background-position':'top center','background-repeat':'no-repeat','background-color':'black','aspect-ratio':'1','min-width':'35px'}}),t[3]||(t[3]=(0,a.createStaticVNode)('<div style="display:flex;margin-bottom:-5px;flex:1;justify-content:space-evenly;"><div style="font-size:16px;color:rgb(100, 100, 100) !important;white-space:nowrap !important;">关注</div><div style="display:flex;flex-direction:column;gap:5px;align-items:center;color:black !important;white-space:nowrap !important;"><div>发现</div><div style="width:3rem;height:4px;background-color:#e73f4c;border-radius:10px;"></div></div><div style="font-size:16px;color:rgb(100, 100, 100) !important;white-space:nowrap !important;">同城</div></div>',1)),(0,a.createElementVNode)('div',Ma,[((0,a.openBlock)(),(0,a.createElementBlock)('svg',ja,[...t[2]||(t[2]=[(0,a.createElementVNode)('path',{d:'M704.448 648.768L956.48 900.736l-55.744 55.68L648.64 704.384a393.856 393.856 0 1 1 55.808-55.68z m-82.24-26.56a315.072 315.072 0 1 0-437.76-453.248 315.072 315.072 0 0 0 437.76 453.248z','p-id':'16026',fill:'#303030'},null,-1)])]))])]),(0,a.createElementVNode)('div',Aa,[(0,a.createElementVNode)('div',Da,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).RedNote.post.filter((_,e)=>e%2==0),e=>((0,a.openBlock)(),(0,a.createBlock)(Ba,{onClick:t=>{(0,a.unref)(s).RedNote.activePost=e.id,console.log(e.id)},cardContent:e},null,8,['onClick','cardContent']))),256))]),(0,a.createElementVNode)('div',Ta,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).RedNote.post.filter((_,e)=>e%2==1),e=>((0,a.openBlock)(),(0,a.createBlock)(Ba,{onClick:t=>{(0,a.unref)(s).RedNote.activePost=e.id,console.log(e.id)},cardContent:e},null,8,['onClick','cardContent']))),256))])]),(0,a.createElementVNode)('div',Fa,[t[5]||(t[5]=(0,a.createElementVNode)('div',{class:'rednote-homepage-bottom-button',style:{color:'black','font-size':'18px'}},'首页',-1)),t[6]||(t[6]=(0,a.createElementVNode)('div',{class:'rednote-homepage-bottom-button'},'市集',-1)),(0,a.createElementVNode)('div',{onClick:t[1]||(t[1]=e=>(0,a.unref)(s).phone.activeApp='QQ'),style:{width:'3rem',height:'40px','background-color':'#ea3e4a','border-radius':'9px',position:'relative'}},[...t[4]||(t[4]=[(0,a.createElementVNode)('div',{style:{width:'50%','background-color':'white',height:'4px',position:'absolute','border-radius':'5px',top:'50%',left:'50%',transform:'translate(-50%, -50%)'}},null,-1),(0,a.createElementVNode)('div',{style:{width:'50%','background-color':'white',height:'4px',position:'absolute','border-radius':'5px',top:'50%',left:'50%',transform:'translate(-50%, -50%) rotate(90deg)'}},null,-1)])]),t[7]||(t[7]=(0,a.createElementVNode)('div',{class:'rednote-homepage-bottom-button'},'消息',-1)),t[8]||(t[8]=(0,a.createElementVNode)('div',{class:'rednote-homepage-bottom-button'},'我的',-1))])],512),[[a.vShow,!(0,a.unref)(s).RedNote.activePost||0==(0,a.unref)(s).RedNote.post.length]]),(0,a.createVNode)(a.Transition,{name:'slide-fade',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',$a,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).RedNote.post,e=>((0,a.openBlock)(),(0,a.createBlock)(ka,{postContent:e},null,8,['postContent']))),256))],512),[[a.vShow,(0,a.unref)(s).RedNote.activePost]])]),_:1})],64))};n(246);const La=Ha,qa={class:'home-page'},Ia={class:'home-status'},Ra={class:'home-status__top'},Ga={class:'home-status__time'},Oa={class:'home-status__date'},Ua={class:'home-icons'},Pa=(0,a.defineComponent)({__name:'Home',setup(e){const t=(0,a.ref)(r());let n;(0,a.onMounted)(()=>{n=window.setInterval(()=>{t.value=r()},6e4)}),(0,a.onBeforeUnmount)(()=>{n&&clearInterval(n)});const o=e=>{s.phone.activeApp=e};function r(){const e=new Date;return`${e.getMonth()+1}月${e.getDate()}日 · ${['星期日','星期一','星期二','星期三','星期四','星期五','星期六'][e.getDay()]}`}return(e,n)=>((0,a.openBlock)(),(0,a.createElementBlock)('div',qa,[(0,a.createElementVNode)('div',Ia,[(0,a.createElementVNode)('div',Ra,[(0,a.createElementVNode)('div',Ga,(0,a.toDisplayString)((0,a.unref)(s).phone.time),1)]),(0,a.createElementVNode)('div',Oa,(0,a.toDisplayString)(t.value),1)]),(0,a.createElementVNode)('div',Ua,[(0,a.createElementVNode)('button',{class:'home-icon home-icon--qq',type:'button',onClick:n[0]||(n[0]=e=>o('QQ'))},[...n[2]||(n[2]=[(0,a.createElementVNode)('div',{class:'home-icon__badge'},'QQ',-1),(0,a.createElementVNode)('span',{class:'home-icon__label'},'QQ',-1)])]),(0,a.createElementVNode)('button',{class:'home-icon home-icon--rednote',type:'button',onClick:n[1]||(n[1]=e=>o('RedNote'))},[...n[3]||(n[3]=[(0,a.createElementVNode)('div',{class:'home-icon__badge'},'小红书',-1),(0,a.createElementVNode)('span',{class:'home-icon__label'},'小红书',-1)])]),n[4]||(n[4]=(0,a.createStaticVNode)('<button class="home-icon home-icon--settings" type="button" data-v-1e62f285><div class="home-icon__badge" data-v-1e62f285><svg class="home-icon__symbol" viewBox="0 0 24 24" aria-hidden="true" data-v-1e62f285><path d="M10.325 4.317a1.5 1.5 0 0 1 3.35 0l.095.668a1.5 1.5 0 0 0 2.18 1.135l.6-.347a1.5 1.5 0 0 1 2.052.555l1.252 2.168a1.5 1.5 0 0 1-.555 2.052l-.599.347a1.5 1.5 0 0 0 0 2.27l.599.347a1.5 1.5 0 0 1 .555 2.053l-1.252 2.167a1.5 1.5 0 0 1-2.052.555l-.6-.347a1.5 1.5 0 0 0-2.18 1.135l-.095.668a1.5 1.5 0 0 1-3.35 0l-.095-.668a1.5 1.5 0 0 0-2.18-1.135l-.6.347a1.5 1.5 0 0 1-2.052-.555l-1.252-2.167a1.5 1.5 0 0 1 .555-2.053l.599-.347a1.5 1.5 0 0 0 0-2.27l-.599-.347a1.5 1.5 0 0 1-.555-2.052l1.252-2.168a1.5 1.5 0 0 1 2.052-.555l.6.347a1.5 1.5 0 0 0 2.18-1.135zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" data-v-1e62f285></path></svg></div><span class="home-icon__label" data-v-1e62f285>设置</span></button>',1))]),n[5]||(n[5]=(0,a.createStaticVNode)('<div class="home-dock" data-v-1e62f285><div class="home-dock__icons" data-v-1e62f285><button class="home-dock__app home-dock__app--phone" type="button" aria-label="电话" data-v-1e62f285><svg class="home-dock__app-icon" viewBox="0 0 24 24" aria-hidden="true" data-v-1e62f285><path d="M18.36 15.7c-.82-.82-1.84-1.2-2.24-.8l-1.01 1.01c-.4.4-1.41.32-2.89-.83-1.21-.92-1.84-1.82-2.02-2.35-.18-.53-.1-.89.12-1.11l.91-.91c.4-.4.02-1.42-.8-2.24l-.69-.69c-.82-.82-1.52-1.14-2.06-.6L6.2 8.46c-.48.48-.76 1.14-.76 1.84 0 1.79 1.3 4.06 3.73 6.49 2.74 2.74 5.06 3.8 6.62 3.8.64 0 1.21-.24 1.62-.65l.47-.47c.54-.54.22-1.24-.6-2.06z" data-v-1e62f285></path></svg></button><button class="home-dock__app home-dock__app--message" type="button" aria-label="短信" data-v-1e62f285><svg class="home-dock__app-icon" viewBox="0 0 24 24" aria-hidden="true" data-v-1e62f285><path d="M20.5 4h-17A1.5 1.5 0 0 0 2 5.5v9A1.5 1.5 0 0 0 3.5 16h2.6L9 19.33a1 1 0 0 0 1.67-.74V16h9.83A1.5 1.5 0 0 0 22 14.5v-9A1.5 1.5 0 0 0 20.5 4zm-.5 2-8 5-8-5h16zm0 7h-9a1 1 0 0 0-1 1v1.38l-1.9-1.9a1 1 0 0 0-.7-.29H4V6.91l8 4.99 8-4.99V13z" data-v-1e62f285></path></svg></button><button class="home-dock__app home-dock__app--browser" type="button" aria-label="浏览器" data-v-1e62f285><svg class="home-dock__app-icon" viewBox="0 0 24 24" aria-hidden="true" data-v-1e62f285><path d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2zm6 10a6.58 6.58 0 0 1-.2 1.5h-3.33a15.574 15.574 0 0 0 .12-3h3.41A6.6 6.6 0 0 1 18 12zm-7.42 0a13.815 13.815 0 0 1 .17-2.49H13.3a13.848 13.848 0 0 1 .17 2.49 13.848 13.848 0 0 1-.17 2.49h-1.55A13.837 13.837 0 0 1 10.58 12zM14.41 7.5h-1.23A21.52 21.52 0 0 0 13 5.44 6.57 6.57 0 0 1 14.41 7.5zM9.78 14.5h1.23a21.52 21.52 0 0 0 .18 2.06A6.57 6.57 0 0 1 9.78 14.5zM8.67 12a15.574 15.574 0 0 0 .12 3H5.46A6.58 6.58 0 0 1 5.25 12a6.6 6.6 0 0 1 .21-1.5h3.41A15.574 15.574 0 0 0 8.67 12zM5.74 14.5h3.64A18.9 18.9 0 0 0 9.25 12a18.9 18.9 0 0 0 .13-2.5H5.74a8 8 0 0 1 0 5zm6.03-7h.46c.12.68.22 1.39.3 2.12h-1.06c.08-.73.18-1.44.3-2.12zm.46 7h-.46c-.12-.68-.22-1.39-.3-2.12h1.06c-.08.73-.18 1.44-.3 2.12zm1.03 2.06a6.57 6.57 0 0 1-1.41 2.06h1.23a21.52 21.52 0 0 0 .18-2.06zM18.26 9.5h-3.64A18.9 18.9 0 0 0 14.75 12a18.9 18.9 0 0 0-.13 2.5h3.64a8 8 0 0 1 0-5zM12 4a7.94 7.94 0 0 1 2.25.32 23.442 23.442 0 0 0-.73 1.68H10.5a23.442 23.442 0 0 0-.73-1.68A7.94 7.94 0 0 1 12 4zM9 4.4a21.52 21.52 0 0 0 .18 2.06H6.94A6.57 6.57 0 0 1 9 4.4zm-2.41 9.1h2.08A21.52 21.52 0 0 0 9 15.56 6.57 6.57 0 0 1 6.59 13.5zM12 20a8 8 0 0 1-2.25-.32 23.442 23.442 0 0 0 .73-1.68h2.62a23.442 23.442 0 0 0 .73 1.68A7.94 7.94 0 0 1 12 20zm3-1.4a21.52 21.52 0 0 0 .18-2.06h2.08A6.57 6.57 0 0 1 15 18.6z" data-v-1e62f285></path></svg></button><button class="home-dock__app home-dock__app--camera" type="button" aria-label="相机" data-v-1e62f285><svg class="home-dock__app-icon" viewBox="0 0 24 24" aria-hidden="true" data-v-1e62f285><path d="M20 6h-2.17l-.72-1.45A2 2 0 0 0 15.3 3H8.7a2 2 0 0 0-1.81 1.11L6.17 6H4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 13H4V8h3.05l1.1-2.21a.5.5 0 0 1 .45-.29h6.8a.5.5 0 0 1 .45.29L16.95 8H20z" data-v-1e62f285></path><path d="M12 9.5A4.5 4.5 0 1 0 16.5 14 4.51 4.51 0 0 0 12 9.5zm0 7A2.5 2.5 0 1 1 14.5 14 2.5 2.5 0 0 1 12 16.5z" data-v-1e62f285></path></svg></button></div><div class="home-dock__indicator" data-v-1e62f285></div></div>',1))]))}});n(315);const Xa=(0,tt.A)(Pa,[['__scopeId','data-v-1e62f285']]),Ja={class:'dinbu'},Za={id:'time',style:{'font-size':'12px'}},Wa={style:{display:'flex','align-items':'center','justify-self':'end',gap:'2px'}},Ya={viewBox:'0 0 1024 1024',width:'15',height:'15',style:{'justify-self':'end'}},Ka={class:'card-int',style:{'background-color':'white'}},eo={id:'Home_page'},to={id:'App_Page',style:{height:'100%'}},no={class:'twitter',id:'App_twitter',style:{display:'none'}},ao={class:'mimictwitter'},oo={style:{'margin-right':'8px','margin-top':'10px'}},ro={style:{display:'grid','grid-template-columns':'1fr 1fr 1fr','align-items':'center'}},io={viewBox:'0 0 24 24',style:{width:'24.73px',height:'54px','justify-self':'center'}},lo={style:{'margin-left':'auto',width:'24px',height:'24px'},viewBox:'0 0 1024 1024','aria-hidden':'true'},so={id:'QQ_div',style:{'background-color':'#eff3ff',width:'100%',height:'100%','box-sizing':'border-box',position:'relative'}},co={id:'RedNote_div',style:{'background-color':'#eff3ff',width:'100%',height:'100%'}},po={class:'discord',id:'App_discord',style:{display:'none',width:'100%',height:'100%'}},ho={class:'discord-homepage',style:{width:'100%',height:'100%'}},mo={class:'discord-top'},uo={'aria-hidden':'true',width:'20',height:'20',fill:'none',viewBox:'0 0 24 24',style:{'margin-left':'15px','margin-right':'10px'}},go={class:'page_button',style:{'background-color':'none'},id:'page_button'},fo={t:'1735485675807',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'9713',width:'16',height:'16',style:{display:'none'}},vo={__name:'index',setup(e){(0,a.useCssVars)(e=>({'250c7fc1':(0,a.unref)(y),'0c75f828':(0,a.unref)(b),b9767448:(0,a.unref)(x),'33c7f250':(0,a.unref)(t)})),console.log(`index.vue取到的user头像:${s.ST.userHead}`);const t=(0,a.computed)(()=>`url('${s.ST.userHead}')`),n=(0,a.ref)(null),o=(0,a.ref)(null);let r=!1,i=0,l=0,c=0,d=0,p=!1,h=!1,m=0;const u=e=>{e.target!=n.value&&e.target!=o.value||n.value&&(e.preventDefault(),console.log('开始拖动'),r=!0,h=!1,p='touchstart'===e.type,p&&e.touches.length>0?(i=e.touches[0].clientX,l=e.touches[0].clientY):(i=e.clientX,l=e.clientY),c=n.value.offsetLeft,d=n.value.offsetTop,p?$('body').on('touchmove',g):($('body').on('mousemove',g),$('body').on('mouseup',f)),e.preventDefault())},g=e=>{if(console.log('鼠标/触屏拖动中'),!r)return;let t,a;p&&e.touches.length>0?(t=e.touches[0].clientX,a=e.touches[0].clientY):(t=e.clientX,a=e.clientY);const o=t-i,s=a-l;(Math.abs(o)>5||Math.abs(s)>5)&&(h=!0,n.value.style.left=`${c+o}px`,n.value.style.top=`${d+s}px`),e.preventDefault()},f=()=>{console.log('停止拖动 (鼠标)'),r=!1,h=!1,$('body').off('mousemove',g),$('body').off('mouseup',f)},v=(e,t=!1)=>{if(console.log(`触屏结束,${t}`),r=!1,$('body').off('touchmove',g),!h){const n=(new Date).getTime(),a=n-m;a<300&&a>0&&t&&(s.phone.show=!s.phone.show,e.preventDefault()),m=n}h=!1},x=((0,a.computed)(()=>s.phone.colorSettings.background||'#1b1717'),(0,a.computed)(()=>`2px solid ${s.phone.colorSettings.border||'#810000'}`),(0,a.computed)(()=>s.phone.colorSettings.button||'#ce1212')),b=(0,a.computed)(()=>s.phone.width.now&&Number(s.phone.width.now)?s.phone.width.now>s.phone.width.max?`${s.phone.width.max}px`:s.phone.width.now<s.phone.width.min?`${s.phone.width.min}px`:`${s.phone.width.now}px`:'200px'),y=(0,a.computed)(()=>s.phone.height.now&&Number(s.phone.height.now)?s.phone.height.now>s.phone.height.max?`${s.phone.height.max}px`:s.phone.height.now<s.phone.height.min?`${s.phone.height.min}px`:`${s.phone.height.now}px`:`${s.phone.height.min}px`);function w(){console.log(`点击了returnPage:${s.phone.activeApp}`),console.log(`Chatid:${s.QQ.activeChatId}`),'QQ'==s.phone.activeApp?s.QQ.activeChatId&&''!=s.QQ.activeChatId?s.QQ.activeChatId=null:(console.log('切换APP'),s.phone.activeApp='RedNote'):'RedNote'==s.phone.activeApp&&(s.RedNote.activePost&&''!=s.RedNote.activePost?s.RedNote.activePost=null:s.phone.activeApp='QQ')}function k(){'QQ'==s.phone.activeApp?s.phone.activeApp='RedNote':s.phone.activeApp='QQ'}return(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:'popup',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',{class:(0,a.normalizeClass)('card'+((0,a.unref)(s).ST.isMobile?'':' card-pc')),id:'baibai_phone',ref_key:'cardRef',ref:n,onMousedown:u,onTouchstart:u,onTouchend:t[3]||(t[3]=e=>v(e,!1))},[t[30]||(t[30]=(0,a.createElementVNode)('div',{class:'btn1'},null,-1)),t[31]||(t[31]=(0,a.createElementVNode)('div',{class:'btn2'},null,-1)),t[32]||(t[32]=(0,a.createElementVNode)('div',{class:'btn3'},null,-1)),t[33]||(t[33]=(0,a.createElementVNode)('div',{class:'btn4'},null,-1)),(0,a.createElementVNode)('div',Ja,[(0,a.createElementVNode)('span',Za,(0,a.toDisplayString)((0,a.unref)(s).phone.time),1),(0,a.createElementVNode)('div',Wa,[t[5]||(t[5]=(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'16',height:'15'},[(0,a.createElementVNode)('path',{d:'M926.634667 294.912a32 32 0 1 1-39.936 50.005333C780.512 260.128 649.824 213.333333 512.053333 213.333333c-137.813333 0-268.544 46.826667-374.752 131.669334a32 32 0 1 1-39.936-50.005334C214.784 201.194667 359.562667 149.333333 512.053333 149.333333c152.437333 0 297.173333 51.818667 414.581334 145.578667z m-235.413334 298.133333a32 32 0 0 1-38.442666 51.178667A233.418667 233.418667 0 0 0 512.021333 597.333333c-51.541333 0-100.48 16.629333-140.8 46.912a32 32 0 1 1-38.442666-51.157333A297.408 297.408 0 0 1 512.021333 533.333333c65.504 0 127.893333 21.184 179.2 59.722667z m128-149.344a32 32 0 0 1-38.442666 51.168C703.829333 437.066667 610.378667 405.333333 512.032 405.333333c-98.368 0-191.850667 31.754667-268.8 89.578667a32 32 0 1 1-38.453333-51.157333C292.736 377.664 399.669333 341.333333 512.032 341.333333c112.32 0 219.242667 36.309333 307.189333 102.368zM512 853.333333a64 64 0 1 1 0-128 64 64 0 0 1 0 128z',fill:'currentColor'})],-1)),t[6]||(t[6]=(0,a.createElementVNode)('span',{style:{'font-size':'12px'}},'78%',-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',Ya,[...t[4]||(t[4]=[(0,a.createElementVNode)('path',{d:'M984.2 434.8c-5-2.9-8.2-8.2-8.2-13.9v-99.3c0-53.6-43.9-97.5-97.5-97.5h-781C43.9 224 0 267.9 0 321.5v380.9C0 756.1 43.9 800 97.5 800h780.9c53.6 0 97.5-43.9 97.5-97.5v-99.3c0-5.8 3.2-11 8.2-13.9 23.8-13.9 39.8-39.7 39.8-69.2v-16c0.1-29.6-15.9-55.5-39.7-69.3zM912 702.5c0 12-6.2 19.9-9.9 23.6-3.7 3.7-11.7 9.9-23.6 9.9h-781c-11.9 0-19.9-6.2-23.6-9.9-3.7-3.7-9.9-11.7-9.9-23.6v-381c0-11.9 6.2-19.9 9.9-23.6 3.7-3.7 11.7-9.9 23.6-9.9h780.9c11.9 0 19.9 6.2 23.6 9.9 3.7 3.7 9.9 11.7 9.9 23.6v381z','p-id':'4287',fill:'currentColor'},null,-1),(0,a.createElementVNode)('path',{d:'M736 344v336c0 8.8-7.2 16-16 16H112c-8.8 0-16-7.2-16-16V344c0-8.8 7.2-16 16-16h608c8.8 0 16 7.2 16 16z','p-id':'4288',fill:'currentColor'},null,-1)])]))])]),(0,a.createElementVNode)('div',Ka,[(0,a.withDirectives)((0,a.createElementVNode)('div',eo,[(0,a.createVNode)(Xa)],512),[[a.vShow,'home'==(0,a.unref)(s).phone.activeApp]]),(0,a.withDirectives)((0,a.createElementVNode)('div',to,[(0,a.createElementVNode)('div',no,[(0,a.createElementVNode)('div',ao,[(0,a.createElementVNode)('div',oo,[(0,a.createElementVNode)('div',ro,[t[9]||(t[9]=(0,a.createElementVNode)('div',{style:{'border-radius':'50%',width:'32px',height:'32px','margin-left':'7px'},class:'twitter-close-btn user_avatar'},null,-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',io,[...t[7]||(t[7]=[(0,a.createElementVNode)('g',null,[(0,a.createElementVNode)('path',{d:'M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'})],-1)])])),((0,a.openBlock)(),(0,a.createElementBlock)('svg',lo,[...t[8]||(t[8]=[(0,a.createElementVNode)('g',null,[(0,a.createElementVNode)('path',{d:'M596.992 512q0 34.016-24 59.008-12 12-27.488 18.496T512.992 596q-34.016 0-59.008-24.992-4.992-4.992-8.51199999-10.016t-6.49600001-11.008-4.992-12.512-3.48799999-12.992-1.50400001-12.512q0-35.00800001 24.992-59.488t59.488-24.512 59.488 24q7.008 8 12.992 17.504t8.512 20.512T596.96 512z m0 332q0 35.00800001-24 59.008-8 8-17.504 13.504t-20.512 8.512-22.016 3.008q-34.016 0-59.008-24.992-6.016-4.992-10.496-12t-7.488-14.496-4.992-16-2.016-16.512q0-35.00800001 24.992-59.488t59.488-24.51199999 59.488 24.99199999q11.008 11.008 17.504 27.008t6.496 32z m0-664.992q0 35.00800001-24 59.008-8 8-17.504 13.504t-20.512 8.512-22.016 3.00800001q-34.016 0-59.008-24.51200001T428.96 179.04000001t24.992-59.00800001q12-12 27.488-18.496t31.488-6.496q35.00800001 0 60 24.992 11.008 11.008 17.504 27.008t6.496 32z',fill:'#000000','p-id':'1477'})],-1)])]))]),t[10]||(t[10]=(0,a.createElementVNode)('div',{style:{'margin-top':'13px'}},null,-1)),t[11]||(t[11]=(0,a.createElementVNode)('div',{style:{display:'grid','grid-template-columns':'1fr 1fr','align-items':'center','justify-items':'center'}},[(0,a.createElementVNode)('span',{style:{color:'rgb(95, 111, 123)'}},'为你推荐'),(0,a.createElementVNode)('span',null,[(0,a.createElementVNode)('strong',null,'正在关注')])],-1)),t[12]||(t[12]=(0,a.createElementVNode)('div',{style:{'margin-top':'8px',display:'grid','grid-template-columns':'1fr 1fr','align-items':'center','justify-items':'center'}},[(0,a.createElementVNode)('div'),(0,a.createElementVNode)('div',{style:{'background-color':'rgb(29, 155, 240)',width:'100%',height:'4px','border-radius':'50px'}})],-1)),t[13]||(t[13]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'rgb(240, 244, 245)','margin-top':'2px'}},null,-1))]),t[14]||(t[14]=(0,a.createElementVNode)('div',{class:'twitter-content'},[(0,a.createCommentVNode)(' <div class="twitter_moment">\r\n                <img class="twitterhead" src="http://sharkpan.xyz/f/NMuv/QQ%E5%9B%BE%E7%89%8720241227022547.jpg"\r\n                  alt="加载失败" />\r\n                <div style="width: 100%; margin-left: 3px">\r\n                  <span><strong>这是名字</strong></span>\r\n                  <span style="color: rgb(95, 111, 123); font-size: 14px">· 1天</span>\r\n                  <div style="width: 100%; height: 6px"></div>\r\n                  <span>123123</span>\r\n                  <img src="http://sharkpan.xyz/f/z0WU5/mmexport1736971020657.gif" alt="加载失败"\r\n                    style="width: 100%; margin-top: 5px" />\r\n                </div>\r\n                <svg style="width: 18px; height: 18px; justify-self: end" viewBox="0 0 1024 1024">\r\n                  <g>\r\n                    <path\r\n                      d="M596.992 512q0 34.016-24 59.008-12 12-27.488 18.496T512.992 596q-34.016 0-59.008-24.992-4.992-4.992-8.51199999-10.016t-6.49600001-11.008-4.992-12.512-3.48799999-12.992-1.50400001-12.512q0-35.00800001 24.992-59.488t59.488-24.512 59.488 24q7.008 8 12.992 17.504t8.512 20.512T596.96 512z m0 332q0 35.00800001-24 59.008-8 8-17.504 13.504t-20.512 8.512-22.016 3.008q-34.016 0-59.008-24.992-6.016-4.992-10.496-12t-7.488-14.496-4.992-16-2.016-16.512q0-35.00800001 24.992-59.488t59.488-24.51199999 59.488 24.99199999q11.008 11.008 17.504 27.008t6.496 32z m0-664.992q0 35.00800001-24 59.008-8 8-17.504 13.504t-20.512 8.512-22.016 3.00800001q-34.016 0-59.008-24.51200001T428.96 179.04000001t24.992-59.00800001q12-12 27.488-18.496t31.488-6.496q35.00800001 0 60 24.992 11.008 11.008 17.504 27.008t6.496 32z"\r\n                      fill="#8a8a8a" p-id="1477"></path>\r\n                  </g>\r\n                </svg>\r\n                <div></div>\r\n                <div\r\n                  style="grid-column: span 2; display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; margin-top: 8px">\r\n                  <div style="display: flex; align-items: center">\r\n                    <svg viewBox="0 0 24 24" class="interactsvg">\r\n                      <g>\r\n                        <path\r\n                          d="M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01zm8.005-6c-3.317 0-6.005 2.69-6.005 6 0 3.37 2.77 6.08 6.138 6.01l.351-.01h1.761v2.3l5.087-2.81c1.951-1.08 3.163-3.13 3.163-5.36 0-3.39-2.744-6.13-6.129-6.13H9.756z">\r\n                        </path>\r\n                      </g>\r\n                    </svg>\r\n                    <span style="font-size: 13px; margin-left: 2px">39</span>\r\n                  </div>\r\n                  <div style="display: flex; align-items: center">\r\n                    <svg viewBox="0 0 24 24" class="interactsvg">\r\n                      <g>\r\n                        <path\r\n                          d="M4.5 3.88l4.432 4.14-1.364 1.46L5.5 7.55V16c0 1.1.896 2 2 2H13v2H7.5c-2.209 0-4-1.79-4-4V7.55L1.432 9.48.068 8.02 4.5 3.88zM16.5 6H11V4h5.5c2.209 0 4 1.79 4 4v8.45l2.068-1.93 1.364 1.46-4.432 4.14-4.432-4.14 1.364-1.46 2.068 1.93V8c0-1.1-.896-2-2-2z">\r\n                        </path>\r\n                      </g>\r\n                    </svg>\r\n                    <span style="font-size: 13px; margin-left: 2px">25</span>\r\n                  </div>\r\n                  <div style="display: flex; align-items: center">\r\n                    <svg viewBox="0 0 24 24" class="interactsvg">\r\n                      <g>\r\n                        <path\r\n                          d="M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z">\r\n                        </path>\r\n                      </g>\r\n                    </svg>\r\n                    <span style="font-size: 13px; margin-left: 2px">2761</span>\r\n                  </div>\r\n                  <div style="display: flex; align-items: center">\r\n                    <svg viewBox="0 0 24 24" class="interactsvg">\r\n                      <g>\r\n                        <path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z">\r\n                        </path>\r\n                      </g>\r\n                    </svg>\r\n                    <span style="font-size: 13px; margin-left: 2px">1.5万</span>\r\n                  </div>\r\n                </div>\r\n              </div> '),(0,a.createElementVNode)('hr')],-1))])]),(0,a.createVNode)(a.Transition,{name:'slide-fade',persisted:''},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)('div',so,[(0,a.createVNode)(Zn)],512),[[a.vShow,'QQ'==(0,a.unref)(s).phone.activeApp]])]),_:1}),(0,a.withDirectives)((0,a.createElementVNode)('div',co,[(0,a.createVNode)(La)],512),[[a.vShow,'RedNote'==(0,a.unref)(s).phone.activeApp]]),(0,a.createElementVNode)('div',po,[(0,a.createElementVNode)('div',ho,[(0,a.createElementVNode)('div',mo,[t[16]||(t[16]=(0,a.createElementVNode)('svg',{t:'1744127791511',class:'discord-top-return',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'3402',width:'28',height:'28'},[(0,a.createElementVNode)('path',{d:'M440.070244 831.562927c11.813463 0 23.601951-4.49561 32.593171-13.486829a45.980098 45.980098 0 0 0 0-65.161366l-198.730927-198.730927 589.674146 0.499512c24.001561 0 43.507512-19.431024 43.40761-43.40761 0-24.101463-19.480976-43.63239-43.507512-43.63239l-592.221659-0.574439 201.378342-201.378341a45.980098 45.980098 0 0 0 0-65.161366 45.980098 45.980098 0 0 0-65.186342 0L131.29678 476.734439a45.955122 45.955122 0 0 0-13.53678 33.16761v0.574439c0 13.361951 5.994146 25.300293 15.409951 33.292488l274.307122 274.332097c8.99122 8.966244 20.804683 13.461854 32.593171 13.461854z','p-id':'3403',fill:'#505058'})],-1)),((0,a.openBlock)(),(0,a.createElementBlock)('svg',uo,[...t[15]||(t[15]=[(0,a.createElementVNode)('path',{fill:'#313237','fill-rule':'evenodd',d:'M18.09 1.63c.4-.7 1.43-.7 1.82 0l3.96 6.9c.38.66-.12 1.47-.91 1.47h-7.92c-.79 0-1.3-.81-.91-1.48l3.96-6.9Zm.46 1.87h.9c.3 0 .52.26.5.55l-.22 2.02c-.01.16-.17.26-.33.23a1.92 1.92 0 0 0-.8 0c-.16.03-.32-.07-.33-.23l-.21-2.02a.5.5 0 0 1 .5-.55ZM19 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z','clip-rule':'evenodd',class:''},null,-1),(0,a.createElementVNode)('path',{fill:'#313237',d:'M14.8 3.34a.48.48 0 0 0-.24-.69A9.94 9.94 0 0 0 11 2c-4.97 0-9 3.58-9 8 0 1.5.47 2.91 1.28 4.11.14.21.12.49-.06.67l-1.51 1.51A1 1 0 0 0 2.4 18h5.1a.5.5 0 0 0 .49-.5c0-2.86 1.62-5.3 3.97-6.56.28-.15.38-.51.25-.8a2.86 2.86 0 0 1 .18-2.61l2.4-4.19ZM18.91 12.98a5.45 5.45 0 0 1 2.18 6.2c-.1.33-.09.68.1.96l.83 1.32a1 1 0 0 1-.84 1.54h-5.5A5.6 5.6 0 0 1 10 17.5a5.6 5.6 0 0 1 5.68-5.5c1.2 0 2.32.36 3.23.98Z',class:''},null,-1)])])),t[17]||(t[17]=(0,a.createElementVNode)('div',{class:'discord-top-title'},[(0,a.createElementVNode)('strong',null,'类脑ΟΔΥΣΣΕΙΑ')],-1)),t[18]||(t[18]=(0,a.createElementVNode)('div',{style:{display:'flex','align-items':'center','justify-content':'center','background-color':'#ebebeb','border-radius':'50%',height:'32px',width:'32px','margin-left':'auto','margin-right':'10px'}},[(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'16',height:'16'},[(0,a.createElementVNode)('path',{d:'M991.418182 972.8L791.272727 772.654545c79.127273-83.781818 130.327273-195.490909 130.327273-316.50909 0-251.345455-200.145455-451.490909-446.836364-451.49091C232.727273 0 32.581818 204.8 32.581818 451.490909s200.145455 451.490909 446.836364 451.490909c97.745455 0 190.836364-32.581818 265.309091-88.436363l200.145454 204.8 46.545455-46.545455zM102.4 451.490909c0-209.454545 167.563636-381.672727 377.018182-381.672727s377.018182 172.218182 377.018182 381.672727-172.218182 386.327273-381.672728 386.327273c-204.8 0-372.363636-172.218182-372.363636-386.327273z',fill:'#55565c','p-id':'12001'})])],-1))]),t[19]||(t[19]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#dcdcdc'}},null,-1)),t[20]||(t[20]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#d8d9db'}},null,-1)),t[21]||(t[21]=(0,a.createElementVNode)('div',{class:'discord-top-button'},[(0,a.createElementVNode)('div',{class:'sortbutton'},[(0,a.createElementVNode)('svg',{'aria-hidden':'true',role:'img',xmlns:'http://www.w3.org/2000/svg',width:'16',height:'16',fill:'none',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{fill:'#515256',d:'M16.3 21.7a1 1 0 0 0 1.4 0l4-4a1 1 0 0 0-1.4-1.4L18 18.58V3a1 1 0 1 0-2 0v15.59l-2.3-2.3a1 1 0 0 0-1.4 1.42l4 4ZM6.3 2.3a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L8 5.42V21a1 1 0 1 1-2 0V5.41l-2.3 2.3a1 1 0 0 1-1.4-1.42l4-4Z',class:''})]),(0,a.createElementVNode)('div',{style:{'font-size':'14px',color:'#515256'}},'排序 & 查看'),(0,a.createElementVNode)('svg',{'aria-hidden':'true',role:'img',xmlns:'http://www.w3.org/2000/svg',width:'20',fill:'none',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{fill:'#515256',d:'M5.3 9.3a1 1 0 0 1 1.4 0l5.3 5.29 5.3-5.3a1 1 0 1 1 1.4 1.42l-6 6a1 1 0 0 1-1.4 0l-6-6a1 1 0 0 1 0-1.42Z',class:''})])]),(0,a.createElementVNode)('div',{class:'tagbutton'},[(0,a.createElementVNode)('div',{style:{'font-size':'14px',color:'#515256'}},'标签'),(0,a.createElementVNode)('svg',{'aria-hidden':'true',role:'img',xmlns:'http://www.w3.org/2000/svg',width:'20',fill:'none',viewBox:'0 0 24 24'},[(0,a.createElementVNode)('path',{fill:'#515256',d:'M5.3 9.3a1 1 0 0 1 1.4 0l5.3 5.29 5.3-5.3a1 1 0 1 1 1.4 1.42l-6 6a1 1 0 0 1-1.4 0l-6-6a1 1 0 0 1 0-1.42Z',class:''})])])],-1)),t[22]||(t[22]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#dcdcdc'}},null,-1)),t[23]||(t[23]=(0,a.createElementVNode)('div',{style:{width:'100%',height:'1px','background-color':'#d8d9db'}},null,-1)),t[24]||(t[24]=(0,a.createElementVNode)('div',{class:'discord-cardlist'},[(0,a.createElementVNode)('div',{class:'discord-cardget'},[(0,a.createElementVNode)('span',null,'查看帖子')])],-1))]),t[25]||(t[25]=(0,a.createElementVNode)('div',{class:'discord-thread-list',style:{width:'100%',height:'100%',display:'none'}},null,-1))])],512),[[a.vShow,(0,a.unref)(s).phone.activeApp&&'home'!=(0,a.unref)(s).phone.activeApp]]),(0,a.withDirectives)((0,a.createElementVNode)('div',go,[t[28]||(t[28]=(0,a.createElementVNode)('div',{style:{width:'45px',display:'flex','justify-content':'center',height:'20px'}},[(0,a.createElementVNode)('svg',{viewBox:'0 0 1024 1024',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M810.666667 213.333333a42.666667 42.666667 0 0 1 42.368 37.674667L853.333333 256v274.304c0 79.274667-50.944 147.498667-120.490666 152.106667L725.333333 682.666667H273.706667l97.792 97.834666a42.666667 42.666667 0 0 1-56.32 63.872l-4.010667-3.541333-170.666667-170.666667a42.666667 42.666667 0 0 1 0-60.330666l170.666667-170.666667a42.666667 42.666667 0 0 1 63.872 56.32l-3.541333 4.010667L273.706667 597.333333H725.333333c19.584 0 39.936-24.618667 42.410667-59.861333l0.256-7.168V256a42.666667 42.666667 0 0 1 42.666667-42.666667z',fill:'#000000','p-id':'13502'})])],-1)),(0,a.createElementVNode)('div',{onClick:k,style:{width:'45px',display:'flex','justify-content':'center'}},[...t[26]||(t[26]=[(0,a.createElementVNode)('svg',{t:'1736242335450',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'8709',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M762.3 565.3c0-19 15.7-34.1 34.7-34.1 19 0 34.2 15.1 34.2 34.1v336.3c0 19-15.2 34.4-34.2 34.4H229.6c-19.1 0-34.7-15.4-34.7-34.4V565.3c0-19 15.7-34.1 34.7-34.1 18.6 0 34.2 15.1 34.2 34.1v301.9h498.5V565.3z m-638.2 9.3l388.8-387.8 389.3 387.8c13.2 13.2 35.2 13.2 48.4 0 13.4-13.2 13.4-35.1 0-48.3L538 114.1l-0.7-0.5c-13.4-13.2-35.2-13.2-48.6 0l-413 412.6c-13.6 13.2-13.6 35.1 0 48.3 13.2 13.2 35.2 13.2 48.4 0.1z',fill:'#231815','p-id':'8710'})],-1)])]),(0,a.createElementVNode)('div',{onClick:w,style:{width:'45px',display:'flex','justify-content':'center'}},[...t[27]||(t[27]=[(0,a.createElementVNode)('svg',{t:'1736242697753',class:'icon',viewBox:'0 0 1024 1024',version:'1.1',xmlns:'http://www.w3.org/2000/svg','p-id':'9742',width:'20',height:'20'},[(0,a.createElementVNode)('path',{d:'M622.650611 284.901749 447.745069 284.901749 447.745069 142.823869 63.980685 334.705038l383.76336 191.882192L447.744046 384.834762l189.391465 0c149.914358 0 224.855164 62.789045 224.855164 188.368158 0 129.928165-77.435627 194.876386-232.338602 194.876386L187.952184 768.079306l0 99.93199L634.146433 868.011296c211.184817 0 316.777737-95.104031 316.777737-285.311071C950.924169 384.178823 841.510224 284.901749 622.650611 284.901749z',fill:'#272636','p-id':'9743'})],-1)])])],512),[[a.vShow,(0,a.unref)(s).phone.navButton]])]),(0,a.createElementVNode)('div',{onDblclick:t[0]||(t[0]=e=>(0,a.unref)(s).phone.show=!(0,a.unref)(s).phone.show),onMousedown:u,onTouchstart:u,onTouchend:t[1]||(t[1]=e=>v(e,!0)),onClick:t[2]||(t[2]=e=>console.log(JSON.stringify((0,a.unref)(s).QQ.chars))),class:'top',ref_key:'topRef',ref:o,style:{display:'flex','align-items':'center','justify-content':'center'}},[((0,a.openBlock)(),(0,a.createElementBlock)('svg',fo,[...t[29]||(t[29]=[(0,a.createElementVNode)('path',{d:'M716.8 805.823147 716.8 384.709973c0-95.68256-77.544107-173.2608-173.216427-173.2608L56.664747 211.449173c-3.754667 0-6.795947 3.024213-6.795947 6.741333L49.8688 805.819733c0 3.71712 3.04128 6.72768 6.795947 6.72768l130.061653 0c3.754667 0 6.792533-3.027627 6.792533-6.765227L193.518933 344.562347c0-3.744427 3.04128-6.782293 6.795947-6.782293l279.68512 0c52.52096 0 95.112533 42.571093 95.112533 95.09888l0 372.8896c0 3.741013 3.037867 6.761813 6.772053 6.761813l128.146773 0c3.72736 0 6.772053-3.017387 6.772053-6.72768M454.15424 805.778773c0 3.744427-3.01056 6.76864-6.76864 6.76864L317.354667 812.547413c-3.754667 0-6.795947-3.027627-6.795947-6.76864L310.55872 452.348587c0-3.741013 3.04128-6.77888 6.795947-6.77888l130.030933 0c3.75808 0 6.76864 3.037867 6.76864 6.77888l0 353.447253L454.15424 805.778773zM974.134613 805.778773c0 3.744427-3.044693 6.76864-6.79936 6.76864l-130.000213 0c-3.764907 0-6.826667-3.027627-6.826667-6.76864L830.508373 218.251947c0-3.75808 3.06176-6.792533 6.826667-6.792533l130.000213 0c3.75808 0 6.79936 3.034453 6.79936 6.792533L974.134613 805.778773z',fill:'#ffffff','p-id':'9714'},null,-1)])]))],544),t[34]||(t[34]=(0,a.createElementVNode)('div',{id:'baibai_regexBubble_cache',style:{width:'0',height:'0',position:'absolute',display:'none'}},[(0,a.createCommentVNode)(' <template v-for="value of sharedState.regexBubble.list">\r\n          <teleport :to="value.to">\r\n            <bubble\r\n              v-for="msg in value.messages || []"\r\n              :bubble="msg"\r\n              :isGroup="`Group`"\r\n              :senderinfo="sharedState.QQ.chars[msg?.sender]"\r\n            ></bubble>\r\n          </teleport>\r\n        </template> ')],-1))],34),[[a.vShow,(0,a.unref)(s).phone.show]])]),_:1}))}};n(71),n(921);const xo=(0,tt.A)(vo,[['__scopeId','data-v-7306ef95']]),bo='<手机聊天格式>\r\n## 消息聊天\r\n    在正文中涉及手机聊天消息时,应按照以下格式输出\r\n    <msg>发送人|接收人|消息内容|时间</msg>\r\n    其中时间为 xx月xx日 HH:MM\r\n\r\n    ## 特殊消息格式\r\n    表情包: 消息内容为"[bqb-表情包名称]"\r\n    转账: 消息内容为"[zz-金额元]"\r\n    语音: 消息内容为"[yy-语音内容]"\r\n    音乐: 消息内容为"[music-歌名$歌手]"\r\n    图片/视频: 消息内容为"[img-内容描述]"\r\n\r\n    特殊消息均为独立消息,不可多个特殊消息合并为一条,也不可附带文字消息内容\r\n\r\n    ## 接收人\r\n    若是发送在群里的消息,则接收人为\'群:群号\'\r\n    如\'群:688888\'\r\n\r\n## 小红书帖子\r\n    角色可以发布小红书帖子来分享生活等,按以下格式输出\r\n    发帖格式: <rednote>帖子ID|发布者|一级标题|二级标题|帖子内容|时间MM-DD HH:MM|点赞数|收藏数|评论数</rednote>\r\n    评论格式: <rednote>帖子ID|评论人|评论内容|时间MM-DD HH:MM|该评论点赞数</rednote>\r\n    \r\n    参数解释:\r\n        帖子ID: 随机生成的六位英文数字，帖子的唯一标识，用于后续添加评论，ID唯一，多个帖子不可使用同一个ID\r\n        一级标题: 突出震撼效果\r\n        二级标题: 温馨实用\r\n        评论: 帖子发布需附带3到5个评论,若评论人非主要角色,则评论人都为\'momo\',即小红书的默认用户名,评论字数不少于20字\r\n\r\n示例:\r\n<msg>小红|{{user}}|早上好呀|05月07日 7:00</msg>\r\n<msg>小红|{{user}}|[zz-20元]|05月07日 7:00</msg>\r\n<msg>小红|{{user}}|请你吃早餐|05月07日 7:00</msg>\r\n<msg>小红|群:688888|大家早上好|05月07日 7:01</msg>\r\n<rednote>n9p4x7|小明|震惊！上班族10分钟做出米其林级别早餐|懒人必学：营养美味的快手早餐|作为一个经常赶时间的上班族，发现了这个超简单的早餐做法！只需要鸡蛋、吐司和芝士，10分钟就能做出营养丰富又卖相完美的早餐[img-精美早餐成品图]|10-18 18:42|234|67|32</rednote>\r\n<rednote>n9p4x7|小李|OMG！这个看起来好香啊，马上试试，感觉自己要变成大厨了！|10-18 18:45|12</rednote>\r\n\r\n## 注意\r\n    <user>发送的消息,需要在输出的正文使用正确格式复述一次\r\n    消息发送人或接收人如为<user>,应直接使用姓名,而非用"你"字代称\r\n</手机聊天格式>',yo='1111';async function wo(){await s.ST.worldInit(),console.log(`世界书名称:${s.ST.worldName}`),s.ST.userName=await triggerSlash('/pass {{user}}'),s.ST.userHead=await triggerSlash('/pass {{userAvatarPath}}')??'',s.ST.charName=await triggerSlash('/pass {{char}}'),s.ST.charHead=await triggerSlash('/pass {{charAvatarPath}}')??'',s.RedNote.randomHead='https://aguacloud.uk/f/zQPfg/2YSzwbdXs64VobO.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/wjJs6/4ESbWq4EHo1AQGX.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/YgqhW/EWS063x8fVXLeA0.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/DwOf2/M6SPlb1YtBY0y3O.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/qPLUz/q4S8ZopWux5bad9.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/g5KhR/20230411130021_0aca1.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/mA8hw/xDS5Eng0c21d7oE.thumb.1000_0.png\r\nhttps://aguacloud.uk/f/Q8esY/y9SYEV8pfbdXev4.thumb.1000_0.png\r\nhttps://aguacloud.uk/f/pjQtq/20230131141132_9c433.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/kXViL/V2S11zpOHmYYx7v.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/2jRTx/DWSPP318sdVV1P4.jpg\r\nhttps://aguacloud.uk/f/ORXHZ/aLSLLx53H0XXaeb.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/aAxfB/oVSqqJveHg443G9.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/Xr5hk/B8SVVm1xClwwMxd.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/bg3u6/3BSDW3znHzExmbj.thumb.1000_0.jpeg\r\nhttps://aguacloud.uk/f/AzEi1/20230131141540_e2389.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/19ptQ/20230131141447_a6c04.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/ep6fp/20230131141447_838af.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/BNgF7/20230131141540_92072.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/Jj9hO/20230325112808_307b9.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/lR4U9/20230325112808_aadc1.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/xYrTQ/20230325112808_08762.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/WapuQ/V2SoO7vDHm6NxOb.thumb.1000_0.jpg\r\nhttps://aguacloud.uk/f/5kWtp/1mSg09ZQSQVb3xe.thumb.1000_0.jpg'.split(/\r?\n/g),s.QQ.chars={},s.QQ.chathistory={},s.QQ.post=[],s.ST.isMobile=await SillyTavern.isMobile(),await async function(){const e={'手机-表情包':{name:'手机-表情包',enabled:!1,position:{type:'after_character_definition'},strategy:{type:'selective',keys:['此世界书仅存放数据,永不触发']},content:r},'手机-随机头像':{name:'手机-随机头像',enabled:!1,position:{type:'after_character_definition'},strategy:{type:'selective',keys:['此世界书仅存放数据,永不触发']},content:o},'手机-基本设置':{name:'手机-基本设置',enabled:!1,position:{type:'after_character_definition'},strategy:{type:'selective',keys:['此世界书仅存放数据,永不触发']},content:i},'手机-角色':{name:'手机-角色',enabled:!0,position:{type:'after_character_definition'},strategy:{type:'constant'},content:''},'手机-格式':{name:'手机-格式',enabled:!0,position:{type:'after_character_definition',order:3333},strategy:{type:'constant'},content:bo}};let t=!1;for(const n in e){const a=s.ST.getEntry([n],!0);a?a&&!a?.content&&(t=!0,await setLorebookEntries(s.ST.worldName,[{uid:a.uid,content:e[n].content}])):(t=!0,await createWorldbookEntries(s.ST.worldName,[e[n]]))}t&&(t=!1,await s.ST.worldInit());s.ST.entries=s.ST.entries.filter(e=>{let n=!1;return e.name.match(/手机-格式\d+-/)&&(n=!0,t=!0),!n});const n=s.ST.getEntry(['手机-角色'],!0);if(n?.content){const e=new l;e.loadText(n.content);let t=!1;for(const n of e.getAllSections()){if('群聊'!=e.readValue(n,'类型'))continue;const a=n.match(/[0-9a-zA-Z]+/);if(a&&a[0]==n&&6==n.length)continue;t=!0;let o=s.GetRandomId(6,!0);e.writeValue(o,'群名',n),e.getAllKeys(n).map(t=>{const a=e.readValue(n,t);e.writeValue(o,t,a)}),e.removeSection(n)}t&&(n.content=e.getAllText())}const a=s.ST.getEntry(['手机-界面基本设置'],!0);if(a?.content){console.log('存在旧的格式世界书!!!!!!!!!!!!');const e=new l,n=new l,o=s.ST.getEntry(['手机-基本设置'],!0);e.loadText(a.content),n.loadText(o.content);['外框颜色','内框颜色','侧边按钮'].map(t=>{const a=e.readValue('下面是基本设置',t);n.writeValue('基本设置',t,a)}),o.content=n.getAllText(),a.name='删除此项',s.ST.entries=s.ST.entries.filter(e=>'删除此项'!=e.name),t=!0}t&&await replaceWorldbook(s.ST.worldName,s.ST.entries)}(),await function(){let e=!1;const t=getTavernRegexes({scope:'character'});let n=t.some(e=>'/<PhoneAnalysis>[\\s\\S]+?<\\/PhoneAnalysis>/g'===e.find_regex);n||(t.push({id:'7df2d177-0e2d-4e42-b9c2-d849e00ad9fe',script_name:'隐藏手机思维链',enabled:!0,run_on_edit:!0,scope:'character',find_regex:'/<PhoneAnalysis>[\\s\\S]+?<\\/PhoneAnalysis>/g',replace_string:'',source:{user_input:!0,ai_output:!0,slash_command:!1,world_info:!1},destination:{display:!0,prompt:!0},min_depth:null,max_depth:null}),e=!0);let a=t.find(e=>'/<phone>[\\s\\S]+?<\\/phone>/g'===e.find_regex);a&&a.enabled&&(a.enabled=!1,e=!0);n=t.some(e=>'/(?:<msg>|<rednote>)([\\s\\S]+?)(?:<\\/msg>|<\\/rednote>)/g'===e.find_regex),n||(t.push({id:'d3d73027-2924-4951-ae16-4b7061dfd96f',script_name:'气泡正则1 - 添加代码块',enabled:!0,run_on_edit:!0,scope:'character',find_regex:'/(?:<msg>|<rednote>)([\\s\\S]+?)(?:<\\/msg>|<\\/rednote>)/g',replace_string:'```\n$0\n```',source:{user_input:!0,ai_output:!0,slash_command:!1,world_info:!1},destination:{display:!0,prompt:!1},min_depth:null,max_depth:null}),e=!0);n=t.some(e=>'/<\\/rednote>\\n*```\\n*```\\n*<rednote>/g'===e.find_regex),n||(t.push({id:'325ef7c5-da1e-4f64-89cc-1e39ef15a828',script_name:'气泡正则2 - 去除重复代码块 - 小红书',enabled:!0,run_on_edit:!0,scope:'character',find_regex:'/<\\/rednote>\\n*```\\n*```\\n*<rednote>/g',replace_string:'</rednote>\n<rednote>',source:{user_input:!0,ai_output:!0,slash_command:!1,world_info:!1},destination:{display:!0,prompt:!1},min_depth:null,max_depth:null}),e=!0);n=t.some(e=>'/<\\/msg>\\n*```\\n*```\\n*<msg>/g'===e.find_regex),n||(t.push({id:'f8d90bf0-5f5f-4964-8e86-9080e2430320',script_name:'气泡正则2 - 去除重复代码块 - 消息',enabled:!0,run_on_edit:!0,scope:'character',find_regex:'/<\\/msg>\\n*```\\n*```\\n*<msg>/g',replace_string:'</msg>\n<msg>',source:{user_input:!0,ai_output:!0,slash_command:!1,world_info:!1},destination:{display:!0,prompt:!1},min_depth:null,max_depth:null}),e=!0);e&&(replaceTavernRegexes(t,{scope:'character'}),console.log('自动创建了所需要的正则'))}(),await async function(){try{const e=s.ST.getEntry(['手机-基本设置'],!0);if(!e)return;const t=new l;t.loadText(e.content);const n=t.readValue('基本设置','世界书版本');if(!n||Number(yo)>Number(n)){let n=!1,a=s.ST.getEntry(['手机-格式'],!0);a&&(await setLorebookEntries(s.ST.worldName,[{uid:a.uid,content:bo,position:'after_character_definition',order:3333}]),n=!0);let o=s.ST.getEntry(['手机-规则重述'],!0);o&&(console.log(`删除世界书:${o.uid}`),await deleteLorebookEntries(s.ST.worldName,[o.uid])),n&&(t.writeValue('基本设置','世界书版本',yo),await setLorebookEntries(s.ST.worldName,[{uid:e.uid,content:t.getAllText()}]))}s.phone.colorSettings.background=t.readValue('基本设置','内框颜色'),s.phone.colorSettings.border=t.readValue('基本设置','外框颜色'),s.phone.colorSettings.button=t.readValue('基本设置','侧边按钮'),s.phone.sendModel=t.readValue('基本设置','发送模式')||'normal',s.phone.navButton=Boolean(t.readValue('基本设置','导航按键'));const a=t.readValue('基本设置','气泡颜色');a&&(s.QQ.default.bubble=a);const o=t.readValue('基本设置','字体颜色');o&&(s.QQ.default.text=o),console.log(`${JSON.stringify(s.phone.colorSettings)}`)}catch{}}(),await async function(){let e='';const t=s.ST.getEntry(['手机-表情包'],!0);if(!t)return;e=t.content;if(!e)return;e=e.replace(/http:\/\/sharkpan/g,'https://sharkpan'),e=e.replace(/--\n/g,'--');const n=new RegExp('(.+?)--(http.+)','g'),a=[...e.matchAll(n)];if(!a)return;for(const e of a)s.emoji[e[1]]=e[2];let o=s.ST.getEntry(['手机-发给Ai的表情包列表'],!0);const r=`<手机可使用的表情包列表>\n${JSON.stringify(Object.keys(s.emoji))}\n</手机可使用的表情包列表>`;if(!o)return void(o=await createWorldbookEntries(s.ST.worldName,[{name:'手机-发给Ai的表情包列表',enabled:!0,position:{type:'at_depth',role:'system',depth:4,order:3333},strategy:{type:'constant'},content:r}]));await setLorebookEntries(s.ST.worldName,[{uid:o.uid,content:r}])}(),await async function(){let e='';const t=s.ST.getEntry(['手机-随机头像'],!0);if(!t)return;e=t.content;if(!e)return;const n=e.trim().matchAll(/^http.+$/gm);for(const e of n){const t={url:e[0],count:0};s.RandomHead.push(t)}}(),await function(){let e=s.ST.getEntry(['手机-角色'],!0)?.content;if(!e)return;s.QQ.charini.loadText(e);for(const e of s.QQ.charini.getAllSections()){let t='';const n={};if('char'==e)t=s.ST.charName,n.name=t,n.head=s.QQ.charini.readValue(e,'头像')||s.ST.charHead;else{t=e;const a=s.QQ.charini.readValue(e,'群名');n.name=a||t,'char'==s.QQ.charini.readValue(e,'头像')?n.head=s.ST.charHead:n.head=s.QQ.charini.readValue(e,'头像')||s.GetRandomHead()}const{bgColor:a,textColor:o}=s.generateBubbleColor();n.bubble=s.QQ.charini.readValue(e,'气泡颜色')||a,n.text=s.QQ.charini.readValue(e,'字体颜色')||o,n.background=s.QQ.charini.readValue(e,'聊天壁纸')||'',n.phone=s.QQ.charini.readValue(e,'手机型号')||'隐藏机型',n.inputColor=s.QQ.charini.readValue(e,'输入框颜色')||'#FFFFFF';const r=s.QQ.charini.readValue(e,'类型');'群聊'==r?n.chartype='Group':'npc'==r.toLowerCase()?n.chartype='npc':n.chartype='friend','friend'==n.chartype&&s.QQ.charini.readValue(e,'备注')&&(n.name=s.QQ.charini.readValue(e,'备注')),s.QQ.chars[t]=n}}()}async function ko(e){const t=e.message;if(!t)return!1;let n=function(e){return e?e=e.replace(/<think[ing]*?>[\s\S]+?<\/think[ing]*?>/gi,''):''}(t);const a=n.matchAll(/([a-zA-Z]+\.[a-zA-Z]+)\((.+)\);/g);let o=!1;for(const t of a){const n=t[1],a=t[2].trim().replace(/^["']|["']$/g,'').split(/['"]\s*?,\s*?['"]/g);n.match(/qq|rednote/i)&&(o=!0,Eo(n,a,e))}return o}async function Eo(e,t,n){if(0!=t.length)if(('qq.private'==(e=e.toLowerCase())||'qq.group'==e)&&t.length>=4){let n='';const a=Qo(t[2]);for(const o of a){let a=!1;if('qq.private'==e){const e=t[0].match(new RegExp(`${s.ST.userName}和(.+?)的私聊`))||t[0].match(new RegExp(`(.+?)和${s.ST.userName}的私聊`));if(e)n=e[1],c(n);else{const e=t[0].match(/(.+?)和(.+?)的私聊/);if(!e)return;n=(`${e[1]}和${e[2]}的私聊`in s.QQ.chars||(e[2],e[1],s.QQ.chars),`${e[1]}和${e[2]}的私聊`),a=!0,o.chartype='Group',c(n,'Group',{banSend:!0})}}else n=t[0],c(n,'Group');let r='';r='qq.private'==e?a?'Group':'private':'Group',n in s.QQ.chathistory==0&&(s.QQ.chathistory[n]={chartype:r,msgs:[]}),o.sender=t[1]==s.ST.userName?'user':t[1],'content'in o==0&&(o.content=''),o.time=t[3];try{s.QQ.addMsg(n,o)}catch(e){console.log(`添加新消息时出现错误:${e}`)}}}else if('qq.setgroupname'==e&&t.length>=4){let e=!0;t[0]in s.QQ.chars==0&&(c(t[0],'Group'),e=!1);let n=`${t[2]}修改群名称为"${t[1]}"`;s.QQ.chars[t[0]].name=t[1],e&&n&&s.QQ.addMsg(t[0],{content:n,time:t[3],sender:'system',msgtype:'system'})}else if('qq.post'==e&&t.length>=4){let e=t[0],a=!1;if(s.QQ.post.map(t=>{t.id!=e||(a=!0)}),a){const t=await async function(e,t){if(!e||!e.message)return;let n='';for(;;){let e=!1;if(n=Math.random().toString(36).substring(2,8),s.QQ.post.map(t=>{t.id!=n||(e=!0)}),!e)break}console.log(`重新取到的ID:${n}`);const a=e.message.replaceAll(`'${t}'`,`'${n}'`);return await setChatMessages([{message_id:e.message_id,message:a}],{refresh:'all'}),n}(n,e)||'';if(!t)return;e=t}const o={id:e,sender:t[1],time:t[3],see:t[4],like:t[5],imgs:[],comment:[],content:''};let r=t[2];const i=r.matchAll(/\[(.+?)-(.+?)\]/g);for(const e of i)if(r=r.replace(e[0],''),'img'==e[1])o.imgs.push({imgtype:'img',content:e[2]});else if(e[2]in s.emoji){let t=s.emoji[e[2]];o.imgs.push({imgtype:'emoji',url:t})}else o.imgs.push({imgtype:'img',content:`AI编了个不存在的表情包:${e[2]}`});o.content=r,s.QQ.post.unshift(o)}else if('qq.comment'==e&&t.length>=3){const e=t[0],n=s.QQ.post.find(t=>t.id==e);if(!n)return;n.comment.push({sender:t[1],content:t[2]})}else if('rednote.post'==e&&t.length>=9){const e={id:t[0],sender:t[1],img:t[2],title:t[3],content:t[4],time:t[5],like:t[6],star:t[7],comment:t[8]};s.RedNote.addPost(e)}else if('rednote.comment'==e){const e=t[0],n=s.RedNote.post.find(t=>t.id==e);if(!n)return;let a='';const o=t[2]||'momo';a='user'==o||o==s.ST.userName?s.ST.userHead:o in s.QQ.chars&&s.QQ.chars[o]?.head||s.RedNote.getRandomHead();const r={content:t[1],sender:o,time:t[3],like:t[4],head:a};n.comments.unshift(r)}}function Qo(e){const t=e.match(/\[(.+?)-(.+?)\]/);if(!t)return[{msgtype:'text',content:e}];let n=t[1];if(['bqb','zz','yy','music','img'].includes(n)||(n='img'),'bqb'==n||'img'==n){const a=e.replace(t[0],'').trim();if('bqb'==n){if(s.emoji[t[2]]){const e=[];return a&&e.push({msgtype:'text',content:a}),e.push({msgtype:'emoji',emoji:s.emoji[t[2]]||'',additionalText:'',content:t[2]}),e}{const e=[];return a&&e.push({msgtype:'text',content:a}),e.push({msgtype:'img',additionalText:'',content:`AI编的表情包:\n${t[2]}`}),e}}return[{msgtype:'img',additionalText:a,content:t[2]}]}if('yy'==n)return[{msgtype:'voice',content:t[2],voicetime:Math.ceil(t[2].length/4).toString()}];if('music'==n){const e=t[2].split('$');return e.length<2?[{msgtype:'text',content:'##Ai输出格式错误了的歌曲分享'}]:[{msgtype:'music',song:e[0],singer:e[1],content:''}]}return'zz'==n?[{msgtype:'transfer',content:`转账${t[2]}`,count:t[2]}]:[{msgtype:'img',content:'未处理类型'}]}async function Vo(e){if(s.lock)triggerSlash('/echo 处理中,请稍后再试');else{s.lock=!0;try{s.backup();const t=await triggerSlash('/pass {{lastMessageId}}');if(!t)return s.QQ.chathistory={},s.QQ.post=[],s.RedNote.post=[],void(s.RedNote.activePost='');const n=await getChatMessages(`0-${t}`,{role:'assistant'});n.length>0&&(s.QQ.chathistory={},s.QQ.post=[],s.RedNote.post=[],s.RedNote.activePost='');for(const t of n){const n=await ko(t);e&&t.message_id==e&&(n&&s.phone.autoShow,!n&&s.phone.autoHide)}s.loadRead(),console.log(s.QQ.chathistory)}catch(e){}finally{s.lock=!1}}}async function No(e){e||(e=3);const t=await triggerSlash('/pass {{lastMessageId}}');if(!t)return void console.log('最新楼层为空');const n=await getChatMessages(`0-${t}`,{role:'assistant'});for(const e of n){const t=e.message;if(!t)continue;const n=[...t.matchAll(s.regexBubble.msgRegex)];if(n.length>0)for(const e of n){const t=e[1],n=e[2];let a='';n.indexOf('群:')>-1?a=n.replace('群:',''):t==s.ST.userName?a=n:n==s.ST.userName?a=t:(a=`${t}和${n}的私聊`,a in s.QQ.chars==0&&(a=`${n}和${t}的私聊`),c(a,'Group',{banSend:!0})),a||console.log(e[3]);const o=Qo(e[3]),r=e[4];for(const e of o)'content'in e==0&&(e.content=''),e.sender=t==s.ST.userName?'user':t,e.time=r,n.trim().indexOf('群:')>-1&&(e.chartype='Group',c(a,'Group')),t==s.ST.userName||n==s.ST.userName?(e.chartype='private',c(a)):(e.chartype='Group',c(a,'Group')),s.QQ.addMsg(a,e)}const a=[...t.matchAll(s.regexBubble.rednoteRegex)];for(const e of a){const t=e[1].split('|');if(0==t.length)continue;const n=t[0];if(9==t.length){const e={id:n,sender:t[1],img:t[2],title:t[3],content:t[4],time:t[5],like:t[6],star:t[7],comment:t[8]};s.RedNote.addPost(e)}else if(5==t.length){const e=s.RedNote.post.find(e=>e.id==n);if(!e)return;let a='';const o=t[1]||'momo';a='user'==o||o==s.ST.userName?s.ST.userHead:o in s.QQ.chars&&s.QQ.chars[o]?.head||s.RedNote.getRandomHead();const r={content:t[2],sender:o,time:t[3],like:t[4],head:a};e.comments.unshift(r)}}}for(let t=0;t<e&&!(n.length-1-t<0);t++){const e=n[n.length-1-t];await _o(e)}}async function _o(e){const t=e.message;if('string'!=typeof t||!t)return void console.log(`楼层:${e.message_id} message 为空或不是字符串`);if(!t.match(s.regexBubble.msgRegex)&&!t.match(s.regexBubble.rednoteRegex))return void console.log(`楼层:${e.message_id}正则匹配失败`);const n=retrieveDisplayedMessage(Number(e.message_id)).find('.baibai_regexBubble, pre:contains("<msg>"), pre:contains("<rednote>")');if(n.length<=0)return void console.log(`楼层:${e.message_id}没找到代码块`);for(const t of n){const n=t.textContent||'',o=[...n.matchAll(s.regexBubble.msgRegex)],r=[...n.matchAll(s.regexBubble.rednoteRegex)];if(o.length<=0&&r.length<=0)continue;const i=$(t),l=i.parent();if(o.length>0){const n=$('<div class="baibai_regexBubble">')[0];l.hasClass('TH-render')?(l.append(n),i.remove()):i.replaceWith(n);const r={message_id:e.message_id,message_name:'楼层气泡',messages:[],to:n};for(const e of o){const t=e[1],n=(e[2],Qo(e[3])),a=e[4];r.messages.length;for(const e of n)'content'in e==0&&(e.content=''),e.sender=t==s.ST.userName?'user':t,e.time=a,r.messages.push(e)}const c=(0,a.h)(a.Teleport,{to:r.to},(r.messages??[]).map(e=>(0,a.h)(ee,{bubble:e,isGroup:'Group',senderinfo:s.QQ.chars[e?.sender]})));(0,a.render)(c,t)}else if(r.length>0)for(const e of r){const n=e[1].split('|');if(0==n.length||9!=n.length)continue;const o=n[0],r=s.RedNote.post.find(e=>e.id===o);if(!r){console.error('没有找到对应的小红书帖子!');continue}const c=$('<div class="baibai_regexRedNote">')[0];l.hasClass('TH-render')?(l.append(c),i.remove()):i.replaceWith(c);const d=(0,a.h)(a.Teleport,{to:c},[(0,a.h)(Ba,{cardContent:r,onClick:()=>{s.RedNote.activePost=o,s.phone.show=!0,s.phone.activeApp='RedNote'}})]);(0,a.render)(d,t)}}return[]}console.log('手机加载了11.27 8:44');const zo=(0,a.createApp)(xo);async function Bo(){try{So(),Mo()}catch{}let e=await d.getData('height'),t=await d.getData('width');s.phone.navButton=Boolean(await d.getData('navButton')),e&&t||(s.ST.isMobile?(t=.85*($('#chat').width()||0),e=$('#chat').height()||0):(t=400,e=800)),s.phone.width.now=t||s.phone.height.min,s.phone.height.now=e||s.phone.width.min;const n=$('<div>').attr('script_id',getScriptId());$('body').append(n),zo.mount(n[0]),function(){try{if($(`head > div[script_id="${getScriptId()}"]`).length>0)return;const e=$('<div>').attr('script_id',getScriptId()).append($('head > style',document).clone());$('head').append(e)}catch{console.log('移动css样式时出错')}}()}async function Co(e,t){console.log(e),'消息生成完成'==e&&(s.generate=!1,console.log(`最新楼层:${t}`),t-=1),await Vo(t)}function So(){try{$(`head > div[script_id="${getScriptId()}"]`).remove()}catch{console.log('移除样式时出现错误')}}function Mo(){try{$(`div[script_id="${getScriptId()}"]`).remove()}catch{console.log('移除div时出现错误')}}function jo(){const e=new Date,t=`${String(e.getHours()).padStart(2,'0')}:${String(e.getMinutes()).padStart(2,'0')}`;s.phone.time=t}$(async()=>{try{appendInexistentScriptButtons([{name:'手机显隐切换',visible:!0},{name:'重新处理所有消息',visible:!0}]),await wo(),await Vo(),await Bo(),await No(),console.log('手机加载完成!!!!!!!!!!!!!!!!!'),console.log(`isMobile:${s.ST.isMobile}`),eventOn(tavern_events.CHARACTER_MESSAGE_RENDERED,()=>{console.log('消息渲染完成!!!!!'),No()}),eventOn(tavern_events.CHAT_CHANGED,()=>{Co('聊天切换'),No()}),eventOn(tavern_events.MESSAGE_UPDATED,()=>{Co('消息更新'),No()}),eventOn(tavern_events.GENERATION_ENDED,e=>Co('消息生成完成',e)),eventOn(tavern_events.MESSAGE_SWIPED,()=>{Co('消息切换'),No()}),eventOn(tavern_events.MESSAGE_DELETED,()=>{Co('消息删除'),No()}),eventOn(tavern_events.MESSAGE_SENT,()=>{console.log('消息已发送'),s.generate=!0}),eventOn(tavern_events.GENERATION_STOPPED,()=>{console.log('生成暂停'),s.generate=!1})}catch(e){console.error(e),toastr.error(`手机出现错误:${e}`)}}),eventOn(getButtonEvent('手机显隐切换'),()=>{s.phone.show=!s.phone.show}),eventOn(getButtonEvent('重新处理所有消息'),async()=>{await Vo()}),$(window).on('pagehide',()=>{console.log('触发了pagehide');try{zo.unmount(),So(),Mo()}catch{}}),setInterval(jo,1e3),jo();
